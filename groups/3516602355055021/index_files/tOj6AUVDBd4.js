if (self.CavalryLogger) { CavalryLogger.start_js(["OsyYO"]); }

__d("MuteMemberHelper",["Arbiter","PopoverAsyncMenu"],function(a,b,c,d,e,f){"use strict";var g="group_member_muted";a={emitMemberMuted:function(a){b("Arbiter").inform(g,{groupID:a})},refetchOnGroupMemberMuted:function(a,c){b("Arbiter").subscribe(g,function(b,d){d.groupID===c&&a._refetchMenu()})}};e.exports=a},null);
__d("RemoveGroupAppCTAHelper",["Arbiter"],function(a,b,c,d,e,f){"use strict";var g="group_app_cta_removed";a={emitGroupAppCTARemoved:function(a){b("Arbiter").inform(g,{groupPostID:a})},refetchOnGroupAppCTARemoved:function(a,c){b("Arbiter").subscribe(g,function(b,d){d.groupPostID===c&&a._refetchMenu()})}};e.exports=a},null);
__d("TurnOnMemberPostApprovalHelper",["Arbiter"],function(a,b,c,d,e,f){"use strict";var g="group_member_post_approval";a={emitMemberPostApproval:function(a){b("Arbiter").inform(g,{groupID:a})},refetchOnGroupMemberPostApproval:function(a,c){b("Arbiter").subscribe(g,function(b,d){d.groupID===c&&a._refetchMenu()})}};e.exports=a},null);
__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/inline_photo_pivots_chaining/events/",{})},null);
__d("EntstreamAttachmentRelatedShare",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","SubscribeButton","XPubcontentInlinePhotoPivotsEventsController","ge","getOrCreateDOMID","tidyEvent"],function(a,b,c,d,e,f,g,h){var i=2,j=3;a={loadSuggestedShowsPivotAttachment:function(a,c,d){var e=b("ge")(a);if(!e)return;var f=b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,g){f.unsubscribe();if(g.profile_id!==c.toString())return;b("Arbiter").inform("show_follow_click",{attachment:e,pageID:c,storyID:d})})},loadRelatedAttachment:function(a,c,d){var e=null;typeof a==="string"?e=b("ge")(a):e=a;if(!e)return;var f=b("Event").listen(e,"click",function(){f.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!1,share_id:d})}),g=b("Event").listen(e,"mousedown",function(a){(a.which===j||a.button===i)&&(g.remove(),b("Arbiter").inform("article_click",{attachment:e,global_share_id:c,is_right_click:!0}))})},loadInlineStoryPivotAttachment:function(a,c){var d=b("ge")(a);if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("photo_click",{attachment:d,storyid:c})})},loadRelatedGameAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}));b("tidyEvent")(b("Event").listen(d,"mousedown",function(a){(a.which===j||a.button===i)&&b("Arbiter").inform("game_click",{attachment:d,global_share_id:c})}))},loadRelatedLSCVideoAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform("video_click",{attachment:d,global_share_id:c})})},loadRelatedLSCInlineVideoAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("Event").listen(d,"click",function(){var a="^div._4-u2",e="_1d8v";a=b("DOM").scry(d,a);a=a.length===1?a[0]:null;var f=a.parentNode,g=f.previousSibling;while(!g)f=f.parentNode,g=f.previousSibling;if(!b("CSS").hasClass(g,e))var f=b("DOM").create("div",{className:e}),e=b("DOM").insertBefore(a.parentNode,f),a=e.length>=1?e[0]:null;else a=g;f=b("getOrCreateDOMID")(a);new(b("AsyncRequest"))().setURI("/ajax/flash/expand_inline.php").setData({share_id:c,target_div:f,max_width:470,max_height:264,replace_target_div:!0}).setMethod("GET").setReadOnly(!0).setRelativeTo(d.parentNode).send()})},loadRelatedEventsPivotAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("event_join",{attachment:d,event_id:c})}))},loadMapAttachment:function(a,c,d){a=typeof a==="string"?b("ge")(a):a;if(!a)return;var e=typeof c==="string"?b("ge")(c):c;if(!e)return;b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform("map_click",{attachment:e,story_id:d})}))},loadMapAttachmentActionButton:function(a,c){var d=typeof a==="string"?b("ge")(a):a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform("action_button_click",{button:d,story_id:c})}))},closeButton:function(a,c){b("Event").listen(a,"click",function(){b("DOM").remove(c)})},closeButtonPhotoPivots:function(a,c,d,e){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),f={story_id:d,search_query_type:e,event:"hide"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(f).send();b("DOM").remove(c)})},seeAllLinkPhotoPivots:function(a,c,d){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),e={story_id:c,search_query_type:d,event:"see_all"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(e).send()})},removeOldSuggestions:function(a){a=b("ge")(a);if(!a)return;var c=b("DOM").scry(a.parentNode,"._5d73");for(var a=1;a<c.length;a++)b("DOM").remove(c[a]);window.setTimeout(function(){b("CSS").show(c[0])},1e3)},showHiddenSuggestions:function(a){var c=b("Event").listen(a,"click",function(){c.remove();var d="^._1ui8";d=b("DOM").scry(a,d);if(!d)return;b("CSS").hide(d[0]);d=d[0].previousSibling;while(d)b("CSS").show(d),d=d.previousSibling})}};e.exports=a},null);
__d("coalesce",[],function(a,b,c,d,e,f){function a(){for(var a=0;a<arguments.length;++a)if((a<0||arguments.length<=a?void 0:arguments[a])!=null)return a<0||arguments.length<=a?void 0:arguments[a];return null}e.exports=a},null);
__d("OnVisible",["Arbiter","DOM","Event","Parent","Run","SubscriptionsHandler","Vector","ViewportBounds","coalesce","killswitch","queryThenMutateDOM"],function(a,b,c,d,e,f){"use strict";var g=[],h=0,i=[],j,k=null,l,m;function n(){g.forEach(function(a){a.remove()}),k&&(k.release(),k=null),h=0,g.length=0}function o(){if(!g.length){n();return}i.length=0;j=b("Vector").getScrollPosition().y;l=b("Vector").getViewportDimensions().y;m=b("ViewportBounds").getTop();var a=g.length;for(var c=0;c<a;++c){var d=g[c];isNaN(d.elementHeight)&&i.push(c);d.elementHeight=b("Vector").getElementDimensions(d.element).y;d.elementPos=b("Vector").getElementPosition(d.element);d.hidden=b("Parent").byClass(d.element,"hidden_elem");d.scrollArea&&(d.scrollAreaHeight=b("Vector").getElementDimensions(d.scrollArea).y,d.scrollAreaY=b("Vector").getElementPosition(d.scrollArea).y)}h=a}function p(){for(var a=Math.min(g.length,h)-1;a>=0;--a){var b=g[a];if(!b.elementPos||b.removed){g.splice(a,1);continue}if(b.hidden)continue;var c=b.buffer,d=!1,e=j+l+c,f=b.elementPos.y;if(e>f){var k=j+m-c,n=f+b.elementHeight;d=!b.strict||k<f&&e>n;if(d&&b.scrollArea){k=b.scrollAreaY+b.scrollAreaHeight+c;d=f>=b.scrollAreaY-c&&f<k}}(b.inverse?!d:d)&&(b.remove(),b.handler(i.indexOf(a)!==-1))}}function q(){r();if(g.length)return;k==null&&(k=new(b("SubscriptionsHandler"))(),k.addSubscriptions(b("Event").listen(window,"scroll",r),b("Event").listen(window,"resize",r),b("Arbiter").subscribe("dom-scroll",r)))}function r(){b("queryThenMutateDOM")(o,p,"OnVisible/positionCheck")}a=function(){function a(a,c,d,e,f,h){this.element=a,this.handler=c,this.strict=d,this.buffer=b("coalesce")(e,300),this.inverse=b("coalesce")(f,!1),this.scrollArea=h||null,this.scrollArea&&(this.scrollAreaListener=this.$1()),g.length===0&&(b("killswitch")("ON_VISIBLE_COMPONENT_CLEANUP")?b("Run").onLeave(n):b("Run").onCleanupOrLeave(a,n)),q(),g.push(this)}var c=a.prototype;c.remove=function(){if(this.removed)return;this.removed=!0;this.scrollAreaListener&&this.scrollAreaListener.remove()};c.reset=function(){this.elementHeight=null,this.removed=!1,this.scrollArea&&(this.scrollAreaListener=this.$1()),g.indexOf(this)===-1&&g.push(this),q()};c.setBuffer=function(a){this.buffer=a,r()};c.checkBuffer=function(){r()};c.getElement=function(){return this.element};c.$1=function(){return b("Event").listen(b("DOM").find(this.scrollArea,".uiScrollableAreaWrap"),"scroll",this.checkBuffer)};return a}();Object.assign(a,{checkBuffer:r});e.exports=a},null);
__d("UIPageletContentCache",[],function(a,b,c,d,e,f){a={cache:{},getContent:function(a){return a in this.cache?this.cache[a]:null},setContent:function(a,b){this.cache[a]=b}};e.exports=a},null);
__d("UIPagelet",["ActorURI","AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","UIPageletContentCache","URI","emptyFunction","ge","isElementNode"],function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(a,c,d){var e=a&&b("isElementNode")(a)?a.id:a;this._id=e||null;this._element=b("ge")(a||b("DOM").create("div"));this._src=c||null;this._context_data=d||{};this._data={};this._handler=b("emptyFunction");this._request=null;this._use_ajaxpipe=!1;this._use_post_request=!1;this._is_bundle=!0;this._allow_cross_page_transition=!1;this._append=!1;this._cache_content=!1;this._content_cache_key="";this._is_content_cached=null;this._constHeight=!1}var c=a.prototype;c.getElement=function(){return this._element};c.setHandler=function(a){this._handler=a;return this};c.go=function(a,b){arguments.length>=2||typeof a==="string"?(this._src=a,this._data=b||{}):arguments.length==1&&(this._data=a);this.refresh();return this};c.setAllowCrossPageTransition=function(a){this._allow_cross_page_transition=a;return this};c.setBundleOption=function(a){this._is_bundle=a;return this};c.setErrorHandler=function(a){this._errorHandler=a;return this};c.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};c.refresh=function(){if(this._use_ajaxpipe)b("ScriptPathState").setIsUIPageletRequest(!0),this._request=new(b("AjaxPipeRequest"))(this._id,this._src),this._request.setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler),this._errorHandler&&this._request.setErrorHandler(this._errorHandler),this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler),this._allowIrrelevantRequests!=null&&this._request.setAllowIrrelevantRequests(this._allowIrrelevantRequests);else{if(this._cache_content){var a=b("UIPageletContentCache").getContent(this._content_cache_key);if(a!==null){this.handleContent(a,!0);return this}}var c=function(a){this._request=null;a=b("HTML")(a.getPayload());this.handleContent(a);var c=a.getContent().contains("<iframe");!c&&this._cache_content&&b("UIPageletContentCache").setContent(this._content_cache_key,a)}.bind(this),d=this._displayCallback,e=this._finallyHandler;this._request=new(b("AsyncRequest"))(this._src).setMethod("GET").setReadOnly(!0).setOption("bundle",this._is_bundle).setHandler(function(a){d?d(c.bind(null,a),a):c(a),e&&e(a)});this._errorHandler&&this._request.setErrorHandler(this._errorHandler);this.transportErrorHandler&&this._request.setTransportErrorHandler(this.transportErrorHandler);this._use_post_request&&this._request.setMethod("POST")}a=babelHelpers["extends"]({},this._context_data,this._data);this._actorID&&(a[b("ActorURI").PARAMETER_ACTOR]=this._actorID);this._request.setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(a)}).send();return this};c.handleContent=function(a,c){this._append?b("DOM").appendContent(this._element,a):b("DOM").setContent(this._element,a),c?(this._is_content_cached=!0,this._displayCallback(b("emptyFunction"))):this._is_content_cached=!1,this._handler!=null&&this._handler()};c.cancel=function(){this._request&&this._request.abort()};c.abandon=function(){this._request&&this._request.abandon()};c.setUseAjaxPipe=function(a){this._use_ajaxpipe=!!a;return this};c.setUsePostRequest=function(a){this._use_post_request=!!a;return this};c.setAppend=function(a){this._append=!!a;return this};c.setJSNonBlock=function(a){this._jsNonblock=!!a;return this};c.setAutomatic=function(a){this._automatic=!!a;return this};c.setDisplayCallback=function(a){this._displayCallback=a;return this};c.setConstHeight=function(a){this._constHeight=!!a;return this};c.setFinallyHandler=function(a){this._finallyHandler=a;return this};c.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};c.setActorID=function(a){this._actorID=a;return this};c.setCacheContent=function(a){this._cache_content=a;return this};c.setContentCacheKey=function(a){this._content_cache_key=a;return this};c.isContentCached=function(){return this._is_content_cached};a.appendToInline=function(a,c){a=b("ge")(a);c=b("ge")(c);if(a&&c){while(c.firstChild)b("DOM").appendContent(a,c.firstChild);b("DOM").remove(c)}};a.loadFromEndpoint=function(c,d,e,f){f=f||{};var h="/ajax/pagelet/generic.php/"+c;f.intern&&(h="/intern"+h);f.query&&(h=h+"?"+f.query);h=new(g||(g=b("URI")))(h.replace(/\/+/g,"/"));f.subdomain&&h.setSubdomain(f.subdomain);var i=!1,j="";f.contentCacheKey&&(i=!0,j=c+","+String(f.contentCacheKey));c=new a(d,h,e).setUseAjaxPipe(f.usePipe).setBundleOption(f.bundle!==!1).setAppend(f.append).setJSNonBlock(f.jsNonblock).setAutomatic(f.automatic).setDisplayCallback(f.displayCallback).setConstHeight(f.constHeight).setAllowCrossPageTransition(f.crossPage).setFinallyHandler(f.finallyHandler||b("emptyFunction")).setErrorHandler(f.errorHandler).setTransportErrorHandler(f.transportErrorHandler).setAllowIrrelevantRequests(f.allowIrrelevantRequests).setActorID(f.actorID).setCacheContent(i).setContentCacheKey(j).setUsePostRequest(f.usePostRequest);f.handler&&c.setHandler(f.handler);c.go();return c};a.loadFromEndpointBatched=function(c,d,e){var f=c.slice(0,e),g=c.slice(e);if(g.length>0){c=f[f.length-1];var h=b("emptyFunction");c.options&&c.options.finallyHandler&&(h=c.options.finallyHandler);c.options=babelHelpers["extends"]({},c.options,{finallyHandler:function(){h(),window.setTimeout(function(){a.loadFromEndpointBatched(g,d,e)},1)}})}f.forEach(function(b){a.loadFromEndpoint(b.controller,b.target_element,b.data,babelHelpers["extends"]({},b.options,d,{bundle:!0}))})};return a}();e.exports=a},null);
__d("ScrollingPager",["Arbiter","CSS","DOM","Event","OnVisible","UIPagelet","ge","tidyEvent"],function(a,b,c,d,e,f){var g={};a=function(){"use strict";function a(c,d,e,f,h){var i=this;this.$9=c;this.$7=d;this.$2=e;this.$5=f||{};this.$1=!1;this.$5.target_id?(this.$10=this.$5.target_id,this.$5.append=!0):this.$10=c;h&&b("tidyEvent")(b("Event").listen(h,"click",function(){i.getHandler()(!1);return!1}));this.$8=this.$5.scroll_area_id;this.$3=null;this.$5.fireOnScroll&&this.register();g[this.$9]=this;b("Arbiter").inform(a.CONSTRUCTED,{id:this.$9})}var c=a.prototype;c.setBuffer=function(a){this.$5.buffer=a,this.$4&&this.$4.setBuffer(a)};c.getBuffer=function(){return this.$5.buffer};c.getElement=function(){return b("ge")(this.$9)};c.register=function(){var a=this;if(this.$1)return;var c=this.getElement();if(!c)return;this.$4=new(b("OnVisible"))(c,function(b){a.getHandler()(b)},!1,this.$5.buffer,!1,b("ge")(this.$8));this.$1=!0};c.getInstance=function(a){return g[a]};c.getHandler=function(){if(this.$3)return this.$3;function a(c){var d=this,e=b("ge")(this.$9);if(!e){this.$4.remove();return}b("CSS").addClass(e.firstChild,"async_saving");var f=this.$5.handler,g=this.$5.force_remove_pager&&this.$9!==this.$10,a=function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];f&&f.apply(null,c);g&&b("DOM").remove(e);d.$6=null};this.$5.usePipe?this.$5.finallyHandler=a:this.$5.handler=a;c&&(this.$2.pager_fired_on_init=!0);this.$6=b("UIPagelet").loadFromEndpoint(this.$7,this.$10,this.$2,this.$5)}return a.bind(this)};c.setHandler=function(a){this.$3=a};c.removeOnVisible=function(){this.$4.remove()};c.checkBuffer=function(){this.$4&&this.$4.checkBuffer()};c.setOption=function(a,b){this.$5[a]=b};c.cancelPagelet=function(){this.$6&&(this.$6.cancel(),this.$6=null)};a.getInstance=function(a){return g[a]};return a}();a.CONSTRUCTED="ScrollingPager/constructed";e.exports=a},null);
__d("EntStreamGroupMall",["DOM","ScrollingPager","$","ge"],function(a,b,c,d,e,f){a={replacePager:function(a,c){b("DOM").setContent(b("$")("pagelet_group_pager"),a);if(c){a=b("ScrollingPager").getInstance(c);a&&a.register()}},replaceGroupFilesPager:function(a,c){b("DOM").setContent(b("$")(c),a)},replacePostApprovalSection:function(a){var c=b("ge")("pagelet_consolidate_posts");c!==null&&b("DOM").setContent(c,a)},replaceScheduledPostsSection:function(a){var c=b("ge")("pagelet_scheduled_posts");c!==null&&b("DOM").setContent(c,a)},closeInfoHeader:function(){b("DOM").remove(b("$")("info_header"))},replaceInfoHeader:function(a){b("DOM").replace(b("$")("info_header"),a)}};e.exports=a},null);
__d("GroupViewportDurationTracking",["csx","Banzai","StreamViewportTracking","ge","viewportTrackingBuilder"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=a.root_element_id||"pagelet_group_mall";d=b("ge")(d);return b("StreamViewportTracking").getBehavior(a,d,c)}var i=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.init=function(a){c.prototype.init.call(this,a)};d.getAllStoriesFromCache=function(){return this.behavior.getAllStories()};d.getSessionID=function(){return null};d.cleanup=function(){j.clearSingleton(),c.prototype.cleanup.call(this)};d.sendDataToLog=function(a,c){this.useBanzai&&b("Banzai").post("group_feed_tracking",c)};return a}(b("StreamViewportTracking")),j=b("viewportTrackingBuilder")(function(a){var b=new i(h(a,"._5pat"));b.init(a);return b});j.init=j.factory.bind(j);e.exports=j},null);
__d("AsyncStorage",["Deferred","mergeDeepInto","mergeHelpers"],function(a,b,c,d,e,f){"use strict";var g=b("mergeHelpers").ArrayStrategies,h=window.indexedDB,i=1,j="data",k=!1,l;c=Date.now();var m=new(b("Deferred"))();function a(){var a=h.open("AsyncStorage",i);a.onerror=function(a){a=new Error("Failed to open AsyncStorage IndexedDB instance.");m.reject(a)};a.onsuccess=function(a){k&&!1,l=a.target.result,m.resolve({db:l}),l.onerror=function(a){a=new Error("AsyncStorage error: "+a.target.error.message);m.reject(a)}};a.onupgradeneeded=function(a){a=a.currentTarget.result;if(a.objectStoreNames&&a.objectStoreNames.contains(j))return;a.createObjectStore(j,{keyPath:"key"})}}h&&a();function n(a,b){if(l)try{a()}catch(a){b&&b(a)}else m.getPromise().then(function(){k&&!1,n(a,b)},function(a){b&&b(a)})}d={setItem:function(a,b,c){this.multiSet([[a,b]],function(a){c(a&&a[0]||null)})},getItem:function(a,b){this.multiGet([a],function(a,c){c=c!==void 0&&c[0]!==void 0&&c[0][1]!==void 0?c[0][1]:null;b(a&&a[0]||null,c)})},removeItem:function(a,b){this.multiRemove([a],function(a){b(a&&a[0]||null)})},multiGet:function(a,b){var c=[];this._multiOp(a,"readonly",function(a){return b(a,c)},function(a){return a},function(a,b,d){b&&a===b.key?(k&&!1,c.push([a,b.value.value])):c.push([a,null])})},multiSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,c){if(b&&a[0]===b.key){var d=b.value;d.value=a[1];k&&!1;b.update(d)}else c.push(a)})},multiMerge:function(a,c){this._multiOp(a,"readwrite",c,function(a){return a[0]},function(a,c,d){if(c&&a[0]===c.key){var e=c.value,f=JSON.parse(e.value);b("mergeDeepInto")(f,JSON.parse(a[1]),g.Clobber);k&&!1;e.value=JSON.stringify(f);c.update(e)}else k&&!1,d.push(a)})},multiRemove:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a},function(a,b,c){b&&a===b.key&&(k&&!1,b["delete"]())})},getAllKeys:function(a){n(function(){var b=l.transaction([j],"readonly");b=b.objectStore(j).openCursor();var c=[];b.onsuccess=function(b){b=b.target.result;if(!b){a(null,c);return}c.push(b.key);b["continue"]()}},function(){return a(null,[])})},clear:function(a){n(function(){var b=l.transaction([j],"readwrite");b=b.objectStore(j).openCursor();b.onsuccess=function(b){b=b.target.result;if(!b){a(null);return}b["delete"]();b["continue"]()}},function(){return a(null)})},_multiOp:function(a,b,c,d,e){n(function(){var f=!1,g=a.slice().sort(function(a,b){a=d(a);b=d(b);if(a===b){var e=new Error("AsyncStorage._multiOp cannot process duplicate keys.");c&&c([e]);f=!0;return 0}return a<b?-1:1});if(f)return;var h=l.transaction([j],b),i=h.objectStore(j).openCursor(),m=[],n=0;i.onsuccess=function(a){a=a.target.result;if(!a){while(n<g.length)e(g[n],a,m),n++;o();return}var b=a.key;k&&!1;while(d(g[n])<=b){k&&!1;e(g[n],a,m);n++;if(n===g.length){o();return}}b=d(g[n]);a["continue"](b)};function o(){var a=h.objectStore(j);m.forEach(function(b){k&&!1,a.add({key:b[0],value:b[1]})})}h.oncomplete=function(){c&&c(null)};h.onerror=function(a){a=new Error("IndexedDB error: "+a.target.error.message);c&&c([a])};k&&!1},function(a){c&&c([a])})},_persistentWritesDisabled:!1,disablePersistentWrites:function(){this._persistentWritesDisabled=!0}};e.exports=d},null);
__d("ReactComposerStatusCache",["AsyncStorage","ComposedEntityMutabilityToName","ComposedEntityTypeToName","CurrentUser","DraftEntityInstance","EditorState","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerDispatcher","ReactComposerStatusActions","ReactComposerStatusActionType","ReactComposerStatusStore","decodeBlocks","encodeBlocks","mapObject","throttle"],function(a,b,c,d,e,f){"use strict";var g,h="ComposerStatus";a=function(){function a(a,c){var d=this;this.$1=null;this.$2=!1;this.cacheEditorState=b("throttle")(function(a,c){if(d.$2)return;a=a.getCurrentContent();if(!a.hasText()){d.remove(c);return}a=b("encodeBlocks")(a);b("AsyncStorage").setItem(d.$3(c),a,function(a){})},1e4);this.$1=b("ReactComposerDispatcher").register(function(e){if(e.composerID!==c)return;e.type===b("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED&&d.checkCacheAndSetEditorState(a,c);e.type===b("ReactComposerStatusActionType").SET_EDITOR_STATE&&d.cacheEditorState(e.editorState,a);e.type===b("ReactComposerActionTypes").POST_SUCCEEDED&&(d.remove(a),d.$2=!0)})}var c=a.prototype;c.unregister=function(){this.$1&&b("ReactComposerDispatcher").unregister(this.$1)};c.remove=function(a){b("AsyncStorage").removeItem(this.$3(a),function(){})};c.$3=function(a){return h+":"+b("CurrentUser").getID()+":"+a};c.checkCacheAndSetEditorState=function(a,c){this.checkCacheAndCallback(a,c,function(a){b("ReactComposerStatusActions").setEditorState(c,b("EditorState").createWithContent(a))})};c.checkCacheAndCallbackWithSnippet=function(a,b,c){this.checkCacheAndCallback(a,b,function(a){a=a.getPlainText();a.length>40&&(a=a.slice(0,40).trimEnd()+"...");c(a)})};c.checkCacheAndCallback=function(a,c,d){b("AsyncStorage").getItem(this.$3(a),function(a,e){if(e){a=b("ReactComposerStatusStore").getEditorState(c);a=a&&a.getCurrentContent();if(a&&a.hasText())return;a=(g||(g=b("mapObject")))(e.entityMap,function(a,c){return new(b("DraftEntityInstance"))({type:b("ComposedEntityTypeToName")[a.type],mutability:b("ComposedEntityMutabilityToName")[a.mutability],data:babelHelpers["extends"]({id:a.id},a.data)})});e=b("decodeBlocks")(e.blocks,a);d(e)}})};return a}();e.exports=a},null);
__d("XFRXHandleChevronClickController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/frx/handle_chevron_click/",{})},null);
__d("FRXHandleChevronClick",["AsyncRequest","Event","XFRXHandleChevronClickController"],function(a,b,c,d,e,f){"use strict";a={init:function(a,c,d,e){b("Event").listen(a,"click",function(){new(b("AsyncRequest"))().setURI(b("XFRXHandleChevronClickController").getURIBuilder().getURI()).setMethod("POST").setData({reportable_ent_id:c,frx_entry_point:d,nfx_story_location:e}).send()})}};e.exports=a},null);
__d("VideoWithClickToSnowlift",["Bootloader","logVideosClickTracking"],function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b,this.$1.addListener("clickVideo",this.$3.bind(this)),this.$1.hasSeenClick()&&this.$3()}var c=a.prototype;c.$3=function(){var a=this;if(this.$1.isFullscreen()){if(this.$1.getOption("VideoWithLiveBroadcast","isLive"))return;this.$1.isState("playing")?this.$1.pause("user_initiated"):(b("logVideosClickTracking")(this.$1.getVideoNode()),this.$1.play("user_initiated"))}else b("Bootloader").loadModules(["PhotoSnowlift"],function(b){return b.bootstrap(a.$2)},"VideoWithClickToSnowlift")};return a}();e.exports=a},null);
__d("CommercialBreakHostStoryComponentType",[],function(a,b,c,d,e,f){a=Object.freeze({POP_OVER_MENU:"POP_OVER_MENU",HOST_STORY_HEADER:"HOST_STORY_HEADER"});e.exports=a},null);
__d("StoryComponentVideoPlayerControllerRegistry",["CommercialBreakHostStoryComponentType","DOMQuery","EventEmitter"],function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map();function k(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function l(a,b){if(a===null)return null;var c=k(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=k(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}a={registerVideoPlayerController:function(a,c){var d=a.getVideoID(),e=h.get(d);e?e.push(a):(e=[a],h.set(d,e));d=null;c===b("CommercialBreakHostStoryComponentType").POP_OVER_MENU?d=this.findPopoverAsyncMenuForVideoPlayerController(a):c===b("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER&&(d=this.findHostStoryControllerForVideoPlayerController(a));if(!d)return;g.emit(d.getInstanceID()+"/register",a)},registerHostStoryController:function(a,b,c){var d=j.get(b);d?d.push(a):(d=[a],j.set(b,d));this.findVideoControllerForStoryController(a,b,c)},registerPopoverAsyncMenu:function(a,b){var c=b.host_video_id;if(!c)return;a=new m(a,b);b=a.getInstanceID();var d=i.get(c);d||(d=[],i.set(c,d));d.push(a);this._informStoryComponentRegister(a.getTriggerElem(),b,c,a.registerVideoPlayerController.bind(a))},_informStoryComponentRegister:function(a,b,c,d){g.addListener(b+"/register",d);d=this.findVideoPlayerControllerForElement(a,c);if(!d)return;g.emit(b+"/register",d)},findVideoPlayerControllerForElement:function(a,b){b=h.get(b);return!b?null:l(a,b.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")}).map(function(a){return[a.getRootNode(),a]}))},findPopoverAsyncMenuForVideoPlayerController:function(a){var b=i.get(a.getVideoID());return!b?null:l(a.getRootNode(),b.map(function(a){return[a.getTriggerElem(),a]}))},findHostStoryControllerForVideoPlayerController:function(a){var c=j.get(a.getVideoID());if(!c)return null;for(var d=0;d<c.length;d++){var e=c[d];if(b("DOMQuery").contains(e.getContainerElement(),a.getRootNode()))return e}return null},findVideoControllerForStoryController:function(a,c,d){g.addListener(a.getInstanceID()+"/register",d);d=h.get(c);if(!d)return;d=d.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")});for(var c=0;c<d.length;c++){var e=d[c];if(b("DOMQuery").contains(a.getContainerElement(),e.getRootNode())){g.emit(a.getInstanceID()+"/register",e);return}}}};var m=function(){function a(a,b){this._menu=a,this._originalEndpoint=this._menu._endpoint,this._additionalData=b}var b=a.prototype;b.registerVideoPlayerController=function(a){var b=this;a.addListener("commercialBreak/updateOptionMenuURI",function(a){b._updateEndpoint(a)});a.addListener("commercialBreak/recoverOptionMenuURI",function(){return b._updateEndpoint(b._originalEndpoint)})};b._updateEndpoint=function(a){var b=this._menu;b.setMenu(b._loadingMenu);b._setFocus(b._loadingMenu);b._endpoint=a;b._fetched&&(b._fetched=!1,b.fetchMenu())};b.getInstanceID=function(){return this._menu._instanceId.toString()};b.getTriggerElem=function(){return this._menu.getTriggerElem()};b.getOptionsButtonID=function(){return this._additionalData.options_button_id||""};return a}();e.exports=a},null);
__d("WorkDefaultGroupPostNux",["fbt","requireCond","SimpleNUXMessage","SimpleNUXMessageTypes","WorkActivationSimpleNuxTypedLogger","cr:1295623","gkx"],function(a,b,c,d,e,f,g){"use strict";a={maybeStartDefaultGroupNUX:function(a){if(!b("gkx")("1281635")||b("gkx")("1278017")||!b("cr:1295623"))return;var c=b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").WORK_ACTIVATION_GROUP_PREFILL),d=b("gkx")("1299270")?[{type:"unstyled",text:g._("Hi everyone, I've created this Workplace group for us to work together and share ideas.").toString()},{type:"unstyled",text:g._("What do you think we should use Workplace for?").toString()}]:[{type:"header-one",text:g._("I'm now on Workplace").toString()},{type:"unstyled",text:g._("Hi everyone! I've just joined Workplace. Say hi and \u0040mention me with anything I need to know.").toString()}];c||(b("cr:1295623").setPrefilledFormattedText(d,a),new(b("WorkActivationSimpleNuxTypedLogger"))().setEvent("impression").setSimpleNuxType(b("SimpleNUXMessageTypes").WORK_ACTIVATION_GROUP_PREFILL).addToExtraData("element","prefill").log(),b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").WORK_ACTIVATION_GROUP_PREFILL),new(b("WorkActivationSimpleNuxTypedLogger"))().setEvent("mark_as_seen").setSimpleNuxType(b("SimpleNUXMessageTypes").WORK_ACTIVATION_GROUP_PREFILL).log())}};e.exports=a},null);