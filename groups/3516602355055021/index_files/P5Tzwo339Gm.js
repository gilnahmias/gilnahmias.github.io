if (self.CavalryLogger) { CavalryLogger.start_js(["WMDmW"]); }

__d("MercuryIgnoredBlockedParticipants.re",["bs_curry","MercuryIgnoredBlockedParticipants.bs"],function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs,a,c,d);return a};f.qualifiesAs=a;c=function(a,c,d){a=b("bs_curry")._3(b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock,a,c,d);return a};f.shouldShowBlock=c},null);
__d("MessengerGroupUtils.bs",["MessengerView","SearchableEntry","MessengerActions","MessengerComposerActions"],function(a,b,c,d,e,f){"use strict";function a(a,c){a=a.filter(function(a,b,d){if(a==null)return!1;else return a.fbid!==c});a.forEach(function(a,c,d){c={uniqueID:a.fbid,title:a.name,auxiliaryData:0};d=new(b("SearchableEntry"))(c);b("MessengerComposerActions").addToken(d);return 0});b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);return 0}f.createGroupThread=a},null);
__d("MessengerGroupUtils.re",["bs_curry","MessengerGroupUtils.bs"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerGroupUtils.bs").createGroupThread,a,c);return a};f.createGroupThread=a},null);
__d("WorkForeignEntityInfo.re",["WorkForeignEntityInfo.bs"],function(a,b,c,d,e,f){a=b("WorkForeignEntityInfo.bs").isCoworker;f.isCoworker=a;c=b("WorkForeignEntityInfo.bs").areAllCoworkers;f.areAllCoworkers=c},null);
__d("WorkGalahadChangeChatPhotoMenuItem.react",["fbt","AsyncRequest","FileInputUploader","LayerFadeOnHide","MercuryConfig","MercuryIDs","React","WIGFileSelector.react","WorkGalahadAsyncStatefulActionHelper","WorkGalahadDropdownMenuItem.react","XMessagingSetThreadImageController","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=b("WorkGalahadAsyncStatefulActionHelper").useAsyncActionReducer;function a(a){var c=a.desc,d=a.icons,e=a.label,f=a.threadID;a=j();var l=a[0],m=l.error,n=l.isFailed;l=l.loading;var o=a[1],p=i(function(){o({type:"actionFailed",error:g._("There was an error in the uploading process.")})},[]),q=i(function(a,c){a=c.response.payload;a=(c=a.metadata[0])==null?void 0:c.image_id;if(!a)return;c=b("XMessagingSetThreadImageController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(f),thread_image_id:a}).setHandler(function(){o({type:"actionSuccess"})}).setErrorHandler(function(a){p()}).send()},[f]),r=i(function(a){a=a[0];if(!a)return;o({type:"startAction"});a=new(b("FileInputUploader"))().setFiles({file:a}).setURI(b("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});a.subscribe("success",q);a.subscribe("failure",p);a.send()},[f,q,p]),s=null;a=function(a){var c=a.children;return h.jsxs(h.Fragment,{children:[h.jsx(b("WIGFileSelector.react"),{onFilesSelected:r,accept:["image/*"],children:function(a){s=a;return c}}),h.jsx(k,{shown:n,onHide:function(){o({type:"reset"})},description:m})]})};return h.jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"chat-photo-upload",LinkRenderer:a,label:e,icons:d,desc:c,isLoading:l,hideOnClick:!1,onClick:function(){s&&s()}})}function k(a){var c=a.description,d=a.onHide;a=a.shown;return h.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,onHide:d,shown:a,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Failed to change group photo")}),h.jsx(b("XUIDialogBody.react"),{children:c}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]})}e.exports=a},null);
__d("WorkGalahadCreateGroupFromChatMenuItem.react",["fbt","JSResource","MessengerParticipants.re","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadCreateGroupFromChatDialog.react").__setRef("WorkGalahadCreateGroupFromChatMenuItem.react");function a(a){var c=a.thread;a=b("useWIGLazyDialog")(i);var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"create-group",icons:"group_plus",label:g._("Create Group"),onClick:function(){d({onClose:function(){},thread:c,participants:c.participants.map(b("MessengerParticipants.re").getNow).filter(Boolean)})}},"create-group")}e.exports=a},null);
__d("WorkGalahadDeleteChatMenuItem.react",["fbt","JSResource","MessagingTag","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadDeleteChatHistoryDialog.react").__setRef("WorkGalahadDeleteChatMenuItem.react"),j=b("JSResource")("WorkGalahadHideChatDialog.react").__setRef("WorkGalahadDeleteChatMenuItem.react"),k=function(a){var c=a.showDescription,d=a.showHideButton,e=a.thread;a=b("useWIGLazyDialog")(i);var f=a[0];a={label:g._("Delete Message History"),desc:g._("Delete your copy of this chat and all of the messages within it."),onClick:function(){f({showHideButton:d,thread:e,onClose:function(){}})}};if(!c){delete a.desc;return h.jsx(b("WIGDropdownMenuItem.react"),babelHelpers["extends"]({id:"delete-chat-history",icons:"trash"},a))}return h.jsx(b("WIGDropdownMenuItem.react"),babelHelpers["extends"]({id:"delete-chat-history"},a))},l=function(a){var c=a.thread;a=b("useWIGLazyDialog")(j);var d=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"hide-chat-permanently",label:g._("Permanently Hide"),desc:g._("This chat will move to 'Permanently Hidden'. It will stay there until you unhide it."),onClick:function(){d({thread:c,onClose:function(){}})}})};function a(a){a=a.thread;var c=a.folder===b("MessagingTag").OTHER;if(!a.is_subscribed||a.is_archived||c)return h.jsx(k,{showHideButton:!1,showDescription:!1,thread:a});var d=[];c||d.push(h.jsx(l,{thread:a},"hide-chat-permanently"));d.push(h.jsx(k,{showHideButton:!0,showDescription:!0,thread:a},"delete-chat-history"));return h.jsx(b("WIGDropdownMenuItem.react"),{id:"remove-chat",icons:"trash",label:g._("Remove Chat"),items:d},"remove-chat")}e.exports=a},null);
__d("WorkGalahadEditChatNameDropdownMenuItem.react",["fbt","JSResource","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("WorkGalahadRenameChatThreadDialog.react").__setRef("WorkGalahadEditChatNameDropdownMenuItem.react");function a(a){var c=a.onSave,d=a.previousThreadName;a=b("useWIGLazyDialog")(i);var e=a[0];return h.jsx(b("WIGDropdownMenuItem.react"),{id:"rename-chat",icons:"text",label:g._("Rename Chat"),hideOnClick:!1,onClick:function(){e({onSave:c,previousThreadName:d})}},"rename-chat")}e.exports=a},null);
__d("WorkGalahadEditChatNicknamesDropdownMenuItem.react",["fbt","CurrentUser","JSResource","MercuryThreadActions","MercuryThreadInfo","React","WIGDropdownMenuItem.react","useWIGLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("JSResource")("MWChatChangeNicknameDialog").__setRef("WorkGalahadEditChatNicknamesDropdownMenuItem.react");function a(a){var c=a.thread,d=babelHelpers.objectWithoutPropertiesLoose(a,["thread"]);a=b("useWIGLazyDialog")(i);var e=a[0];a=a[1];return h.jsx("div",{ref:a,children:h.jsx(b("WIGDropdownMenuItem.react"),{id:"edit-chat-nicknames",icons:"pencil_underline",label:g._("Edit Nicknames"),onClick:function(){var a;e(babelHelpers["extends"]({},d,{nicknames:(a=c.custom_nickname)!=null?a:{},onNicknameChange:function(a,d){b("MercuryThreadInfo").isEmptyLocalThread(c)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeThreadNicknames(c.thread_id,a,d,"thread_settings")}}))}},"edit-chat-nicknames")})}e.exports=a},null);
__d("WorkGalahadChatMenuHelper",["fbt","requireCond","Bootloader","CurrentUser","FollowButtonFollowMutation","FollowButtonUnfollowMutation","JSResource","MercuryIDs","MercuryIgnoredBlockedParticipants.re","MercuryThreadActions","MercuryThreadInfo","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerComposerActions","MessengerConfirmLeaveGroupDialogReact.re","MessengerDialogs.re","MessengerFRXBootloaderUtils","MessengerGroupUtils.re","MessengerLeaveGroupAction","MessengerParticipants.re","MessengerState.re","React","WIGDropdownMenuItem.react","WorkForeignEntityInfo.re","WorkGalahadChangeChatPhotoMenuItem.react","WorkGalahadCreateGroupFromChatMenuItem.react","WorkGalahadDeleteChatMenuItem.react","WorkGalahadDropdownMenuHelper","WorkGalahadEditChatNameDropdownMenuItem.react","WorkGalahadEditChatNicknamesDropdownMenuItem.react","cr:1278240","cr:1278241","formatDate","gkx","immutable","nullthrows","promiseDone","stylex","useWIGLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("MessengerConfirmLeaveGroupDialogReact.re").jsComponent,j=b("React"),k=b("JSResource")("WorkGalahadConfirmBlockThreadDialog.react").__setRef("WorkGalahadChatMenuHelper"),l=b("gkx")("1259767"),m={redLabel:{color:"eaqjevrq"},redLabelHovered:{color:"hk9qcz1a"}},n=3600,o={createMuteChatItems:function(a){var c=a==null?void 0:a.mute_until,d=g._("Mute chat"),e=g._("Pause notifications for messages"),f=o.isChatMuted(a);f&&(d=g._("Unmute chat"),e=function(a){a=a.hovered;return j.jsx("span",{className:(h||(h=b("stylex")))(m.redLabel,a&&m.redLabelHovered),children:c===-1?g._("Muted indefinitely"):g._("Muted until {date}",[g._param("date",b("formatDate")(c,{today:"g:ia",withinDay:"g:ia",thisYear:"M jS, g:ia",future:"M d, Y g:ia"}))])})});return f?[j.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-notification",label:d,desc:e,icons:"bell_null",onClick:function(){return o.unmuteChat(a)}},"chat-notification")]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-notification",label:d,desc:e,icons:"bell_null_cross",items:o.createChatMuteOptionsMenu(!0,function(b){o.muteChat(a,b)},a)},"chat-notification")]},isChatMuted:function(a){a=a==null?void 0:a.mute_until;return a!=null&&Number.isInteger(a)&&(a===-1||a*1e3>Date.now())},unmuteChat:function(a){if(a==null||!o.isChatMuted(a))return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,0)},muteChat:function(a,c){if(a==null)return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,c)},createGroupChatMuteExplanationItem:function(){return j.jsx(b("WIGDropdownMenuItem.react"),{id:"mention",label:g._("While muted, you'll still be notified about {\u0040mentions} in this chat.",[g._param("@mentions",j.jsx("strong",{children:"@mentions"}))]),isStatic:!0},"mention")},createChatMuteOptionsMenu:function(a,c,d){return[j.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("Mute this chat...")},"mute-chat-header")].concat(o.createChatMuteOptionItems(a,c,d)).concat(d!=null&&!d.is_canonical?[j.jsx(b("WIGDropdownMenuItem.react").Separator,{},"mute-chat-separator"),o.createGroupChatMuteExplanationItem()]:[])},createChatMuteOptionItems:function(a,c,d){return[j.jsx(d=b("WIGDropdownMenuItem.react"),{id:"chat-mute-1-hour",label:g._("For 1 hour"),onClick:function(){c(n)},navigateBackOnClick:a},"chat-mute-1-hour"),j.jsx(d,{id:"chat-mute-2-hour",label:g._("For 2 hours"),onClick:function(){c(2*n)},navigateBackOnClick:a},"chat-mute-2-hour"),j.jsx(d,{id:"chat-mute-until-tomorrow",label:g._("Until tomorrow at 8 am"),onClick:function(){var a=new Date(),b=a.getHours()>=8;b&&a.setDate(a.getDate()+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},navigateBackOnClick:a},"chat-mute-until-tomorrow"),j.jsx(d,{id:"chat-mute-next-week",label:g._("Until next week (Monday at 8 am)"),onClick:function(){var a=new Date();a.setDate(a.getDate()+(7-a.getDay())%7+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},navigateBackOnClick:a},"chat-mute-next-week"),j.jsx(d,{id:"chat-mute-until-changed",label:g._("Until I change it"),onClick:function(){c(-1)},navigateBackOnClick:a},"chat-mute-until-changed")]},useCustomizeItems:function(a){var c=[],d=b("useWIGLazyDialog")(b("JSResource")("WorkGalahadChangeColourDialog.react").__setRef("WorkGalahadChatMenuHelper")),e=d[0];d=b("useWIGLazyDialog")(b("JSResource")("WorkGalahadChangeEmojiDialog.react").__setRef("WorkGalahadChatMenuHelper"));var f=d[0];!a.is_canonical&&!a.work_associated_group&&(a.is_subscribed&&!a.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,b("CurrentUser").getAccountID())&&(b("gkx")("997564")||c.push(j.jsx(b("WorkGalahadEditChatNameDropdownMenuItem.react"),{previousThreadName:a.name,onSave:function(c){b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeGroupThreadName(a.thread_id,c)}},"rename-chat")),c.push(j.jsx(b("WorkGalahadChangeChatPhotoMenuItem.react"),{icons:"photo",label:g._("Change Chat Photo"),threadID:a.thread_id},"change-chat-photo"),j.jsx(b("WIGDropdownMenuItem.react").Separator,{},"customize-options-separator"))));a.customization_enabled&&(c.push(j.jsx(b("WorkGalahadEditChatNicknamesDropdownMenuItem.react"),{thread:a,participants:b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{})).toObject(),onClose:function(){}},"edit-chat-nicknames")),c.push(j.jsx(b("WIGDropdownMenuItem.react"),{id:"edit-chat-color",icons:"color",label:g._("Change Color"),onClick:function(){e({thread:a})}},"edit-chat-color")),c.push(j.jsx(b("WIGDropdownMenuItem.react"),{id:"change-chat-emoji",icons:"emoji",label:g._("Change Emoji"),onClick:function(){f({thread:a})}},"change-chat-emoji")));if(c.length===0)return[];d=a.is_canonical||a.work_associated_group?g._("Edit emoji, nicknames and more"):g._("Edit chat name, photo and more");return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"customize-chat",icons:"pencil",label:g._("Customize Chat"),desc:d,items:[j.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("Customize Chat")},"customize-chat-header")].concat(c)},"customize-chat")]},getOnHideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_pinned===!0&&c.unpin(a.thread_id);c.archive(a.thread_id);b("MessengerActions").selectThread(null)}},getOnUnhideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_archived===!0&&c.unarchive(a.thread_id);a.folder===b("MessagingTag").OTHER&&c.changeFolder(a.thread_id,b("MessagingTag").INBOX);b("MessengerActions").selectThread(a.thread_id)}},createHideChatItems:function(a){var c=a.folder===b("MessagingTag").OTHER;if(!a.is_archived&&!c)return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"hide-chat",label:l?g._("Archive"):g._("Hide Chat"),icons:l?"box":"hide",desc:l?null:g._("Hide this chat from your inbox"),onClick:this.getOnHideChatCallback(a)},"hide-chat")];else return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"unhide-chat",label:l?g._("Unarchive"):g._("Unhide Chat"),icons:"undo",desc:l?null:g._("Show this chat in your inbox"),onClick:this.getOnUnhideChatCallback(a)},"unhide-chat")]},createRemoveChatItems:function(a){return[j.jsx(b("WorkGalahadDeleteChatMenuItem.react"),{thread:a},"delete-chat-wrapper")]},useBlockMessagesItems:function(a){var c=b("useWIGLazyDialog")(k),d=c[0],e=b("CurrentUser").getID(),f=!1;b("MessengerState.re").compute(e,function(c){c=c.blocked_ids;f=b("MercuryIgnoredBlockedParticipants.re").qualifiesAs(e,c,a)});c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);c=c!=null?b("MessengerParticipants.re").getNow(c):null;if(c==null)return[];return!b("MercuryIgnoredBlockedParticipants.re").shouldShowBlock(a,e,c)?[]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"block-chat",icons:"friend_block",label:f?g._("Unblock Messages"):g._("Block Messages"),onClick:function(){f?b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unblockOnMessengerDotCom(a.thread_id):d({thread:a})}},"block-chat")]},createReportChatItems:function(a,c){var d=b("CurrentUser").getID();if(a.message_count===0||a.participants.length<=1)return[];return a.participants.map(function(a){return b("MessengerParticipants.re").getNow(a)}).find(function(a){return(a==null?void 0:a.id)!==b("MercuryIDs").getParticipantIDFromUserID(d)&&(a==null?void 0:a.user_type)!=="page"})==null?[]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"report-chat",icons:"report",label:g._("Report Chat"),desc:c?g._("Give feedback and report something a person has shared in this chat"):null,onClick:function(){a.is_canonical?b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id):b("Bootloader").loadModules(["WorkChatReportParticipantDialogReact.bs"],function(c){var e=c.jsComponent;b("MessengerDialogs.re").showDialog(function(){return j.jsx(e,{thread:a,participants:b("immutable").Map(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{})),viewer:d})})},"WorkGalahadChatMenuHelper")}},"report-chat")]},useChatPrivacySubMenuItems:function(a){var c=a.other_user_fbid===b("CurrentUser").getID(),d=b("MercuryThreadInfo").isEmptyLocalThread(a);if(!a.is_subscribed||c||d)return[];c=o.createReportChatItems(a,!0);return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([[].concat(c),[].concat(this.useBlockMessagesItems(a))])},createPrivacyItems:function(a){var c=o.useChatPrivacySubMenuItems(a);if(c.length===0)return[];return c.length===1?o.createReportChatItems(a,!1):[j.jsx(b("WIGDropdownMenuItem.react"),{id:"privacy-chat-options",icons:"privacy",label:g._("Privacy Options"),items:[j.jsx(b("WIGDropdownMenuItem.react").Header,{id:"privacy-options-header",label:g._("Privacy Options")},"privacy-options-header")].concat(c)},"privacy-chat-options")]},createAddMembersItems:function(a){return b("cr:1278240")?[j.jsx(b("cr:1278240"),{thread:a},"add-members")]:[]},createPinOrUnpinItems:function(a){if(!a.is_pinned&&(!a.is_subscribed||a.message_count===0))return[];if(!a.is_pinned)return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"pin-chat",icons:"pushpin",label:l?g._("Pin to Top"):g._("Pin Chat"),desc:l?null:g._("Pin this chat to the top of inbox"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).pin(a.thread_id,"menu_item_in_overflow_menu")}},"pin-unpin-chat")];else return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"unpin-chat",icons:"pushpin_slash",label:l?g._("Unpin"):g._("Unpin Chat"),desc:l?null:g._("Unpin this chat in your inbox"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unpin(a.thread_id,"menu_item_in_overflow_menu")}},"pin-unpin-chat")]},createFollowOrUnfollowItems:function(a,c){if(a.participants.length>2||a.other_user_fbid==null||!b("gkx")("997564"))return[];if(c==="CAN_SUBSCRIBE")return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"follow",icons:"follow",label:g._("Follow in News Feed"),onClick:function(){b("FollowButtonFollowMutation").commit(b("nullthrows")(a.other_user_fbid),"PROFILE")}},"follow")];else if(c==="IS_SUBSCRIBED")return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"unfollow",icons:"unfollow",label:g._("Unfollow in News Feed"),onClick:function(){b("FollowButtonUnfollowMutation").commit(b("nullthrows")(a.other_user_fbid),"PROFILE")}},"unfollow")];else return[]},createAdminOptionsItems:function(a){var c=b("MessengerAdminGroupUtils").isAdmin(a.admins,b("CurrentUser").getID());if(a.is_canonical||!c)return[];c=!b("MessengerAdminGroupUtils").isApprovalOpenThread(a);c=[j.jsx(b("WIGDropdownMenuItem.react").Header,{label:g._("Membership Approval")},"chat-admin-options-header"),j.jsx(b("WIGDropdownMenuItem.react").Radio,{id:"membership-approval-on",label:g._("On"),desc:g._("Admins can approve new people that are added by non-admins."),isChecked:c,onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(1,a)}},"membership-approval-on"),j.jsx(b("WIGDropdownMenuItem.react").Radio,{id:"membership-approval-off",label:g._("Off"),desc:g._("Any member can add new people to the chat without approval."),isChecked:!c,onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(0,a)}},"membership-approval-off")];var d=b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{}));d=!b("WorkForeignEntityInfo.re").areAllCoworkers(d);a.is_subscribed&&!a.work_associated_group&&!d&&(c.push(j.jsx(b("WIGDropdownMenuItem.react").Separator,{},"admin-create-group-option-separator")),c.push(j.jsx(b("WorkGalahadCreateGroupFromChatMenuItem.react"),{thread:a},"create-group")));return[j.jsx(b("WIGDropdownMenuItem.react"),{id:"chat-admin-options",icons:"badge_admin",label:g._("Admin Options"),items:c},"chat-admin-options")]},createLeaveItems:function(a){return a.is_canonical||!a.is_subscribed?[]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"leave-chat",icons:"leave",label:g._("Leave"),onClick:function(){var c=b("MessengerAdminGroupUtils").isAdmin(a.admins,b("CurrentUser").getID());b("MessengerDialogs.re").showDialog(function(){return j.jsx(i,{onLeave:function(){b("MessengerLeaveGroupAction").leaveGroup(a,b("CurrentUser").getID())},isViewerAdmin:c,thread:a})})}},"leave-chat")]},createNewGroupChatItems:function(a){return!a.is_canonical_user&&a.thread_type===1?[]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"new-chat",icons:"messages_compose",label:g._("Create New Group Chat"),onClick:function(){var c=b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.re").getNow(c),a))},{}));b("MessengerComposerActions").exitComposeStateAbandonSearch();b("MessengerGroupUtils.re").createGroupThread(c,b("CurrentUser").getID())}},"new-chat")]},createMarkAsReadOrUnreadItems:function(a){return a.unread_count>0?[j.jsx(b("WIGDropdownMenuItem.react"),{id:"mark-as-read",icons:"envelope_open",label:g._("Mark As Read"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markRead(a.thread_id)}},"mark-as-read-unread")]:[j.jsx(b("WIGDropdownMenuItem.react"),{id:"mark-as-unread",icons:"envelope",label:g._("Mark As Unread"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markUnread(a.thread_id)}},"mark-as-read-unread")]},createChatChannelOverflowMenuItems:function(a){if(l){var c;return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([b("cr:1278241")?[j.jsx(b("cr:1278241"),{thread:a,groupID:(c=a.work_associated_group)==null?void 0:c.id,isMuted:a.mute_until!=null},"notification-options")]:null,[].concat(o.createPinOrUnpinItems(a),o.createMarkAsReadOrUnreadItems(a)),[].concat(o.createHideChatItems(a),o.createLeaveItems(a))].filter(Boolean))}return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([o.createPinOrUnpinItems(a),[].concat(o.createMuteChatItems(a),o.createHideChatItems(a)),[].concat(o.createMarkAsReadOrUnreadItems(a),o.createRemoveChatItems(a),o.createLeaveItems(a))])}};e.exports=o},null);