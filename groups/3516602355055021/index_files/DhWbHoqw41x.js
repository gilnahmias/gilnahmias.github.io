if (self.CavalryLogger) { CavalryLogger.start_js(["Jju2S"]); }

__d("MessengerBusinessPersistentMenuUpdateSubscription.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"MessengerBusinessPersistentMenuUpdateSubscribeData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"messenger_business_persistent_menu_update_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerBusinessPersistentMenuResult",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"menu_items",storageKey:null,args:null,concreteType:"MessengerNonNestedCTAShareData",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"action_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_disabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_mutable_by_server",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"logging_token",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"page_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"fallback_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"messenger_extensions",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"webview_height_ratio",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerBusinessPersistentMenuUpdateSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscription",argumentDefinitions:a,selections:b},params:{operationKind:"subscription",name:"MessengerBusinessPersistentMenuUpdateSubscription",id:"2907290672616359",text:null,metadata:{subscriptionName:"messenger_business_persistent_menu_update_subscribe"}}}}();e.exports=a},null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"gk_check",storageKey:'gk_check(gk_name:"custom_user_settings")',args:[{kind:"Literal",name:"gk_name",value:"custom_user_settings"}],concreteType:"EntGKCheck",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"passes_gk",args:null,storageKey:null}]}]};return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]},params:{operationKind:"query",name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",id:"2587770514615695",text:null,metadata:{}}}}();e.exports=a},null);
__d("MessengerMuteUtils.bs",["fbt","formatDate","DateStrings"],function(a,b,c,d,e,f,g){"use strict";function a(a){if(a>0)if(a<86401)return;else{var c=new Date(a*1e3).getDay(),d=c===new Date().getDay(),e=c===new Date().getDay()+1;if(e)return g._("Off until {time} tomorrow",[g._param("time",b("formatDate")(a,"g:ia"))]);else if(d)return g._("Off until {time}",[g._param("time",b("formatDate")(a,"g:ia"))]);else return g._("Off until {time} {weekday name}",[g._param("time",b("formatDate")(a,"g:ia")),g._param("weekday name",b("DateStrings").getWeekdayName(c))])}else if(a===-1)return g._("Off indefinitely");else return}function c(a,b){if(a)if(b)return g._("Unmute notifications");else return g._("Mute notifications");else if(b)return g._("Unmute conversation");else return g._("Mute conversation")}f.mutedUntilLabel=a;f.muteActionLabel=c},null);
__d("TextWithEntitiesTruncated.react",["fbt","Link.react","React","TextWithEntities.react","prop-types"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useState,j=.6;function k(a,b,c){return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return a.offset>=0&&a.offset<c})}function l(a,b,c,d){var e=null,f=a.split("\n");a.length>b&&(e=Math.floor(b*(d===!0?1:j)));if(f.length>c){a=f.slice(0,c).join("\n").length;e!==null?e=Math.min(a,e):e=a}return e}function m(a){var b=[];a.forEach(function(a){a!=null&&a.offset!=null&&a.length!=null&&a.entity!=null&&b.push({entity:babelHelpers["extends"]({},a.entity),length:a.length,offset:a.offset})});return b}function a(a){var c=a.text,d=a.ranges;d=d===void 0?[]:d;var e=a.truncationStyle;e=e===void 0?"none":e;var f=a.maxLength;f=f===void 0?800:f;var j=a.maxLines;j=j===void 0?8:j;var n=a.useExactMaxLength;a=babelHelpers.objectWithoutPropertiesLoose(a,["text","ranges","truncationStyle","maxLength","maxLines","useExactMaxLength"]);var o=i(!1),p=o[0],q=o[1];if(c==null)return null;o=c;d=m(d);var r=null,s=function(){q(!0)},t=function(){q(!1)};if(e!=="none"&&!p){f=l(c,f,j,n);if(f!=null){o=c.substring(0,f);d=k(d,0,o.length);switch(e){case"ellipsis-only":r=h.jsx(h.Fragment,{children:g._("\u2026")},"see-more-less");break;case"see-more":case"see-more-and-less":r=h.jsxs(h.Fragment,{children:[g._("\u2026")," ",h.jsx(b("Link.react"),{onClick:s,children:g._("See More")})]},"see-more-less")}}}else e==="see-more-and-less"&&p&&(r=h.jsxs(h.Fragment,{children:[" ",h.jsx(b("Link.react"),{onClick:t,children:g._("See Less")})]},"see-more-less"));return h.jsxs(h.Fragment,{children:[h.jsx(b("TextWithEntities.react"),babelHelpers["extends"]({},a,{ranges:d,text:o})),r]})}a.propTypes={text:(d=b("prop-types")).string,ranges:d.arrayOf(d.shape({offset:d.number,length:d.number,entity:d.object})).isRequired,truncationStyle:d.oneOf(["none","ellipsis-only","see-more","see-more-and-less"]),maxLength:d.number,maxLines:d.number,useExactMaxLength:d.bool};e.exports=a},null);
__d("MNCoWatchEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MNCoWatchEventLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsCowatchActive=function(a){this.$1.is_cowatch_active=a;return this};c.setIsFullscreenMode=function(a){this.$1.is_fullscreen_mode=a;return this};c.setIsJoinPayloadReceivedWhileBackgrounded=function(a){this.$1.is_join_payload_received_while_backgrounded=a;return this};c.setIsRtcActive=function(a){this.$1.is_rtc_active=a;return this};c.setJoinPayloadReceivedCallType=function(a){this.$1.join_payload_received_call_type=a;return this};c.setJoinPayloadReceivedCallUI=function(a){this.$1.join_payload_received_call_ui=a;return this};c.setJoinPayloadReceivedSource=function(a){this.$1.join_payload_received_source=a;return this};c.setLayoutMode=function(a){this.$1.layout_mode=a;return this};c.setLivingRoomID=function(a){this.$1.living_room_id=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOrientation=function(a){this.$1.orientation=a;return this};c.setPigeonReservedKeywordLogType=function(a){this.$1.pigeon_reserved_keyword_log_type=a;return this};c.setPigeonReservedKeywordModule=function(a){this.$1.pigeon_reserved_keyword_module=a;return this};c.setRadioType=function(a){this.$1.radio_type=a;return this};c.setReactionType=function(a){this.$1.reaction_type=a;return this};c.setRtcCowatchEligibleParticipantCount=function(a){this.$1.rtc_cowatch_eligible_participant_count=a;return this};c.setRtcParticipantCount=function(a){this.$1.rtc_participant_count=a;return this};c.setRtcTabFailureReason=function(a){this.$1.rtc_tab_failure_reason=a;return this};c.setSamplingFrequency=function(a){this.$1.sampling_frequency=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoTab=function(a){this.$1.video_tab=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,entry_point:!0,error_code:!0,event:!0,is_cowatch_active:!0,is_fullscreen_mode:!0,is_join_payload_received_while_backgrounded:!0,is_rtc_active:!0,join_payload_received_call_type:!0,join_payload_received_call_ui:!0,join_payload_received_source:!0,layout_mode:!0,living_room_id:!0,name:!0,orientation:!0,pigeon_reserved_keyword_log_type:!0,pigeon_reserved_keyword_module:!0,radio_type:!0,reaction_type:!0,rtc_cowatch_eligible_participant_count:!0,rtc_participant_count:!0,rtc_tab_failure_reason:!0,sampling_frequency:!0,session_id:!0,thread_id:!0,time:!0,video_id:!0,video_tab:!0,weight:!0};e.exports=a},null);
__d("MessengerBotsWebTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCount=function(a){this.$1.count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIndex=function(a){this.$1.index=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPayload=function(a){this.$1.payload=a;return this};c.setQrContentType=function(a){this.$1.qr_content_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTitle=function(a){this.$1.title=a;return this};c.setTitles=function(a){this.$1.titles=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setType=function(a){this.$1.type=a;return this};c.setURL=function(a){this.$1.url=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={count:!0,event:!0,index:!0,page_id:!0,payload:!0,qr_content_type:!0,time:!0,title:!0,titles:!0,type:!0,url:!0,vc:!0,weight:!0};e.exports=a},null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0,time:!0,weight:!0};e.exports=a},null);
__d("ChatFlyoutPlaceholder.react",["React","XUISpinner.react"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h={padding:"30px",textAlign:"center"};a=function(){return g.jsx("div",{style:h,children:g.jsx(b("XUISpinner.react"),{size:"large"})})};e.exports=a},null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","PopupWindow","XMNCommerceCTAPostProcessController"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.process=function(a,c){c===void 0&&(c=null);var d=b("PopupWindow").open("",500,1024);a=b("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return d.location=a.payload}).send()};c.postHandle=function(a,c){a=b("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:c});new(b("AsyncRequest"))().setURI(a).send()};c.logCTAClick=function(a){var c,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(c=a)!=null?c.id:c,action_title:((c=a)!=null?c.action_title:c)||((c=a)!=null?c.title:c)||((c=a)!=null?c.translated_title:c),action_type:(c=a)!=null?c.action_type:c,action_url:((c=a)!=null?c.action_url:c)||((c=a)!=null?c.action_link:c),click_source:e,page_id:(c=a)!=null?c.page_id:c};new(b("MessengerPlatformClientTypedLogger"))().setClientUserID(b("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();e.exports=new a()},null);
__d("MNCommerceCallToActionGenericIntentHandler",["cx","fbt","FDSLink.react","MNCommerceCTAProcessor","React","Tooltip","URI","joinClasses"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=function(){function a(){this.fallbackOnClick=function(){},this.onClickHook=function(){},this.threadID=null}var c=a.prototype;c.setFallbackOnClick=function(a){this.fallbackOnClick=a;return this};c.setThreadID=function(a){a&&(this.threadID=a);return this};c.setOnClickHook=function(a){this.onClickHook=a;return this};c.renderForWebLink=function(a,c){var d=this,e=a.onClick||this.fallbackOnClick,f=function(c){d.onClickHook(),e(c),b("MNCommerceCTAProcessor").postHandle(a.id,null)};return j.jsx(b("FDSLink.react"),{display:"block",href:new(i||(i=b("URI")))(a.onClick?"#":a.action_link||a.action_url),onClick:f,target:"_blank",children:j.jsx("div",{className:c,children:a.translated_title||a.title||a.action_title})},a.title+a.id)};c.renderForNativeLink=function(a,c){var d=h._("To use this feature, use the Messenger app.");return j.jsx("div",babelHelpers["extends"]({className:b("joinClasses")("_3cno",c),"data-tooltip-alignh":"center","data-tooltip-position":"above"},b("Tooltip").propsFor(d),{children:a.translated_title||a.title||a.action_title}),a.title)};return a}();e.exports=a},null);
__d("BuyOnMessengerCallToActionIntentHandler",["Link.react","MNCommerceCallToActionGenericIntentHandler","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.$BuyOnMessengerCallToActionIntentHandler1=function(a,c){return g.jsx(b("Link.react"),{className:c,onClick:a.onClick,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=new a()},null);
__d("MMeCallToActionIntentHandler",["MNCommerceCallToActionGenericIntentHandler"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.renderForNativeLink=function(a,b){return this.renderForWebLink(a,b)};return b}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a},null);
__d("MNCommerceCallToActionAsyncIntentHandler",["AsyncRequest","Link.react","MNCommerceCallToActionGenericIntentHandler","React"],function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.$MNCommerceCallToActionAsyncIntentHandler1=function(a,c){var d=function(){new(b("AsyncRequest"))(a.action_link).send()};return g.jsx(b("Link.react"),{className:c,onClick:d,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a},null);
__d("MessengerGamesPlayGameLink.react",["ix","cx","Bootloader","BootloadOnRender.react","JSResource","LazyComponent.react","Link.react","MercuryIDs","MessengerDialogs.bs","React","asset","emptyFunction"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={playerOpen:!1},d.$1=function(a){if(d.state.playerOpen)return;d.props.onClick&&d.props.onClick(a);b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(a){b("MessengerDialogs.bs").showDialog(function(){var c=b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID),e=d.props.contextType,f=d.props.contextSourceID;e||(e="THREAD",f=c);return i.jsx(a,{initialContextType:e,initialContextSourceID:f,initialEntryPointData:d.props.payload,initialGameID:d.props.gameID,onHide:d.$2,initialSource:d.props.source||"unknown",sourceID:c,threadID:d.props.threadID,invitationID:d.props.invitationID},d.props.gameID)})},"MessengerGamesPlayGameLink.react");d.$3()},d.$2=function(){b("MessengerDialogs.bs").removeAllDialogs(),d.setState({playerOpen:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.onResize()};d.render=function(){return i.jsx("div",{children:i.jsxs(b("Link.react"),{className:this.props.className,onClick:this.$1,children:[this.props.showGameImage?i.jsx("div",{className:"_46b2",children:i.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("Image.react").__setRef("MessengerGamesPlayGameLink.react"),placeholder:i.jsx("div",{}),component:i.jsx(b("LazyComponent.react"),{className:"_2pih",src:g("529301")})})}):null,this.props.title]})})};d.$3=function(){this.setState({playerOpen:!0})};return c}(i.PureComponent);a.defaultProps={showGameImage:!1,onResize:b("emptyFunction")};e.exports=a},null);
__d("MessengerPlayGameCallToActionHelper",["URI"],function(a,b,c,d,e,f){var g;e.exports={parseMetadata:function(a){var b,c,d;d=(d=a)!=null?d.instantgame_gameid:d;if(!d)return null;c=(c=a)!=null?c.instantgame_payload:c;b=(b=a)!=null?b.instantgame_context_type:b;a=(a=a)!=null?a.instantgame_context_id:a;return{contextSourceID:a,contextType:b,gameID:d,payload:c}},parseActionLink:function(a){a=new(g||(g=b("URI")))(a).getQueryData();if(!a)return null;var c=a.game_id;if(!c)return null;var d=a.payload,e=a.context_type,f=a.context_id;a=(a=a)!=null?a.source:a;return{contextSourceID:f,contextType:e,gameID:c,payload:d,source:a}}}},null);
__d("MessengerPlayGameCallToActionIntentHandler",["cx","invariant","MercuryIDs","MessengerGamesPlayGameLink.react","MessengerPlayGameCallToActionHelper","MNCommerceCallToActionGenericIntentHandler","React","joinClasses"],function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.$MessengerPlayGameCallToActionIntentHandler1=function(a,c){var d,e,f,g=this.threadID||"";f=(f=a)!=null?f.instantgame_metadata:f;e=(e=a)!=null?e.action_link:e;var j=null;f?j=b("MessengerPlayGameCallToActionHelper").parseMetadata(f):e&&(j=b("MessengerPlayGameCallToActionHelper").parseActionLink(e));if(!j)return i.jsx("div",{});f=j.gameID;f||h(0,3211);e=j.contextSourceID;var k=j.contextType;d=(d=j)!=null?d.source:d;k||(k="THREAD",e=b("MercuryIDs").getThreadFBIDFromThreadID(g));return i.jsx(b("MessengerGamesPlayGameLink.react"),{className:b("joinClasses")(c,"_fy2"),contextSourceID:e,contextType:k,gameID:f,onClick:this.onClickHook,payload:j.payload||void 0,source:d||"call_to_action",threadID:g,title:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a},null);
__d("MNCommerceCallToActionHandlerMap",["BuyOnMessengerCallToActionIntentHandler","MessengerPlayGameCallToActionIntentHandler","MMeCallToActionIntentHandler","MNCommerceCallToActionAsyncIntentHandler","MNCommerceCallToActionGenericIntentHandler","URI"],function(a,b,c,d,e,f){"use strict";var g,h={"fb-messenger://payments/buy/mc?":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://business/commerce/":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://instant_games/play":b("MessengerPlayGameCallToActionIntentHandler"),"https://m.me/":b("MMeCallToActionIntentHandler")};function a(a){for(var c in h)if(a.startsWith(c)){var d=h[c];return new d()}return new(g||(g=b("URI")))(a).getQueryData().async?new(b("MNCommerceCallToActionAsyncIntentHandler"))():new(b("MNCommerceCallToActionGenericIntentHandler"))()}e.exports={getHandler:a}},null);
__d("ChatPageComposerNullState.react",["cx","fbt","Link.react","MNCommerceCallToActionHandlerMap","React"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.cta.action_type){case 1:return this.$1();case 4:default:return this.$2()}};d.$1=function(){return b("MNCommerceCallToActionHandlerMap").getHandler(this.props.cta.action_link).setThreadID(this.props.threadID).setOnClickHook(this.props.onClick).renderForNativeLink(this.props.cta,"_2xh6 _2xh7"+(this.props.disabled?" _5vsu":""))};d.$2=function(){return i.jsx(b("Link.react"),{className:"_2xh6 _2xh7"+(this.props.disabled?" _5vsu":""),onClick:this.props.onClick,children:h._("{name}",[h._param("name",this.props.cta.title)])})};return c}(i.PureComponent);e.exports=a},null);
__d("CustomizeThreadThemeUtil",["CurrentUser","MessengerThreadThemesWebGraphQLQuery","WebGraphQL","promiseDone"],function(a,b,c,d,e,f){"use strict";var g={};function a(a){h(a)}function c(a){h(a)}function h(a){var c=b("CurrentUser").isWorkUser()?"WORKPLACE_VERSION0":"M4_VERSION0_WITH_GKS";g[c]?a(g[c]):b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadThemesWebGraphQLQuery"))({version:c})),function(b){if(b&&b.messenger_thread_themes&&Array.isArray(b.messenger_thread_themes)){var d=[];b.messenger_thread_themes.forEach(function(a){if(!a.id)return;if(!a.fallback_color)return;if(!a.accessibility_label)return;a={id:a.id,fallback_color:a.fallback_color,accessibility_label:a.accessibility_label,gradient_colors:a.gradient_colors,icon_uri:(a=a==null?void 0:(a=a.icon_asset)==null?void 0:(a=a.image)==null?void 0:a.uri)!=null?a:void 0};d.push(a)});g[c]=d;a(d)}})}e.exports={fetchThemesForChat:a,fetchThemesForMessenger:c}},null);
__d("MessengerURLUploader",["requireCond","cr:988286","Event","MessengerActions","SubscriptionsHandler","URLMatcher","debounce"],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){var e=this;this.handleInputValueChange=function(a){a=e.$1();a=b("URLMatcher").match(a)||(b("cr:988286")!=null?b("cr:988286").matchTaskNumber(a)||b("cr:988286").matchDiffNumber(a):null);a&&(e.$3!==a&&(e.$3=a,b("MessengerActions").loadingPreview(e.$5,a)))};this.$1=a;this.$4=new(b("SubscriptionsHandler"))();this.$5=d;this.$2=b("debounce")(this.handleInputValueChange,200);this.initInput(c)}var c=a.prototype;c.getMatchedURL=function(){return this.$3};c.initInput=function(a){this.$4.addSubscriptions(b("Event").listen(a,"keyup",this.$2),b("Event").listen(a,"paste",this.$2))};c.setThreadID=function(a){this.$5=a};c.clearShareData=function(){this.$3=null};return a}();e.exports=a},null);
__d("DebouncedMentionsTextEditor.react",["AbstractMentionsTextEditor.react","clearImmediate","debounce","setImmediate"],function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.__maybeSearch=function(){var a=d.props.editorState,c=a.getSelection();if(c.getHasFocus()&&c.isCollapsed()){var e=a.getCurrentContent();a=d.props;var f=a.mentionsSource,g=a.assistantTypeaheadSource;(f||g)&&(d.$DebouncedMentionsTextEditor1&&b("clearImmediate")(d.$DebouncedMentionsTextEditor1),d.$DebouncedMentionsTextEditor1=b("setImmediate")(function(){f&&f.search(e,c,d.__onShowMentions),g&&g.search(e,c,d.__onShowMentions)}))}};d.__debouncedSearch=b("debounce")(d.__maybeSearch,50);return d}var d=c.prototype;d.componentDidUpdate=function(a){this.props.editorState!==a.editorState&&this.__debouncedSearch()};d.componentWillUnmount=function(){this.$DebouncedMentionsTextEditor1&&b("clearImmediate")(this.$DebouncedMentionsTextEditor1),a.prototype.componentWillUnmount.call(this)};return c}(b("AbstractMentionsTextEditor.react"));e.exports=a},null);
__d("MessengerCheckmarkIconSVGM4React.bs",["React","bs_belt_Option"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.size;a=String(b("bs_belt_Option").getWithDefault(a,36))+"px";return g.jsxs("svg",{children:[g.jsx("defs",{children:g.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"})}),g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("mask",{children:g.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"}),id:"mask-2",fill:"white"}),g.jsx("path",{id:"Fill-1",d:"M13.4397101,26.0625 L6.43933525,19.062 C5.85355492,18.476 5.85355492,17.526 6.43933525,16.9405 C7.02511558,16.354 7.97475947,16.354 8.5605398,16.9405 L14.4998126,22.8805 L27.4394602,9.9395 C28.0252405,9.3535 28.9748844,9.3535 29.5606648,9.9395 C30.1464451,10.525 30.1464451,11.4755 29.5606648,12.061 L15.5604148,26.0625 C14.9751343,26.6485 14.0249906,26.6485 13.4397101,26.0625 Z",fill:"#000000",mask:"url(#mask-2)"})]})})],height:a,width:a,viewBox:"0 0 36 36"})}c=a;f.make=c},null);
__d("MessengerCheckmarkIconSVGM4React.re",["MessengerCheckmarkIconSVGM4React.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCheckmarkIconSVGM4React.bs").make;f.make=a},null);
__d("MessengerApprovalRequester.react",["cx","fbt","CurrentUser","Link.react","MercuryIDs","MessengerParticipants.bs","MercuryThreadActions","MessengerCheckmarkIconSVGM4React.re","MessengerContactImageReact.bs","MessengerCrossIconSVGM4React.re","MessengerDotComAndInboxM4Check.bs","MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation","MessengerTextWithEmoticons.react","React","ShimButton.react","WebGraphQL"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryThreadActions").get(),j=b("MessengerCheckmarkIconSVGM4React.re").make,k=b("MessengerContactImageReact.bs").jsComponent,l=b("MessengerCrossIconSVGM4React.re").make,m=b("React"),n=32,o=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w _7tla":"_3szo";function p(a,c,d){if(!c||d===null)return null;var e=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(c));e=e&&e.name;if(!e)return null;if(d===0)return b("CurrentUser").isWorkUser()&&a===c?h._("Requested to join"):h._("Added by {inviter}.",[h._param("inviter",e)]);else if(d===1)return h._("Invited by {inviter}.",[h._param("inviter",e)]);return null}function q(a){var c=a.name,d=a.imageSRC,e=a.inviterFBID,f=a.isMessengerUser,g=a.requestSource;a=a.userFBID;c=m.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c});a=p(a,e,g);e=a?m.jsxs("span",{className:"_4e87",children:[m.jsx("div",{children:c}),m.jsx("div",{className:"_4egt",children:a})]}):m.jsx("span",{className:"_3tkx",children:c});return m.jsxs("div",{className:"_3szq _4fq",children:[m.jsx(k,{className:"_5l39 _5rmm",isMessengerUser:f,size:n,src:d}),e]})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(b("MessengerDotComAndInboxM4Check.bs").yes)return this.$1();else return this.$2()};d.$1=function(){var a=this.props,c=a.isAdminRequired,d=a.isMessengerUser,e=a.imageSRC,f=a.name,g=a.inviterFBID,i=a.requestSource;a=a.userFBID;c=c?h._("Approve"):h._("Accept");return m.jsxs("div",{className:o,children:[m.jsx(q,{userFBID:a,name:f,imageSRC:e,inviterFBID:g,isMessengerUser:d,requestSource:i}),m.jsxs("div",{className:"_4fs _7tlb",children:[m.jsx(b("ShimButton.react"),{"aria-label":h._("Ignore"),className:"_7tlc _3-91",href:"#",onClick:this.$3.bind(this),children:m.jsx(l,{size:20})}),m.jsx(b("ShimButton.react"),{"aria-label":c,className:"_7tlc",href:"#",onClick:this.$4.bind(this),children:m.jsx(j,{size:20})})]})]})};d.$2=function(){var a=this.props,c=a.isAdminRequired,d=a.isMessengerUser,e=a.imageSRC,f=a.name,g=a.inviterFBID,i=a.requestSource;a=a.userFBID;c=c?h._("Approve"):h._("Accept");return m.jsxs("div",{className:o,children:[m.jsx(q,{userFBID:a,name:f,imageSRC:e,inviterFBID:g,isMessengerUser:d,requestSource:i}),m.jsxs("div",{className:"_3ihq _4fs",children:[m.jsx(b("Link.react"),{className:"_5a73",href:"#",onClick:this.$4.bind(this),children:c}),m.jsx("span",{className:"_1m8c"}),m.jsx(b("Link.react"),{className:"_5a73",href:"#",onClick:this.$3.bind(this),children:h._("Ignore")})]})]})};d.$4=function(a){a=this.props;var c=a.isAdminRequired,d=a.threadFBID,e=a.userFBID;a=a.onUpdated;c?b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:d,user_ids:[e],response:"ACCEPT",surface:"ADMIN_MODEL_APPROVAL_CENTER"}})):i.acceptToJoinableGroup(d,e);a&&a(e)};d.$3=function(a){a=this.props;var c=a.isAdminRequired,d=a.threadFBID,e=a.userFBID;a=a.onUpdated;c?b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:d,user_ids:[e],response:"DENY",surface:"ADMIN_MODEL_APPROVAL_CENTER"}})):i.rejectToJoinableGroup(d,e);a&&a(e)};return c}(m.Component);e.exports=a},null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],function(a,b,c,d,e,f){"use strict";var g=b("MercuryMessageActions").get();a=function(){function a(){}var c=a.prototype;c.send=function(a,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);b("BanzaiODS").bumpEntityKey(3303,"messenger_commerce","postback_send_clicked");a=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).setEnum("ref_source",f).getURI();!c?new(b("AsyncRequest"))().setURI(a).setMethod("POST").send():new(b("AsyncRequest"))().setURI(a).setMethod("POST").setErrorHandler(c).send()};c.sendAndConfirm=function(a,b,c,d,e,f,g,h,i,j){e===void 0;f===void 0&&(f=null);g===void 0&&(g=[]);h===void 0&&(h=null);i===void 0&&(i=null);j===void 0&&(j="source:titan:web");e={cta_id:a,prev_message_id:h,ref:f,force_handle:!0,postback_cta_ref_source:i?i.toString():null};this.sendConfirmationText(b,c,d,g,e,j)};c.sendConfirmationText=function(a,c,d,e,f,h){e===void 0&&(e=[]);if(!c)b("BanzaiODS").bumpEntityKey(3303,"messenger_commerce","confirm_message_failed.empty_threadID");else{var i=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),j=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(j)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(i.constructCTAConfirmationMessageObject(a,h,c,d,e,f));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};return a}();e.exports=new a()},null);
__d("MNCommercePostbackRefSendManager",["AsyncRequest","MessengerActions","MessengerMDotMeReferralStore","XMNCommercePostbackRefSendController"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.sendMDotMeRef=function(a,c){var d=this.getMdotMeRef();if(this.shouldSendRef(c,a)){c=b("XMNCommercePostbackRefSendController").getURIBuilder().setString("page_id",a).setString("ref",d).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("MessengerActions").changeMDotMeReferral()}};c.shouldSendRef=function(a,b){return!b||!a?!1:this.hasMDotMeRef(b)};c.hasMDotMeRef=function(a){var c=b("MessengerMDotMeReferralStore").getState();return!!(c.refCode&&a&&c.refThreadID&&c.refThreadID===a)};c.getMdotMeRef=function(){var a=b("MessengerMDotMeReferralStore").getState();return a.refCode};return a}();e.exports=new a()},null);
__d("MessengerComposerButtonLabels",["fbt"],function(a,b,c,d,e,f,g){"use strict";a={QuickCamButtonLabel:g._("Take a picture using quick cam"),VoiceClipButtonLabel:g._("Send a voice clip"),EmojiButtonLabel:g._("Choose an emoji"),StickerButtonLabel:g._("Choose a sticker"),GroupPollingButtonLabel:g._("Create a poll"),ContentSearchButtonLabel:g._("Choose a gif")};e.exports=a},null);
__d("MessengerBusinessCallToActionUtils",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.convertCTATypeToInt=function(a){switch(a){case"OPEN_NATIVE":return 1;case"OPEN_URL":return 2;case"POSTBACK":return 4;case"ACCOUNT_LINK":return 5;case"SHARE":return 7;case"PAYMENT":return 8;case"FACEBOOK_REPORT_A_PROBLEM":return 9;case"NAVIGATION":return 11;case"EXTENSIBLE_SHARE":return 12;case"OPEN_PAGE_ABOUT":return 14;case"OPEN_BRANDED_CAMERA":return 15;case"OPEN_THREAD":return 16;case"OPEN_MARKETPLACE_PROFILE_REPORT":return 17;case"OPEN_DIRECT_SEND_VIEW":return 18;case"BOOKING":return 19;case"BOOKING_ADD_TO_CALENDAR":return 20;case"ACCOUNT_UNLINK":return 21;case"SUBSCRIPTION_PRESELECT":return 10;case"OPEN_REACT_NATIVE_MINI_APP":return 13;case"OPEN_CANCEL_RIDE_MUTATION":return 3;case"MANAGE_MESSAGES":return 6;default:return-1}};return a}();e.exports=new a()},null);
__d("MessengerBusinessPersistentMenuUpdateSubscription",["RelayFBEnvironment","RelayModern","MessengerBusinessPersistentMenuUpdateSubscription.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("MessengerBusinessPersistentMenuUpdateSubscription.graphql");function a(a,c){a={input:{page_id:a}};return h(b("RelayFBEnvironment"),{subscription:i,variables:a,updater:c})}e.exports={subscribe:a}},null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react",["invariant","MessengerBusinessCallToActionUtils","MessengerBusinessPersistentMenuUpdateSubscription","React","RelayFBEnvironment","RelayModern","promiseDone","MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;a=b("React");var i=b("RelayModern").fetchQuery;b("RelayModern").graphql;var j=h!==void 0?h:h=b("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(i(b("RelayFBEnvironment"),j,{pageID:this.props.pageID}),function(c){c.node.gk_check.passes_gk&&(a.$1=b("MessengerBusinessPersistentMenuUpdateSubscription").subscribe(a.props.pageID,function(c){c=c.getRootField("messenger_business_persistent_menu_update_subscribe");if(c==null)return;c=c.getLinkedRecords("menu_items");if(c==null)return;c=c.filter(Boolean).map(function(c){var d=c.getValue("action_link");d===null||typeof d==="string"||g(0,19527);var e=c.getValue("action_type");typeof e==="string"||g(0,19528);var f=c.getValue("id");f===null||typeof f==="string"||g(0,18995);var h=c.getValue("is_disabled");typeof h==="boolean"||g(0,19525);var i=c.getValue("is_mutable_by_server");typeof i==="boolean"||g(0,19532);var j=c.getValue("logging_token");j===null||typeof j==="string"||g(0,19534);var k=c.getValue("page_id");typeof k==="string"||g(0,19535);var l=c.getValue("title");l===null||typeof l==="string"||g(0,1815);return{action_link:d,action_type:b("MessengerBusinessCallToActionUtils").convertCTATypeToInt(e),id:f,is_disabled:h,is_mutable_by_server:i,logging_token:j,page_id:k,title:l,webview_metadata:a.$2(c)}});a.props.onUpdate(c)}))})};d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.render=function(){return null};d.$2=function(a){if(!a)return{fallback_url:null,webview_height_ratio:null,messenger_extensions:!1};var b=a.getValue("fallback_url");b===null||typeof b==="string"||g(0,19538);var c=a.getValue("webview_height_ratio");c===null||typeof c==="number"||g(0,19539);a=a.getValue("messenger_extensions");typeof a==="boolean"||g(0,19543);return{fallback_url:b,webview_height_ratio:c,messenger_extensions:a}};return c}(a.Component);e.exports=c},null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c},null);
__d("MessengerBotMenuButton.react",["AutoFocusableLink.react","BootloadOnRender.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react","MessengerContextualDialog.react","MessengerEnvironment","React","XUIContextualDialog.react","prop-types"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h=302,i=280;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={flyoutOpen:!!d.props.clicked,isLoading:!1,menuItems:null},d.$3=function(){d.setState({flyoutOpen:!1})},d.$8=function(){d.state.flyoutOpen&&d.$3()},d.$5=function(){d.$1=d.state.flyoutOpen},d.$4=function(a){a.stopPropagation();if(d.state.flyoutOpen||d.$1)return;d.state.menuItems===null&&(d.setState({isLoading:!0}),d.$2());d.setState({flyoutOpen:!d.state.flyoutOpen})},d.$7=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(d.props.pageID,a),d.setState({menuItems:a,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.flyoutOpen&&this.state.menuItems===null&&(this.setState({isLoading:!0}),this.$2())};d.componentDidMount=function(){new(b("MessengerBotsWebTypedLogger"))().setEvent("bot_composer_menu_icon_displayed").setPageID(this.props.pageID).log()};d.componentWillUnmount=function(){this.state.flyoutOpen&&this.$3()};d.render=function(){return g.jsxs("span",{children:[g.jsx(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:this.props.className,href:"#",onClick:this.$4,onMouseDown:this.$5,role:"button",ref:"link"}),this.$6(),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:this.props.pageID,onUpdate:this.$7})]})};d.$6=function(){var a=this;if(!this.state.flyoutOpen)return null;var c=b("MessengerEnvironment").messengerui,d=c?h:i;c=c?b("MessengerContextualDialog.react"):b("XUIContextualDialog.react");return g.createElement(c,babelHelpers["extends"]({alignment:this.props.flyoutAlignment,width:d,position:"above",contextRef:function(){return a.refs.link},onBeforeHide:this.$8,onBlur:this.$3,shown:this.state.flyoutOpen},this.props,{key:"contextualDialog"}),g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{onEscKeyDown:this.$3,shown:this.state.flyoutOpen,isLoading:this.state.isLoading,menuItems:this.state.menuItems,pageID:this.props.pageID,threadID:this.props.threadID,onClick:this.$3}),loader:b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButton.react"),placeholder:g.jsx(b("ChatFlyoutPlaceholder.react"),{})}))};d.$2=function(){var a=this;b("MessengerBotMenuDataFetcher").getMenuItems(this.props.pageID,function(b){a.setState({menuItems:b,isLoading:!1})},function(){a.setState({menuItems:[],isLoading:!1})})};return c}(g.Component);a.propTypes={autoFocus:(c=b("prop-types")).bool,className:c.string,clicked:c.bool,flyoutAlignment:c.string.isRequired,threadID:c.string.isRequired,pageID:c.string.isRequired};e.exports=a},null);
__d("MessengerSingleSectionContactList.react",["cx","MessengerContactAdapters","MessengerContactList.react","MessengerTypeaheadUtils","React","TypeaheadViewPropTypes","joinClasses","wrapNullableForReact"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.entries;a=a.viewProps;var d=(c.length?"":"_599s")+" _29hl _8i1 _11_d _4p-s";return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,d,a.className),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:!0,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:b("MessengerTypeaheadUtils").buildSingleSection(c),onRenderHighlight:this.props.onRenderHighlight,onHighlight:this.props.onHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,viewer:a.viewer})};return c}(h.PureComponent);a.propTypes=b("TypeaheadViewPropTypes");a.defaultProps={role:"listbox"};e.exports=a},null);
__d("FourLetterMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f){"use strict";a=3;c="\\b[a-z][^\\s"+b("DocumentMentionsRegex").PUNCTUATION+"]";var g=new RegExp("(^|[^#])((?:"+c+"{"+a+",})$)");d={name:"FourLetterMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};e.exports=d},null);
__d("createMentionsSearchSourceFromParticipants",["fbt","ix","AtSignAllowEmptyMentionsStrategy","CapitalizedNameMentionsStrategy","CompositeSearchSource","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","FourLetterMentionsStrategy","LogHistory","MercuryIDs","SearchableEntry","StaticSearchSource","WebAsyncSearchSource","XWorkChatMentionBotTypeaheadController","filterCapitalizedNames","gkx","nullthrows"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("LogHistory").getInstance("messenger_mentions"),j=h("91674").uri;function a(a,c,d,e){if(!a||!c)return null;var f=[],g=[],h=c.length>2;(h||b("gkx")("1101638"))&&(f=c.reduce(function(c,e){if(!e||e.fbid===a)return c;var f=d&&d.custom_nickname&&d.custom_nickname[e.fbid]?d.custom_nickname[e.fbid]:"";c.push(new(b("SearchableEntry"))({uniqueID:e.fbid,type:"user",title:"@"+e.name,subtitle:f,photo:e.image_src,keywordString:f,auxiliaryData:{workForeignEntityInfo:e.work_foreign_entity_info}}));return c},[]),g=[].concat(f),h&&e&&d&&d.thread_fbid&&(f.push(l(d.thread_fbid)),f.push(m(d.thread_fbid))));h=new(b("StaticSearchSource"))(f);e=new(b("StaticSearchSource"))(g);b("gkx")("846032")&&(e=new(b("FilteredSearchSource"))(k("@"),e));f=h;b("gkx")("1180639")&&d&&(f=new(b("CompositeSearchSource"))([h,new(b("WebAsyncSearchSource"))({queryRequests:[{uri:b("XWorkChatMentionBotTypeaheadController").getURIBuilder().setFBID("thread_id",b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id)).getURI()}]})]));g=[new(b("DocumentMentionsSource"))(b("AtSignAllowEmptyMentionsStrategy"),f),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),e),new(b("DocumentMentionsSource"))(b("FourLetterMentionsStrategy"),e)];i.debug("constructed_search_source",JSON.stringify({participants:c.map(function(a){return a&&a.fbid})}));return new(b("DocumentCompositeMentionsSource"))(g)}function k(a){return function(c,d){return b("filterCapitalizedNames")(c,d,a)}}function l(a){var c=g._("everyone").toString(),d=g._("Mention everyone in this chat").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a),subtitle:d})}function m(a){var c=g._("here").toString(),d=g._("Mention everyone in this chat who is active").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a)+"-active",subtitle:d})}e.exports=a},null);
__d("createMessengerMentionTypeaheadDraftEntity",[],function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("ASSISTANT_TYPEAHEAD","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a},null);
__d("MessengerComposerInput.react",["cx","fbt","requireCond","cr:1008504","AutocompleteSearchSource","AutocompleteStrategy","Bootloader","CompositeDraftDecorator","ContentState","CurrentUser","DebouncedMentionsTextEditor.react","DocumentCompositeMentionsSource","DocumentMentionsSource","DOMDimensions","DraftModifier","EditorState","EmojiFormat.bs","Event","LogHistory","MentionsLayer.react","MercuryIDs","MercuryThreadIDMap","MercuryThreadSnippet.react","MercuryThreadTitleSafe.react","MercuryTimestamp","MessengerActions","MessengerBotMenuButton.react","MessengerComposerInputStore","MessengerConstants","MessengerDomIDs.bs","MessengerEditorStateManager","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerSingleSectionContactList.react","MessengerTabIndices","MessengerUploadFilesUtil.bs","MessengerURLUploader","MessengerUserInputAppDispatcher","MessengerUserInputUtils","React","ReactDOM","Run","TypingDetectorController","cr:1272653","cr:1217281","cr:1217282","WorkGalahadChatPrefillMessageEventEmitter","WorkGalahadSettings","clearImmediate","createMentionsSearchSourceFromParticipants","createMessengerMentionDraftEntity","createMessengerMentionTypeaheadDraftEntity","debounce","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","gkx","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","immutable","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","joinClasses","nullthrows","prop-types","qex","replaceMentionedTextInEditorState","cr:1217283","setImmediate","shouldNotRenderSegoe","throttle","withMessengerSource"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerDomIDs.bs").ids,j=b("React"),k=1,l=/^image\//,m="handled",n=8,o="not-handled",p=b("LogHistory").getInstance("MessengerComposerInput"),q={};q[b("MessengerConstants").NEW_THREAD_KEY]={version:0,editorState:b("EditorState").createEmpty()};function r(a,c){var d=c.editorState,e=c.version;if(!a||a&&e<q[a].version)return;q[a]=c;a!==b("MessengerConstants").NEW_THREAD_KEY&&b("MessengerEditorStateManager").set(a,d)}function s(a){q[a]||(q[a]={version:0,editorState:b("EditorState").createEmpty()});return q[a]}function t(a,b){if(!a)return null;var c=s(a);c.editorState=b;q[a]=c;return c}function u(a,b){if(a){var c=s(a);c.version+=1;c.editorState=b;r(a,c)}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$10=!1;d.$21=function(a){if(d.$10&&a!==d.state.editorState){d.setState({editorState:a});a=t(d.props.threadID,a);a&&d.$5(d.props.threadID,a);d.props.onResize&&d.props.onResize()}};d.$22=function(a,c){if(b("isSoftNewlineEvent")(a)){a=b("handleSoftNewlineForMessengerEmoticon");a=a(c);d.setState({editorState:a});t(d.props.threadID,a);return m}d.setState({},d.triggerSend);return m};d.getValue=function(){return b("getVisibleValueForContentStateWithMessengerEmoji")(d.state.editorState.getCurrentContent())};d.focus=function(){d.refs.input&&d.refs.input.focus()};d.$32=function(a,b){d.props.onBeforeInput&&d.props.onBeforeInput(a,b);var c=d.$37(a,b);a=d.$38(a,b);return c||a?m:o};d.$13=function(a){a=d.props.handleOnlyImageUploads?a.filter(function(a){return a&&l.test(a.type)}):a;var c=d.$25();if(a.length){b("MessengerActions").prepareFilesForSend(c,a,"Copy");return m}return o};d.$33=function(a,c,e){b("cr:1217283")!=null&&b("cr:1217283")(d.props.threadID,a);return!1};d.$18=function(){var a=d.props.threadID;if(!a)return;r(a,s(a))};d.$19=function(){d.setState(d.$14(!0))};d.triggerSend=function(){d.$23()&&d.$26();if(d.getValue().trim().length>0||d.$39())if(d.props.thread){var a=d.getMentions(d.props.thread.thread_fbid);d.$29(a)}else d.$29();d.$27()};d.$34=function(){var a=(d.state.addedMentionsCount||0)+1;d.setState({addedMentionsCount:a})};d.$35=function(a,c){a=(d.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};d.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===k?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);d.setState(a)};d.$13=d.$13.bind(babelHelpers.assertThisInitialized(d));d.$11=c;d.state=d.$14();d.$6=b("debounce")(function(a){d.$11||(d.$11=a),v(d.props,d.$11)&&d.$15(),d.$11=a},300);d.$7=b("throttle")(function(){if(d.$10){var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).height;d.$1!==a&&(d.props.onResize&&d.props.onResize());d.$1=a}},100);return d}var d=c.prototype;d.$14=function(a){var c;this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?c=s(b("MessengerConstants").NEW_THREAD_KEY).editorState:c=b("MessengerEditorStateManager").get(this.props.threadID);c=this.$16(c,a);a=b("createMessengerMentionDraftEntity");return{editorState:c,mentionCreationForContentStateFn:a}};d.componentDidMount=function(){var a=this;this.$10=!0;var c=b("gkx")("964442");c&&b("MessengerUserInputAppDispatcher").explicitlyRegisterStore(b("MessengerComposerInputStore"));this.$1=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(this)).height;this.$17();b("cr:1217282")==null&&(this.$2=new(b("MessengerURLUploader"))(this.getValue,b("ReactDOM").findDOMNode(this.refs.input),this.props.threadID));b("Run").onUnload(this.$18);this.$3=b("Event").listen(window,"blur",this.$18);this.$4=b("Event").listen(window,"focus",this.$19);this.$5=b("debounce")(function(a,b){r(a,b)},1e3);b("CurrentUser").isWorkUser()&&(this.$12=b("WorkGalahadChatPrefillMessageEventEmitter").addListener("prefillMessage",function(b){a.insertPrefill(b)}))};d.componentDidUpdate=function(a,c){this.$9=b("setImmediate")(this.$7);if(c.editorState!==this.state.editorState){this.props.onChange&&this.props.onChange(this.getValue());c=b("gkx")("964442");c&&this.$20(this.getValue())}this.props.threadID!==a.threadID?this.$17():this.$6(a)};d.componentWillUnmount=function(){var a=this.props.threadID;a&&r(a,s(a));this.$10=!1;this.$8&&this.$8.destroy();this.$9&&b("clearImmediate")(this.$9);this.$3&&this.$3.remove();this.$4&&this.$4.remove();this.$12&&this.$12.remove()};d.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.$21(a)};d.insertPrefill=function(a){if(this.state.editorState.getCurrentContent().hasText())return;a=b("EditorState").createWithContent(b("ContentState").createFromText(a));a!==this.state.editorState&&this.$21(a)};d.insertLink=function(a){var c=this.state.editorState,d=c.getSelection();d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());c=b("EditorState").push(c,d,"insert-characters");c!==this.state.editorState&&(this.$21(c),b("cr:1217283")!=null&&b("cr:1217283")(this.props.threadID,a))};d.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.$21(b("EditorState").forceSelection(c,a.getSelectionAfter()))};d.$23=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadedFiles").size>0)};d.$17=function(){if(!this.$10)return;this.setState(this.$14(!1));this.$24();this.$2&&(this.$2.setThreadID(this.props.threadID),this.$2.clearShareData());this.$15()};d.$15=function(){if(this.props.mentionsEnabled){var a=this.props,c=a.participants,d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$24=function(){this.$8&&this.$8.destroy();this.$8=null;var a=this.props.viewer;if(!a)return;var c=b("ReactDOM").findDOMNode(this.refs.input);this.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&c&&(this.$8=new(b("TypingDetectorController"))(this.props.thread,b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),c,this.props.source,null,b("MercuryThreadIDMap").getForFBID(a).getServerIDFromClientIDNow(this.props.threadID),this.getValue))};d.$25=function(){var a=this.props,c=a.threadID;a=a.thread;if(!b("MercuryIDs").isValidThreadID(c)){if(a)return a.thread_id;p.debug("Invalid threadID ",c)}return c};d.$20=function(a){if(!this.$10)return;a=b("MessengerComposerInputStore").getState();var c=a.requestNumResults,d=a.requestType;if(a.isUserInputRequested&&c&&d){a=new(b("AutocompleteSearchSource"))(this.getValue(),c,d);c=new(b("DocumentMentionsSource"))(b("AutocompleteStrategy"),a);d=new(b("DocumentCompositeMentionsSource"))([c]);this.setState({isUserInputAutocomplete:!0,mentionCreationForContentStateFn:b("MessengerUserInputUtils"),mentionsSource:d})}else if(this.state.isUserInputAutocomplete){a=this.props;c=a.participants;d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$26=function(){var a=this.props.fileUploader,c=this.$25();a&&(p.debug("Before send files to thread ",c),b("MessengerUploadFilesUtil.bs").sendAttchments(a,this.props.onFileUpload),p.debug("Before clean files for thread ",c),b("MessengerActions").cleanFiles(c))};d.$27=function(){var a=this.props.onMessageSend;a!=null&&b("cr:1217281")!=null&&(this.$28()&&b("nullthrows")(this.props.workChatContentApps).forEach(function(c,d){var e=(d=c.payload)==null?void 0:d.shareData;if(e==null)return;b("setImmediate")(function(){return a("",{shareable_attachment:e})})}),b("cr:1217281").removeAllWorkContentApps(this.props.threadID))};d.$28=function(){var a=this.props.workChatContentApps;return a!=null&&a.size>0};d.$29=function(a){var c=this;if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData(),profile_ranges:a},function(d){b("MessengerActions").removeSharePreview(c.props.threadID);if(d&&c.props.mentionsEnabled&&(a&&a.length||c.state.addedMentionsCount||c.state.mentionsTriggeredCount||c.state.mentionsTriggerSource)){var e=c.state,f=e.addedMentionsCount,g=e.mentionsTriggeredCount,h=e.mentionsTriggerSource;e=c.props;var i=e.thread,j=e.participants,k=d;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(c,d){new c().setEvent(d.MENTION).setGroupSize(j&&j.size).setNumDelivered(a&&a.length||0).setNumSelects(f).setNumTriggers(g).setThreadid(i&&i.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(i&&i.thread_type)).setOfflineThreadid(k.offline_threading_id).updateExtraData({source:h}).log()},"MessengerComposerInput.react")}})){var d=this.$16(b("EditorState").createEmpty());this.$2&&this.$2.clearShareData();this.setState({editorState:d,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null});u(this.props.threadID,d);this.$8&&this.$8.resetState()}};d.getMentions=function(a){return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a)};d.getInput=function(){return this.refs.input};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.thread;c=c.viewer;var f=null;d&&e&&c?f=h._("Conversation with {participantListAsShownInThreadList}. Updated {lastUpdatedTime} by {recentUpdateStringAsShownInThreadList}",[h._param("participantListAsShownInThreadList",this.$30(e,c)),h._param("lastUpdatedTime",b("MercuryTimestamp").getAbsoluteTimestamp(e.timestamp)),h._param("recentUpdateStringAsShownInThreadList",this.$31(d,e,c))]):f=h._("Composing a new message");d=null;this.props.threadID&&this.props.pageID&&(d=j.jsx("div",{ref:"botsMenuContainer",className:"_3km1",children:j.jsx(b("MessengerBotMenuButton.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_3km2"})}));e="";this.props.disableInput?e=h._("Composer is disabled for this thread.").toString():!((c=this.props.thread)==null?void 0:c.is_canonical)||((c=this.props.thread)==null?void 0:c.other_user_fbid)!==b("CurrentUser").getID()&&b("gkx")("1101638")?e=h._("Type a message, \u0040name...").toString():e=h._("Type a message...").toString();c=b("gkx")("678612");var g=b("cr:1008504")!==null&&b("CurrentUser").isWorkUser()?b("cr:1008504"):b("DebouncedMentionsTextEditor.react");return j.jsxs("div",{className:b("joinClasses")("_kmc"+(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")?" _7kpg":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyx":"")+(this.props.smallerEqual640?" _2swd":"")+(b("shouldNotRenderSegoe")(this.state.editorState.getCurrentContent().getPlainText())?" _2por":"")+" navigationFocus",this.props.className),onClick:this.focus,role:"presentation",children:[this.props.showMenu?d:null,j.jsxs("div",{className:b("joinClasses")((b("CurrentUser").isWorkUser()&&!b("gkx")("1072568")?"_3-8x":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7q9o":"")+(this.props.showMenu?" _3km3":"")+(c?"":" _3oh-"),this.props.inputContainerClassName),children:[j.jsx(g,{autoHighlight:!0,ariaControls:i.CONVERSATION,ariaDescribedBy:i.COMPOSER_INPUT_DESCRIPTION,ariaLabel:e,editorState:this.state.editorState,handleBeforeInput:this.$32,handleContentReturn:this.$22,handlePastedFiles:this.$13,handlePastedText:this.$33,handleReturn:this.$22,maxResults:n,readOnly:this.props.disableInput,mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionTypeaheadCreationForContentStateFn:b("createMessengerMentionTypeaheadDraftEntity"),mentionResultsComponent:b("MentionsLayer.react"),mentionResultsProps:{typeaheadView:b("MessengerSingleSectionContactList.react"),typeaheadViewProps:{className:"_13iv",viewer:this.props.viewer},position:"above",autoflip:!0},mentionsSource:this.state.mentionsSource,assistantTypeaheadSource:this.state.assistantTypeaheadSource,onChange:this.$21,placeholder:e,ref:"input",spellCheck:!0,stripPastedStyles:!0,tabIndex:this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?b("MessengerTabIndices").COMPOSER_INPUT:0,textAlignment:"left",threadID:this.$25(),onAddMention:this.$34,onShowMentions:this.$35}),this.props.threadID!=null&&b("cr:1217282")!=null?j.jsx(b("cr:1217282"),{threadID:this.props.threadID,workLinks:this.props.workChatContentApps,files:this.props.fileUploader!=null?this.props.fileUploader.get("uploadedFiles"):null}):null,b("cr:1272653")!==null&&(b("qex")._("1269717")||b("gkx")("1325997"))?j.jsx(b("cr:1272653"),{contextRef:function(){return a.refs.input}}):null,j.jsx("div",{className:"_5ca7",id:i.COMPOSER_INPUT_DESCRIPTION,children:f})]})]})};d.$30=function(a,c){return j.jsx(b("MercuryThreadTitleSafe.react"),{thread:a,viewer:c})};d.$31=function(a,c,d){return j.jsx(b("MercuryThreadSnippet.react"),{participants:a,shouldAlwaysRenderSender:!0,shouldRenderYou:!0,thread:c,viewer:d})};d.$16=function(a,c){var d=this.$36(a);a=b("EditorState").set(a,{decorator:d});return c||this.props.disableAutofocus?a:b("EditorState").moveFocusToEnd(a)};d.$36=function(a){var c=b("MessengerEmoticonSpan.react");a=a.getCurrentContent();c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:c}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};d.$37=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});t(this.props.threadID,a);return!0};d.$38=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});t(this.props.threadID,a);return!0};d.handleTextDropped=function(a){var c=this.state.editorState,d=c.getSelection();if(d.get("hasFocus"))return;d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());a=b("EditorState").push(c,d,"insert-fragment");this.$21(a)};d.getShareData=function(){var a=this.props.sharePreview;return a&&a.type&&a.params?{share_type:a.type,share_params:a.params.get("data")}:null};d.exitCurrentMode=function(){this.refs.input&&this.refs.input.exitCurrentMode()};d.$39=function(){var a=this.props.sharePreview;return!!(a&&a.params&&a.type)};d.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.$21(a);this.$34()};return c}(j.PureComponent);a.propTypes={disableAutofocus:(c=b("prop-types")).bool,fileUploader:c.object,workChatContentApps:c.instanceOf(b("immutable").OrderedMap),handleOnlyImageUploads:c.bool.isRequired,isComposing:c.bool,mentionsEnabled:c.bool,pageID:c.string,participants:c.instanceOf(b("immutable").Map),sharePreview:c.object,showMenu:c.bool,disableInput:c.bool,smallerEqual640:c.bool,thread:c.object,threadID:c.string,viewer:c.string,onBeforeInput:c.func,onChange:c.func,onFileUpload:c.func,onResize:c.func,onMessageSend:c.func};function v(a,b){a=a.participants;b=b.participants;if(!a||!b)return!0;if(a===b)return!1;a=a.filter(Boolean);b=b.filter(Boolean);return a.size!==b.size||!a.equals(b)}e.exports=b("withMessengerSource")(a,!0)},null);
__d("MessengerComposerPendingActions.react",["Bootloader","CurrentUser","JSResource","MercuryIDs","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerDialogs.bs","MessengerMessageRequestsTypedLogger","React","lazyLoadComponent"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerPendingActions.react").__setRef("MessengerComposerPendingActions.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};d.render=function(){var a=this,c=this.props.thread,d=!!c&&b("MessageRequestUtils").isFiltered(c);c=b("CurrentUser").getID();var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,c),f=b("MercuryThreadActions").getForFBID(this.props.viewer);return g.jsx(g.Suspense,{fallback:g.jsx("div",{style:{height:51}}),children:g.jsx(h,{folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){f.changeFolder(a.props.threadID,b("MessagingTag").INBOX),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType(d?"other":"pending").setThreadKey(e).setEntryPoint(null).log()},onDeclineClick:function(){var c=b("MercuryIDs").isGroupChat(a.props.threadID);a.$1=b("Bootloader").loadModules(["MessengerDeclineDialogReact.bs"],function(d){var f=d.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(f,{onBlock:a.props.onIgnoreBlock,onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick,isGroupChat:c})});new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("pending").setThreadKey(e).setEntryPoint("inbox_banner").log()},"MessengerComposerPendingActions.react")},onDeleteClick:function(){a.$2=b("Bootloader").loadModules(["MessengerFilteredDeleteDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(d,{onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick})})},"MessengerComposerPendingActions.react"),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("other").setThreadKey(e).setEntryPoint("inbox_banner").log()}})})};return c}(g.Component);e.exports=a},null);
__d("MessengerFileSizeErrorDialogReact.bs",["fbt","React","FBLogger","ReasonReact.bs","MercuryConstants","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){switch(a){case"attachment-limit":return 3;case"size-exceeded":return 1;case"wrong-type":return 0;default:return 2}}c=b("ReasonReact.bs").statelessComponent("MessengerFileSizeErrorDialogReact");function j(a){switch(a){case 0:b("FBLogger")("messenger_upload_file").warn("Uploading file has wrong type");return g._("The type of file you're trying to attach isn't allowed. Please try again with a different format.");case 1:b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return g._("The file you have selected is too large. The maximum size is 25MB.");case 2:return null;case 3:b("FBLogger")("messenger_upload_file").warn("Attachment Limit is reached");return g._("You can send maximum {max number of files} files.",[g._param("max number of files",String(b("MercuryConstants").AttachmentMaxLimit))])}}function k(a){a=a.error;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Failed to upload files")}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:j(a)}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}function a(a){return k({error:i(a.error)})}d=k;f.errorOfString=i;f.component=c;f.renderDialogBody=j;f.make=d;f.jsComponent=a},null);
__d("MessengerResponsiveBlock.react",["React","createCancelableFunction","prop-types","requestAnimationFrame","shallowEqual","throttle"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,visibility:"hidden",zIndex:-1},i={left:0,position:"absolute",top:0,transition:"0s"},j={height:"200%",left:0,position:"absolute",top:0,transition:"0s",width:"200%"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.dirty=!1,d.lastWidth=null,d.lastHeight=null,d.lastBreakpointsToggles=null,d.setupWeirdScrollTracking=function(){d.refs.expandChild.style.width="10000px",d.refs.expandChild.style.height="10000px",d.refs.expand.scrollLeft=1e5,d.refs.expand.scrollTop=1e5,d.refs.shrink.scrollLeft=1e5,d.refs.shrink.scrollTop=1e5},d.$2=function(){var a=d.refs.outer.offsetWidth,c=d.refs.outer.offsetHeight;if((a!=d.lastWidth||c!=d.lastHeight)&&!d.dirty){if(Math.abs(a-(d.lastWidth||0))<10&&Math.abs(c-(d.lastHeight||0))<16)return;d.dirty=!0;d.lastWidth=a;d.lastHeight=c;a=d.props.breakpointsToggles(a,c);b("shallowEqual")(d.lastBreakpointsToggles,a)?d.dirty=!1:d.forceUpdate(function(){b("requestAnimationFrame")(function(){d.dirty=!1})});d.lastBreakpointsToggles=a}d.setupWeirdScrollTracking()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$2),this.onScroll=b("throttle")(this.$1,50),this.setupWeirdScrollTracking(),this.onScroll()};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){return g.jsxs("div",{ref:"outer",children:[this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),g.jsx("div",{style:h,onScroll:this.onScroll,ref:"expand",children:g.jsx("div",{style:i,ref:"expandChild"})}),g.jsx("div",{style:h,onScroll:this.onScroll,ref:"shrink",children:g.jsx("div",{style:j})})]})};return c}(g.Component);a.propTypes={children:b("prop-types").func.isRequired,breakpointsToggles:b("prop-types").func.isRequired};e.exports=a},null);
__d("MessengerSendIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{d:"M31.1059281,19.4468693 L10.3449666,29.8224462 C8.94594087,30.5217547 7.49043432,29.0215929 8.17420251,27.6529892 C8.17420251,27.6529892 10.7473302,22.456697 11.4550902,21.0955966 C12.1628503,19.7344961 12.9730756,19.4988922 20.4970248,18.5264632 C20.7754304,18.4904474 21.0033531,18.2803547 21.0033531,17.9997309 C21.0033531,17.7196073 20.7754304,17.5095146 20.4970248,17.4734988 C12.9730756,16.5010698 12.1628503,16.2654659 11.4550902,14.9043654 C10.7473302,13.5437652 8.17420251,8.34697281 8.17420251,8.34697281 C7.49043432,6.9788693 8.94594087,5.47820732 10.3449666,6.1775158 L31.1059281,16.553593 C32.298024,17.1488555 32.298024,18.8511065 31.1059281,19.4468693",fill:a})]}),fill:"none",fillRule:"evenodd"}),height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerSendButtonReact.bs",["fbt","React","Link.react","bs_belt_Option","bs_caml_option","MessengerCustomColorUtils.bs","MessengerSendIconSVGM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("Press Enter to send")+("\n"+g._("Press Shift+Enter to add a new paragraph"));function a(a){var c=a.className,d=a.customColor,e=a.onClick;a=a.useIcon;var f=d!==void 0?{color:d}:void 0;a=b("bs_belt_Option").getWithDefault(a,!1);c={"aria-label":g._("Send"),"data-hover":"tooltip","data-tooltip-content":i,className:c,onClick:e,role:"button",children:a?b("MessengerSendIconSVGM4React.bs").make(b("bs_belt_Option").getWithDefault(d,b("MessengerCustomColorUtils.bs").defaultColor(0))):g._("Send")};f!==void 0&&(c.style=b("bs_caml_option").valFromOption(f));return h.jsx(b("Link.react"),c)}c=a;f.title=i;f.make=c},null);
__d("MessengerSendButtonReact.re",["MessengerSendButtonReact.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerSendButtonReact.bs").make;f.make=a},null);
__d("ReasonBootloadOnInteraction.react",["React","ReasonBootloadOnRender.react"],function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hadUserInteraction:!1},c.$1=function(){c.setState({hadUserInteraction:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.state.hadUserInteraction)return g.cloneElement(this.props.placeholder,{onFocus:this.$1,onMouseOver:this.$1,onClick:this.$1});var a=this.props,c=a.loader,d=a.component;a=a.placeholder;return g.jsx(b("ReasonBootloadOnRender.react"),{placeholder:a,loader:c,component:d})};return c}(g.Component);e.exports=a},null);
__d("MercuryMessageBodyReact.bs",["ReasonReact.bs","MercuryMessageBody.react"],function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MercuryMessageBody.react"),{body:a},c)}f.make=a},null);
__d("ReplyingToMessageReact.bs",["ix","cx","fbt","Image.bs","React","asset","bs_caml_option","ReasonReact.bs","XUICloseButtonReact.bs","MercuryAttachmentType","MercuryMessageBodyReact.bs"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");c=b("ReasonReact.bs").statelessComponent("ReplyingToMessageReact");function k(a){var c=a.name,d=a.body,e=a.attachments,f=a.onCancelReplyingToMessage;a=a.isChatTab;var h,k=0;if(d!==void 0){d=d;d===""?k=1:h=[b("ReasonReact.bs").element(void 0,void 0,b("MercuryMessageBodyReact.bs").make(d,[])),null]}else k=1;if(k===1){if(e.length!==1)d=[i._({"*":"{number of attachments in message being replied to} Attachments","_1":"{number of attachments in message being replied to} Attachment"},[i._param("number of attachments in message being replied to",String(e.length)),i._plural(e.length)]),g("596865")];else{k=e[0];e=k.attach_type===b("MercuryAttachmentType").PHOTO;if(e)d=[i._("Photo"),g("596858")];else{e=k.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE;if(e)d=[i._("GIF"),g("596858")];else{e=k.attach_type===b("MercuryAttachmentType").VIDEO;if(e)d=[i._("Video"),g("596874")];else{e=k.attach_type===b("MercuryAttachmentType").STICKER||k.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER;d=e?[i._("Sticker"),g("596858")]:[i._("Attachment"),g("596852")]}}}}h=[d[0],b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_6ees",void 0,void 0,void 0,d[1],void 0,void 0,void 0,void 0,[]))]}return j.createElement("div",{className:(a?"_692o":"")+" _67tu"},b("ReasonReact.bs").element(void 0,void 0,b("XUICloseButtonReact.bs").make("_67tv",1,a?1:2,f,void 0,[])),i._("Replying to")," ",j.createElement("strong",void 0,i._("{name}",[i._param("name",c)])),j.createElement("div",{className:"_67tw _1nc6 ellipsis"},h[0],h[1]))}function a(a){var c={name:a.name,attachments:a.attachments,onCancelReplyingToMessage:a.onCancelReplyingToMessage,isChatTab:a.isChatTab};a=b("bs_caml_option").nullable_to_opt(a.body);a!==void 0&&(c.body=b("bs_caml_option").valFromOption(a));return k(c)}d=k;f.component=c;f.make=d;f.jsComponent=a},null);
__d("MessengerComposer.react",["cssVar","cx","fbt","invariant","requireCond","AsyncRequest","AutoFocusableLink.react","BootloadOnRender.react","ChatPhotoUploader.react","CurrentUser","FBLogger","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryReadOnlyReason","MercuryShareAttachmentRenderLocations","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerActions","MessengerBlockDialogReact.bs","MessengerBotMenuDataFetcher","MessengerButtonReact.re","MessengerComposerButtonLabels","MessengerComposerInput.react","MessengerComposerPendingActions.react","MessengerConfirmBlockThreadDialogReact.bs","MessengerConfirmLeaveGroupDialogReact.bs","MessengerConstants","MessengerContextualDialog.react","MessengerDialogs.bs","MessengerFileSizeErrorDialogReact.bs","MessengerHotLikeButton.react","MessengerHotLikeUtils","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerQuickCamOrigins","MessengerResponsiveBlock.react","MessengerSendButtonReact.re","MessengerState.bs","MessengerURIStore","MessengerView","MNCommerceCTAProcessor","MNCommercePageSetting","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","P2PGKValues","React","ReasonBootloadOnInteraction.react","ReasonResource","ReplyingToMessageReact.bs","WorkBotLandingPageHelper","WorkChatExtensionAvailabilityFetcher","cr:1124632","WorkFileUploadsGating","WorkGalahadChatSendButton.react","WorkGalahadSettings","XMessagingUnblockMessagesController","XMNCommercePageNullStateCTAController","XUISpinner.react","getPageIDFromThreadID","gkx","immutable","isWebGLEnabled","lazyLoadComponent","promiseDone","prop-types"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("MessengerBlockDialogReact.bs").jsComponent,l=b("MessengerButtonReact.re").make,m=b("MessengerConfirmBlockThreadDialogReact.bs").jsComponent,n=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,o=b("MessengerFileSizeErrorDialogReact.bs").jsComponent,p=b("MessengerSendButtonReact.re").make,q=b("React"),r=b("ReplyingToMessageReact.bs").jsComponent,s=b("WorkBotLandingPageHelper").shouldShowBotLandingPage,t=b("lazyLoadComponent")(b("JSResource")("WorkChatPostButtonReact").__setRef("MessengerComposer.react")),u=b("lazyLoadComponent")(b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("MessengerComposer.react")),v=b("lazyLoadComponent")(b("JSResource")("MessengerUnconnectedThreadInfoTextReact").__setRef("MessengerComposer.react")),w=640,x=b("WorkGalahadSettings").isGalahadEnabled?320:360,y=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.refsGifUploader=null;d.handleFileUpload=function(a){d.refsUploader&&d.refsUploader.uploadFiles(a),d.exitCurrentMode()};d.focusInput=function(){d.refsInput&&d.refsInput.focus()};d.$50=function(a){d.refsGifUploader=a};d.$53=function(){var a=b("XMessagingUnblockMessagesController").getURIBuilder().getURI(),c=d.props.threadID;new(b("AsyncRequest"))(a).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(c)}).send()};d.$10=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);d.$54()["delete"](d.props.threadID);b("MessengerActions").selectThread(null);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint("inbox_banner").log()};d.$9=function(){var a;a=(a=d.props)!=null?(a=a.thread)!=null?a.thread_id:a:a;a=b("MercuryIDs").isGroupChat(a);if(a)d.$55();else{a=(a=d.props)!=null?(a=a.thread)!=null?a.other_user_fbid:a:a;var c=a?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)):null,e=c&&c.short_name;e&&b("MessengerDialogs.bs").showDialog(function(){return q.jsx(k,{onBlock:function(){d.$56(e)},contact:c})})}};d.$11=function(a){var c=d.props.thread,e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);a||new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint("inbox_banner").log()};d.$51=function(a,c){a.platformFBID.toString()===b("MercuryConfig").MessengerAppID?d.props.onStickerSelect(a.resultID.toString()):d.refsGifUploader&&d.refsGifUploader.uploadURL&&d.refsGifUploader.uploadURL({attribution_app_id:a.platformFBID,external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source})};d.$52=function(a){d.focusInput(),d.refsInput&&d.refsInput.insertEmoji(a)};d.$19=function(a){d.setState({currentValue:a})};d.$15=function(a,b,c){d.refsEmojiButton&&d.refsEmojiButton.hideFlyout();return d.props.onMessageSend&&d.props.onMessageSend(a,b,c)};d.$48=function(a){d.refsInput&&d.refsInput.triggerSend()};d.$49=function(a){return d.props.onStickerSelect(a)};d.$13=function(){if(d.state.nullStateCTA!==null)switch(d.state.nullStateCTA.action_type){case 1:break;case 4:default:d.setState({disableNullState:!0});b("MNCommercePostbackRefSendManager").hasMDotMeRef(d.$5())?(b("MNCommercePostbackCTADataManager").sendAndConfirm(d.state.nullStateCTA.id,d.state.nullStateCTA.title,d.props.threadID,null,d.$1,b("MNCommercePostbackRefSendManager").getMdotMeRef()),b("MessengerActions").changeMDotMeReferral()):b("MNCommercePostbackCTADataManager").sendAndConfirm(d.state.nullStateCTA.id,d.state.nullStateCTA.title,d.props.threadID,null,d.$1);b("MNCommerceCTAProcessor").logCTAClick(d.state.nullStateCTA);break}};d.$1=function(){d.setState({showNullState:!0,disableNullState:!1})};d.$1=d.$1.bind(babelHelpers.assertThisInitialized(d));d.state=d.$2();return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.threadID!==this.props.threadID||a.thread&&!this.props.thread?(this.setState(this.$2()),a.thread&&this.$3(a.thread,b("getPageIDFromThreadID")(a.threadID))):a.thread&&this.$4(a.thread,b("getPageIDFromThreadID")(a.threadID))&&this.setState({showNullState:!1})};d.componentDidMount=function(){var a=this;this.props.thread&&this.$3(this.props.thread,this.$5());var c=b("gkx")("678608");b("CurrentUser").isWorkUser()&&c&&b("promiseDone")(b("WorkChatExtensionAvailabilityFetcher").checkHasChatExtension(),function(b){return a.setState({hasWorkChatExtension:b})})};d.componentDidUpdate=function(a){(a.canReply!==this.props.canReply||a.replyingToMessage!==this.props.replyingToMessage||a.sharePreview!==this.props.sharePreview||a.fileUploader!==this.props.fileUploader)&&(this.props.onResize&&this.props.onResize()),this.props.replyingToMessage&&a.replyingToMessage!==this.props.replyingToMessage&&this.focusInput(),this.props.thread&&(this.$6(),this.$7())};d.render=function(){var a=this;if(!this.props.canReply)return this.$8();else if(this.props.thread&&this.props.threadID&&this.props.viewer&&b("MessageRequestUtils").shouldShowComposerPendingActions(this.props.thread)&&!this.state.pendingActionsBypassed)return q.jsx(b("MessengerComposerPendingActions.react"),{thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer,onAccept:function(){return a.setState({pendingActionsBypassed:!0})},onIgnoreBlock:this.$9,onDeleteDialogDeleteClick:this.$10,onDeleteDialogToggleClick:this.$11});var c=this.props.thread&&this.props.thread.message_count;b("MNCommercePostbackRefSendManager").sendMDotMeRef(this.$5(),c);if(this.state.showNullState&&this.state.nullStateCTA!==null)return q.jsxs("div",{className:"_2xh0",children:[this.$12(),q.jsx("div",{className:"_2xh4 _59w_",children:q.jsx(b("BootloadOnRender.react"),{component:q.jsx(b("LazyComponent.react"),{cta:this.state.nullStateCTA,onClick:this.$13,disabled:this.state.disableNullState,threadID:this.props.threadID}),loader:b("JSResource")("ChatPageComposerNullState.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("XUISpinner.react"),{size:"small"})})})]});var d=this.$14();c=q.jsxs(q.Fragment,{children:[b("cr:1124632")!=null&&this.props.threadID!=null?q.jsx(b("cr:1124632"),{threadID:this.props.threadID,onResize:this.props.onResize,onClick:this.$15}):null,q.jsx(b("MessengerResponsiveBlock.react"),{breakpointsToggles:function(a){return[a!=null&&a<=w,a]},children:function(c){var e=c[0];c=c[1];return q.jsxs("div",{"aria-label":i._("New message"),className:"_4rv3"+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyq":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyv":""),role:"region",children:[a.props.thread&&b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(a.props.thread)?a.$16():null,a.props.replyingToMessage&&a.$17(),a.$18(a.props.threadID),q.jsxs("div",{className:"_5irm"+(e?" _1_73":""),children:[q.jsx(b("MessengerComposerInput.react"),{disableAutofocus:!!a.props.disableAutofocus,fileUploader:a.props.fileUploader,handleOnlyImageUploads:!1,isComposing:d,mentionsEnabled:a.props.mentionsEnabled,ref:function(b){return a.refsInput=b},onBeforeInput:function(){return a.refsEmojiButton&&a.refsEmojiButton.hideFlyout()},onResize:a.props.onResize,onMessageSend:a.$15,participants:a.props.participants,sharePreview:a.props.sharePreview,smallerEqual640:e,thread:a.props.thread,threadID:d?b("MessengerConstants").NEW_THREAD_KEY:a.props.threadID,pageID:a.$5(),viewer:a.props.viewer,onFileUpload:a.handleFileUpload,onChange:a.$19,showMenu:a.state.showMenu,disableInput:a.state.disableInput}),a.$20(c)]})]})}})]});var e=this.$5(),f=d?b("MessengerConstants").NEW_THREAD_KEY:this.props.threadID;return e&&!b("CurrentUser").isWorkUser()?q.jsx(b("BootloadOnRender.react"),{component:q.jsx(b("LazyComponent.react"),{onResize:this.props.onResize,originalElement:c,pageID:e,playLinkClassName:"_2xh6 _2xh7",showGameImage:!1,threadFBID:this.props.threadFBID,threadID:f}),loader:b("JSResource")("MessengerGameBotPlayButton.react").__setRef("MessengerComposer.react"),placeholder:c}):c};d.$18=function(a){if(!a||!this.$21())return null;var c=this.props,d=c.fileUploader;c=c.thread;c=c&&c.footer_color?c.footer_color:"#0084ff";return q.jsx(q.Suspense,{fallback:q.jsx(b("XUISpinner.react"),{className:"_2qf"}),children:q.jsx(u,{files:d!=null&&d.get("uploadedFiles")!=null?d.get("uploadedFiles"):b("immutable").Map(),small:!1,threadID:a,threadCustomColor:c,onClick:this.$22,onResize:this.props.onResize})})};d.$16=function(){var a;a=(a=this.props.thread)==null?void 0:a.other_user_fbid;if(!a)return null;a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return q.jsx(q.Suspense,{fallback:q.jsx("div",{}),children:q.jsx(v,{name:a&&a.short_name,onBlock:this.$9,onDelete:this.$10,onToggle:this.$11,thread:this.props.thread||void 0})})};d.$17=function(){var a=this.props.replyingToMessage;return!a?null:q.jsx(r,{name:this.$23(a),body:a.body,attachments:a.attachments,onCancelReplyingToMessage:this.props.onCancelReplyingToMessage})};d.$23=function(a){a=a.author?b("MessengerParticipants.bs").getNow(a.author):null;return a&&a.short_name};d.$22=function(a,c){b("MessengerActions").cancelFileUpload(a,c)};d.$20=function(a){var c=this;return this.state.disableInput===!0?null:q.jsxs("div",{ref:function(a){c.refsButtonsContainer=a},className:"_4rv4"+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyw":""),children:[this.$24(a),this.$25()]})};d.$24=function(a){if(this.props.hideActions)return null;return a&&a<x?q.jsxs("div",{children:[q.jsxs("ul",{className:"_39bj",children:[this.$26(),b("CurrentUser").isWorkUser()&&b("WorkFileUploadsGating").canUploadFiles?this.$27():this.$28(),this.$29(),this.$30(),this.$31()]}),q.jsxs("ul",{className:"_39bj",children:[this.$32(),this.$33(),this.$34(),this.$35(),this.$36()]})]}):q.jsxs("ul",{className:"_39bj",children:[this.$26(),b("CurrentUser").isWorkUser()?this.$27():null,this.$28(),b("CurrentUser").isWorkUser()?this.$37():null,this.$29(),this.$30(),this.$31(),this.$32(),this.$33(),this.$34(),this.$35(),this.$36()]})};d.$38=function(a){b("FBLogger")("messenger_upload_file").warn("Uploading file is too large"),b("MessengerDialogs.bs").showDialog(function(){return q.jsx(o,{error:a.error})})};d.handleTextDropped=function(a){this.refsInput&&this.refsInput.handleTextDropped(a)};d.$33=function(){return q.jsx("li",{children:this.$39()})};d.$39=function(){var a;if(!b("P2PGKValues").P2PVisible||!this.props.threadID||this.$40()||!this.props.p2pPaymentConfig||((a=this.props)!=null?(a=a.participants)!=null?a.size:a:a)===1)return null;a="_30yy _25pc _39bk";return q.jsx(b("BootloadOnRender.react"),{component:q.jsx(b("LazyComponent.react"),{className:a,ContextualDialog:b("MessengerContextualDialog.react"),thread:this.props.thread,threadID:this.props.threadID,p2pPaymentConfig:this.props.p2pPaymentConfig}),loader:b("JSResource")("P2PSendMoneyContainerBootloader.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:a,role:"button"})})};d.$36=function(){return b("gkx")("678582")&&this.props.threadID?q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{className:"_4rv5 _39bk"+(this.state.flyoutOpen?" _5jhb":""),location:b("MessengerQuickCamOrigins").MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:"_4rv5 _39bk",role:"button","aria-label":b("MessengerComposerButtonLabels").QuickCamButtonLabel})}):null};d.$32=function(){return!y||this.$14()?null:q.jsx("li",{children:q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{onVoiceClipCreate:this.props.onVoiceClipCreate}),loader:b("JSResource")("MessengerVoiceClipButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:"_4rv7 _39bk _30yy",role:"button","aria-label":b("MessengerComposerButtonLabels").VoiceClipButtonLabel})})})};d.$34=function(){if(b("gkx")("994335"))return null;if(this.props.thread&&this.props.thread.is_canonical)return null;return!this.props.threadFBID||this.$14()?null:q.jsx("li",{children:q.jsx(b("ReasonBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingButtonReact.bs").__setRef("MessengerComposer.react")),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:"_39bk _30yy _2o-b",role:"button","aria-label":b("MessengerComposerButtonLabels").GroupPollingButtonLabel})})})};d.$35=function(){var a=b("gkx")("678262")&&b("isWebGLEnabled")();return a&&this.props.threadFBID&&!this.$40()?q.jsx("li",{children:q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("JSResource")("MessengerGamesButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:"_39bk _30yy _4ce_",role:"button"})})}):null};d.$26=function(){return this.props.threadFBID&&!this.$40()&&this.state.hasWorkChatExtension?q.jsx("li",{children:q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("JSResource")("MessengerWorkplaceChatExtensionsButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:"_39bk _22k0 _30yy",role:"button"})})}):null};d.$41=function(a){var c=this,d=b("CurrentUser").isWorkUser()?!b("WorkFileUploadsGating").canUploadFiles:!1;return q.jsx("li",{className:"_39bk",children:q.jsx(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:!(this.props.threadID||this.$42()),ref:function(a){return c.refsUploader=a},imageClassName:(a=="files"?"_5vn8":"")+(a=="attachment"?" _46si":""),imagesOnly:d,inputClassname:"_260t",linkClassName:"_30yy _7hi7 _260u",focusInput:this.focusInput,onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$38,threadID:this.props.threadID})})};d.$43=function(){return this.$14()&&!this.$44()?!1:!0};d.$44=function(){return this.props.recipients&&this.props.recipients.count()===1};d.$28=function(){return!this.$43()?null:this.$41("files")};d.$27=function(){return!b("WorkFileUploadsGating").canUploadFiles||!this.$43()?null:this.$41("attachment")};d.$37=function(){var a,c=this.props.openPostComposerInSameWindow?"_self":"_blank";a=(a=this.props)!=null?(a=a.thread)!=null?(a=a.associated_object)!=null?a.action_link:a:a:a;if(!a){var d;a=(d=this.props)!=null?(d=d.thread)!=null?(d=d.work_associated_group)!=null?d.url:d:d:d}return a?b("gkx")("808098")?q.jsx(q.Suspense,{fallback:q.jsx("div",{}),children:q.jsx(t,{composerLink:a,target:c})}):null:null};d.$45=function(){return this.state.currentValue.length>0||this.$21()||this.$46()};d.$21=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadedFiles").size>0)};d.$46=function(){var a=this.props.sharePreview;return!!(a&&a.params&&a.type)};d.$47=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadingFiles").size>0)};d.$25=function(){var a=!(this.props.threadID||this.$42());return!a&&this.$45()&&!this.$47()?b("WorkGalahadSettings").isGalahadEnabled?q.jsx(b("WorkGalahadChatSendButton.react"),{customColor:this.props.thread?this.props.thread.solid_color:null,onClick:this.$48,className:(this.props.threadID?"_30yy":"")+" _38lh"}):q.jsx(p,{className:(this.props.threadID?"_30yy":"")+" _38lh",customColor:this.props.thread&&this.props.thread.solid_color||void 0,onClick:this.$48}):q.jsx(b("MessengerHotLikeButton.react"),{className:"_4rv9"+(this.props.threadID?" _30yy":""),disabled:a,customColor:this.props.thread&&this.props.thread.solid_color,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(this.props.thread)||void 0,sendSticker:this.$49,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID,renderSize:24,thread:this.props.thread})};d.$29=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _4rv6 _39bk";return q.jsx("li",{children:q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),disabled:!(this.props.threadID||this.$42()),getInput:function(){return a.refsInput},flyoutAlignment:"right",flyoutClassName:"_293j",flyoutWidth:285,onStickerSelect:this.props.onStickerSelect,threadID:this.props.threadID}),loader:b("JSResource")("ChatStickerButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").StickerButtonLabel})})})};d.$12=function(){var a;a=(a=this.props)!=null?(a=a.thread)!=null?a.other_user_fbid:a:a;a=a?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)):null;var c=a&&a.name||"page";if(this.state.nullStateCTA!==null)switch(this.state.nullStateCTA.action_type){case 1:return null;case 4:if(!b("MNCommercePostbackRefSendManager").hasMDotMeRef(this.$5())&&!this.state.nullStateCTA.instantgame_metadata&&!b("CurrentUser").isWorkUser())return q.jsx("div",{className:"_3zc8",children:i._("When you tap {cta title}, {name} will see your public info.",[i._param("cta title",this.state.nullStateCTA.title),i._param("name",c)])});else if(b("MNCommercePostbackRefSendManager").hasMDotMeRef(this.$5())){var d=this.$5();a=a&&a.vanity?"m.me/"+a.vanity:d?"m.me/"+d:"m.me";return q.jsx("div",{className:"_3zc8",children:i._("When you tap {cta title}, {name} will see your public info and that you opened their {link} link.",[i._param("cta title",this.state.nullStateCTA.title),i._param("name",c),i._param("link",a)])})}break;default:return null}return null};d.$30=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _yht _39bk";return q.jsxs("li",{children:[q.jsx("div",{style:{display:"none"},children:q.jsx(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:!1,ref:this.$50,imagesOnly:!1,focusInput:this.focusInput,onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$38})}),q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),getInput:function(){return a.refsInput},getQuery:function(){return a.refsInput?a.refsInput.getValue():""},location:b("MercuryShareAttachmentRenderLocations").MESSENGER,onSelect:this.$51}),loader:b("JSResource")("ChatContentSearchButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").ContentSearchButtonLabel})})]})};d.$31=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _5s2p _39bk";return q.jsx("li",{children:q.jsx(b("MercuryBootloadOnInteraction.react"),{component:q.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),flyoutAlignment:"right",getInput:function(){return a.refsInput},onSelect:this.$52,onMount:function(b){return a.refsEmojiButton=b},sendCustomEmoji:this.props.onCustomLikeSelect,threadID:this.props.threadID}),loader:b("JSResource")("ChatEmojiButton.react").__setRef("MessengerComposer.react"),placeholder:q.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").EmojiButtonLabel})})})};d.$8=function(){var a=this;if(!this.props.thread||this.props.view===b("MessengerView").DETAIL.COMPOSE)return null;var c=this.props.thread,d=this.props.participants,e=!1,f=!1;if(c.cannot_reply_reason==="blocked"){e=!0;c.is_canonical===!0||j(0,4973);d!=null||j(0,4974);var g=c.other_user_fbid;g!=null||j(0,4975);d=d.get(b("MercuryIDs").getParticipantIDFromUserID(g));d!=null||j(0,4976);b("MessengerState.bs").compute(this.props.viewer,function(d){d=d.blocked_ids;b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(a.props.viewer,d,c)&&(f=!0)})}if(e){g=this.$40()?"page":"person";if(f)return q.jsx("div",{className:"_4rv3",children:q.jsx("div",{className:"_2wy4",children:i._("You've blocked messages from this {name}. {unblock_now_button}",[i._param("name",g),i._param("unblock_now_button",q.jsx(l,{label:i._("Unblock Now"),onClick:this.$53,type:"secondary"}))])})});else return q.jsx("div",{className:"_4rv3",children:q.jsx("div",{className:"_2wy4",children:i._("This person isn't available right now.")})})}return q.jsx("div",{className:"_4rv3",children:q.jsx("div",{className:"_2wy4",children:b("MercuryReadOnlyReason").getReason(c.has_email_participant)})})};d.$55=function(){var a=this,c,d=(c=this.props)!=null?(c=c.thread)!=null?c.thread_id:c:c;d&&b("MessengerDialogs.bs").showDialog(function(){return q.jsx(n,{onLeave:function(){var c=b("MessengerURIStore").getState().activeThreadID===d;a.$54().leaveGroup(d);c&&b("MessengerActions").selectThread(null)},isViewerAdmin:!1,thread:a.props.thread})})};d.$56=function(a){var c=this,d=this.props.threadID,e=d===b("MessengerURIStore").getState().activeThreadID;this.$54().blockIgnoreOnMessengerDotCom(e,d,function(){c.$57(a)})};d.$57=function(a){var c=this.props,d=c.threadID;c=c.thread;b("MessengerDialogs.bs").showDialog(function(){return q.jsx(m,{participantName:a})});var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(null).log()};d.exitCurrentMode=function(){this.refsInput&&this.refsInput.exitCurrentMode()};d.$14=function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE};d.$42=function(){return!!(this.$14()&&this.props.recipients&&this.props.recipients.size)};d.$40=function(){return!!this.$5()};d.$5=function(){return b("getPageIDFromThreadID")(this.props.threadID)};d.$6=function(){var a=this,c=this.$5();c?b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({showMenu:b})},function(){a.setState({showMenu:!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED):this.setState({showMenu:!1})};d.$7=function(){var a=this,c=this.$5();c?b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({disableInput:b})},function(){a.setState({disableInput:!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED):this.setState({disableInput:!1})};d.$4=function(a,c){var d=a.message_count;c=!!c;if(b("CurrentUser").isWorkUser()&&c&&d===1&&this.props.viewer){c=b("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a.thread_id,0,1);return!s(b("immutable").List(c))}return d>0};d.$58=function(a,b){b=s(b);var c=!!a;c&&b&&this.$59(a)};d.$59=function(a){var c=b("XMNCommercePageNullStateCTAController").getURIBuilder();new(b("AsyncRequest"))().setURI(c.getURI()).setMethod("POST").setData({page_id:a}).setHandler(function(a){a&&a.payload?this.setState({showNullState:!0,nullStateCTA:a.payload}):this.setState({showNullState:!1,disableNullState:!1})}.bind(this)).send()};d.$3=function(a,c){var d=this,e=a.message_count,f=!!c;if(b("CurrentUser").isWorkUser()&&f&&e===1&&this.props.viewer){b("MessengerState.bs").getThreadMessagesRange(this.props.viewer,a.thread_id,0,1,function(a){return d.$58(c,b("immutable").List(a||[]))});return}a=e===0;f&&a?this.$59(c):this.setState({showNullState:!1,disableNullState:!1})};d.$2=function(){return{pendingActionsBypassed:!1,currentValue:"",nullStateCTA:null,showMenu:!1,disableInput:!1,showNullState:!1,disableNullState:!1}};d.$54=function(){var a;a=(a=this.props.viewer)!=null?a:b("CurrentUser").getID();return b("MercuryThreadActions").getForFBID(a)};d.testUtils_renderRawP2PSendMoneyButton=function(){return this.$39()};d.replyToMention=function(a){this.refsInput&&this.refsInput.addMention&&this.refsInput.addMention(a)};return c}(q.PureComponent);a.propTypes={canReply:b("prop-types").bool,disableAutofocus:b("prop-types").bool,fileUploader:b("prop-types").object,hideActions:b("prop-types").bool,mentionsEnabled:b("prop-types").bool,onCustomLikeSelect:b("prop-types").func,onMessageSend:b("prop-types").func,onPhotoUploadComplete:b("prop-types").func,onPhotoUploadCancel:b("prop-types").func,onPhotoUploadFail:b("prop-types").func,onPhotoUploadSubmit:b("prop-types").func,onResize:b("prop-types").func,onStickerSelect:b("prop-types").func.isRequired,onVoiceClipCreate:b("prop-types").func,p2pPaymentConfig:b("prop-types").object,participants:b("prop-types").instanceOf(b("immutable").Map),recipients:b("prop-types").instanceOf(b("immutable").List),sharePreview:b("prop-types").object,threadID:b("prop-types").string,threadFBID:b("prop-types").string,thread:b("prop-types").object,view:b("prop-types").string,viewer:b("prop-types").string,replyingToMessage:b("prop-types").object,onCancelReplyingToMessage:b("prop-types").func,openPostComposerInSameWindow:b("prop-types").bool};e.exports=a},null);
__d("MercurySendMessageHandler",["MercuryMessageActions","MercuryMessageObject","MercurySingletonProvider"],function(a,b,c,d,e,f){"use strict";a=function(){a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){this.$1=a,this.$2=b("MercuryMessageActions").getForFBID(this.$1),this.$3=b("MercuryMessageObject").getForFBID(this.$1)}var c=a.prototype;c.sendPlainTextMessage=function(a,b,c){b=this.$3.constructUserGeneratedMessageObject(b,c,a);this.$2.send(b)};c.sendSticker=function(a,b,c){b=this.$3.constructStickerMessageObject(b,c,a);this.$2.send(b)};c.sendAttachment=function(a,b,c){c=this.$3.constructAttachmentMessageObject(c,a);this.$2.addAttachmentPlaceholder(c,b.upload_id,b)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a},null);
__d("MessengerVideoIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsx("path",{id:"path-video-icon",d:"m1,8l24,0c0.552,0 1,0.448 1,1l0,7c0,2.209 -1.791,4 -4,4l-18,0c-2.209,0 -4,-1.791 -4,-4l0,-7c0,-0.552 0.448,-1 1,-1zm6.4865,-2l-6.4865,0c-0.552,0 -1,-0.448 -1,-1l0,-1c0,-2.209 1.791,-4 4,-4l0.7545,0c0.3315,0 0.6345,0.1875 0.783,0.4835l2.396,4.793c0.1665,0.3325 -0.0755,0.7235 -0.447,0.7235zm9.517,0l-5.775,0c-0.332,0 -0.635,-0.1875 -0.783,-0.4835l-2.396,-4.793c-0.1665,-0.3325 0.0755,-0.7235 0.447,-0.7235l5.775,0c0.332,0 0.6345,0.1875 0.783,0.4835l2.396,4.793c0.1665,0.3325 -0.0755,0.7235 -0.447,0.7235zm7.9965,0l-4.2545,0c-0.3315,0 -0.6345,-0.1875 -0.783,-0.4835l-2.396,-4.793c-0.1665,-0.3325 0.0755,-0.7235 0.447,-0.7235l3.9865,0c2.209,0 4,1.791 4,4l0,1c0,0.552 -0.448,1 -1,1z"})}),h.jsx("g",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("mask",{children:h.jsx("use",{xlinkHref:"#path-video-icon"}),id:"mask-video-icon",transform:"translate(0,-19.793445587158203) translate(0.06049203872680664,0) translate(0,10) translate(0,10) translate(0,-0.21953368186950684) translate(-2.3051037788391113,-0.7683678865432739) translate(1.866036295890808,0.21953368186950684) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(0,0.10976684838533401) translate(5.378575325012207,7.683679103851318) translate(5,8) translate(-5,-8) "}),h.jsx("use",{fill:a,x:"5",xlinkHref:"#path-video-icon",y:"8"})]})}),fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"})],className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerVideoIconSVGM4React.re",["MessengerVideoIconSVGM4React.bs"],function(a,b,c,d,e,f){a=function(a){a=b("MessengerVideoIconSVGM4React.bs").make(a.fill);return a};f.make=a},null);
__d("MessengerContextualDialogReact.bs",["bs_curry","ReasonReact.bs","bs_js_null_undefined","MessengerContextualDialog.react"],function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)switch(a){case 0:return"center";case 1:return"left";case 2:return"right"}}function a(a,c,d,e,f,h,i,j,k){if(d!==void 0){var l=d;d=function(a){return b("bs_js_null_undefined").fromOption(b("bs_curry")._1(l,0))}}else d=function(a){return};return b("ReasonReact.bs").wrapJsForReason(b("MessengerContextualDialog.react"),{alignment:b("bs_js_null_undefined").fromOption(g(a)),className:b("bs_js_null_undefined").fromOption(c),contextRef:d,offsetY:b("bs_js_null_undefined").fromOption(f),onBlur:b("bs_js_null_undefined").fromOption(e),onToggle:h,shown:b("bs_js_null_undefined").fromOption(i),width:b("bs_js_null_undefined").fromOption(j)},k)}f.stringOfAlignment=g;f.make=a},null);
__d("MessengerFlyoutPlaceholderReact.bs",["React","XUISpinner.react"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a={padding:"30px",textAlign:"center"};return g.jsx("div",{children:g.jsx(b("XUISpinner.react"),{size:"large"}),style:a})}c=a;f.make=c},null);
__d("MessengerFlyoutButtonReact.bs",["cx","bs_curry","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","AutoFocusableLink.react","MessengerContextualDialogReact.bs","MessengerFlyoutPlaceholderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a,c){var d=a.className,e=a.createFlyout,f=a.dialogClassName,g=a.disabled,i=a.flyoutAlignment,j=a.flyoutWidth,k=a.getInput,l=a.icon,m=a.onClick,n=a.onHideFlyout,o=a.title;a=a.testid;c=c;g=g!==void 0?g:!1;var p=h.useRef(null),q=h.useState(function(){return!1}),r=q[1],s=q[0];q=h.useState(function(){return!1});var t=q[1],u=q[0],v=h.useCallback(function(a){a=b("bs_curry")._1(k,0);if(a==null)return 0;else return a.focus()},[k]),w=h.useCallback(function(a){b("bs_curry")._1(v,0);b("bs_curry")._1(t,function(a){return!1});if(n!==void 0)return b("bs_curry")._1(n,0);else return 0},[v,t,n]);h.useImperativeHandle(c,function(){return{hideFlyout:w}},[w]);q=function(a){a.stopPropagation();if(s)return b("bs_curry")._1(r,function(a){return!1});else{b("bs_curry")._1(t,function(a){return!a});if(m!==void 0)return b("bs_curry")._1(m,a);else return 0}};c=h.jsx(h.Suspense,{children:b("bs_curry")._2(e,w,u),fallback:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{})});e=u?b("ReasonReact.bs").element("contextualDialog",void 0,b("MessengerContextualDialogReact.bs").make(i!==void 0?i:1,b("bs_belt_Option").getWithDefault(f,""),function(a){return b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(p.current),function(a){return a})},w,10,function(a){return b("bs_curry")._1(t,function(b){return a})},u,b("bs_belt_Option").getWithDefault(j,278),c)):null;if(g)return h.jsx("div",{children:l,className:d});else{i={"aria-label":o,autoFocus:!1,children:h.createElement(h.Fragment,void 0,l,e),className:b("joinClasses")(d,u?"open":""),href:"#",onMouseDown:function(a){return b("bs_curry")._1(r,function(a){return u})},onClick:q,ref:p,role:"button",title:o};a!==void 0&&(i["data-testid"]=b("bs_caml_option").valFromOption(a));return h.jsx(b("AutoFocusableLink.react"),i)}}c=h.forwardRef(a);d=278;f.cFLYOUT_WIDTH=d;f.make=c},null);
__d("MessengerMoreIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M7.5,9 L28.5,9 C29.3284271,9 30,9.67157288 30,10.5 C30,11.3284271 29.3284271,12 28.5,12 L7.5,12 C6.67157288,12 6,11.3284271 6,10.5 C6,9.67157288 6.67157288,9 7.5,9 Z M7.5,16.5 L28.5,16.5 C29.3284271,16.5 30,17.1715729 30,18 C30,18.8284271 29.3284271,19.5 28.5,19.5 L7.5,19.5 C6.67157288,19.5 6,18.8284271 6,18 C6,17.1715729 6.67157288,16.5 7.5,16.5 Z M7.5,24 L28.5,24 C29.3284271,24 30,24.6715729 30,25.5 C30,26.3284271 29.3284271,27 28.5,27 L7.5,27 C6.67157288,27 6,26.3284271 6,25.5 C6,24.6715729 6.67157288,24 7.5,24 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerBotMenuButtonReact.bs",["bs_curry","React","JSResource","lazyLoadComponent","MNBotsLoggerEvents","MessengerFlyoutButtonReact.bs","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerMoreIconSVGM4React.bs","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.pageId,j=a.threadId;a=g.useState(function(){return!1});var k=a[1],l=a[0];a=g.useState(function(){return});var m=a[1],n=a[0];g.useEffect(function(){new(b("MessengerBotsWebTypedLogger"))().setEvent(b("MNBotsLoggerEvents").BOT_COMPOSER_MENU_ICON_DISPLAYED).setPageID(i).log();return},[i]);a=function(a){if(n!==void 0)return 0;else{b("bs_curry")._1(k,function(a){return!0});b("MessengerBotMenuDataFetcher").getMenuItems(i,function(a){b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},function(a){b("bs_curry")._1(m,function(a){return[]});return b("bs_curry")._1(k,function(a){return!1})});return 0}};var o=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(i,a);b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},p=function(a,b){return g.createElement(h,{onEscKeyDown:a,shown:b,isLoading:l,menuItems:n,pageID:i,threadID:j,onClick:a})};return g.jsxs("div",{children:[g.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:p,flyoutAlignment:e,getInput:f,icon:b("MessengerMoreIconSVGM4React.bs").make(d),onClick:a,title:"",ref:function(a){return[a]}}),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:i,onUpdate:o})]})}c=a;f.bootloadedBotMenuFlyout=h;f.make=c},null);
__d("MessengerCameraIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M18.01125,23.50245 C15.52875,23.50745 13.51225,21.49495 13.50775,19.00845 C13.50275,16.52145 15.51175,14.50195 17.99425,14.49695 C20.47675,14.49245 22.49325,16.50445 22.49775,18.99145 C22.50225,21.47795 20.49375,23.49745 18.01125,23.50245 M17.99825,12.49945 C14.40825,12.50695 11.50325,15.42245 11.51025,19.01245 C11.51675,22.60195 14.43275,25.50695 18.02275,25.49995 C21.61275,25.49295 24.51775,22.57745 24.51125,18.98795 C24.50425,15.39745 21.58825,12.49295 17.99825,12.49945 M26.50025,28.99995 L9.50025,28.99995 C7.29125,28.99995 5.50025,27.20895 5.50025,24.99995 L5.50025,13.99995 C5.50025,11.79095 7.29125,9.99995 9.50025,9.99995 L10.00025,9.99995 C10.96025,9.99995 11.88175,9.61845 12.56075,8.93945 L13.43925,8.06045 C14.11825,7.38195 15.03975,6.99995 16.00025,6.99995 L20.00025,6.99995 C20.96025,6.99995 21.88175,7.38195 22.56075,8.06045 L23.43925,8.93945 C24.11825,9.61845 25.03975,9.99995 26.00025,9.99995 L26.50025,9.99995 C28.70925,9.99995 30.50025,11.79095 30.50025,13.99995 L30.50025,24.99995 C30.50025,27.20895 28.70925,28.99995 26.50025,28.99995",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerComposerPendingActionsM4React.bs",["React","bs_caml_obj","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","MessagingTag","MessengerActions","MessengerDialogs.bs","MessengerURIStore","MessageRequestUtils","MercuryThreadActions","MessengerParticipants.bs","MessengerBlockDialogReact.bs","MessengerMessageRequestsTypedLogger","MessengerComposerPendingActions.react","MessengerConfirmBlockThreadDialogReact.bs"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return b("MercuryThreadActions").getForFBID(a)}function h(a,c,d){b("MessengerDialogs.bs").showDialog(function(a){return g.jsx(b("MessengerConfirmBlockThreadDialogReact.bs").make,{participantName:d})});var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());a=b("MessageRequestUtils").isFiltered(a);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(a?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(void 0).log();return 0}function i(a,c,d,e){var f=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,d);b("MercuryThreadActions").getForFBID(a).blockIgnoreOnMessengerDotCom(f,d,function(a){return h(c,d,e)});return 0}function j(a,c,d,e){b("MercuryThreadActions").getForFBID(a)["delete"](d,null);b("MessengerActions").selectThread(null,null);e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,b("CurrentUser").getID());a=b("MessageRequestUtils").isFiltered(c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(a?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint("inbox_banner").log();return 0}function k(a,c,d){if(d)return 0;else{d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());a=b("MessageRequestUtils").isFiltered(a);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(a?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(d).setEntryPoint("inbox_banner").log();return 0}}function l(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,"other");d=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,c);if(d){b("MessengerActions").selectThread(null,null);return 0}else return 0}function m(a,c,d){var e=c.thread_id;if(b("MercuryIDs").isGroupChat(e))return l(a,e,0);else{d=c.other_user_fbid;if(d==null)return 0;else{var f=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(f==null)return 0;else return b("MessengerDialogs.bs").showDialog(function(d){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(function(b){return i(a,c,e,f.short_name)},b("bs_caml_option").some(f),null,[]))})}}}function c(a){var c=a.thread,d=a.threadId,e=a.viewer;a=a.onAccept;return g.jsx(b("MessengerComposerPendingActions.react"),{thread:c,threadID:d,viewer:e,onAccept:a,onIgnoreBlock:function(a){return m(e,c,a)},onDeleteDialogDeleteClick:function(a){return j(e,c,d,a)},onDeleteDialogToggleClick:function(a){return k(c,d,a)}})}d=c;f.getThreadActions=a;f.handleAfterBlock=h;f.handleConfirmBlock=i;f.handleDeleteDialogDeleteClick=j;f.handleDeleteDialogToggleClick=k;f.handleIgnore=l;f.handleIgnoreBlock=m;f.make=d},null);
__d("MessengerCurrencyEURIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,17.5 L15.0175,17.5 C15.0075,17.6645 15,17.83 15,18 C15,18.17 15.0075,18.3355 15.0175,18.5 L30.5,18.5 C30.776,18.5 31,18.276 31,18 C31,17.724 30.776,17.5 30.5,17.5 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,15 C5,15.276 5.224,15.5 5.5,15.5 L12.787,15.5 C13.5795,12.2965 16.0515,10.25 20.5,10.25 C20.835,10.25 21.15,10.267 21.4265,10.291 C21.9925,10.3395 22.476,10.7855 22.499,11.3535 C22.5255,12.0045 21.9945,12.5305 21.3505,12.5065 C21.2395,12.5025 21.1225,12.5 21,12.5 C17.971,12.5 16.214,13.6625 15.454,15.5 L30.5,15.5 C30.776,15.5 31,15.276 31,15 L31,12 C31,9.791 29.209,8 27,8 Z M30.5,20.5 L15.454,20.5 C16.214,22.3375 17.971,23.5 21,23.5 C21.111,23.5 21.218,23.498 21.32,23.4945 C21.874,23.4755 22.391,23.8595 22.4835,24.4065 C22.594,25.0575 22.1335,25.644 21.5025,25.7025 C21.2085,25.7295 20.8665,25.75 20.5,25.75 C16.0515,25.75 13.5795,23.7035 12.787,20.5 L5.5,20.5 C5.224,20.5 5,20.724 5,21 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,21 C31,20.724 30.776,20.5 30.5,20.5 Z M5.5,17.5 C5.224,17.5 5,17.724 5,18 C5,18.276 5.224,18.5 5.5,18.5 L12.5175,18.5 C12.5105,18.334 12.5,18.17 12.5,18 C12.5,17.83 12.5105,17.666 12.5175,17.5 L5.5,17.5 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCurrencyGBPIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,16.5 C5,16.776 5.224,17 5.5,17 L14.861,17 C14.661,16.204 14.4915,15.3075 14.4915,14.258 C14.4915,11.5845 16.4645,10 20,10 L21.9465,10 C22.4445,10 22.906,10.3405 22.9865,10.832 C23.088,11.4585 22.607,12 22,12 L20,12 C17.851,12 16.979,12.9685 16.979,14.478 C16.979,15.428 17.161,16.245 17.3695,17 L30.5,17 C30.776,17 31,16.776 31,16.5 L31,12 C31,9.791 29.209,8 27,8 M30.5,19 L17.895,19 C17.9505,19.2985 17.992,19.5965 17.992,19.898 C18.013,21.25 17.313,22.7855 16.085,23.488 L22.9355,23.488 C23.4355,23.488 23.899,23.83 23.979,24.3235 C24.0815,24.9525 23.5985,25.496 22.989,25.496 L13.511,25.496 C13.0015,25.496 12.5555,25.115 12.512,24.6075 C12.462,24.0215 12.7985,23.482 13.332,23.2585 C14.712,22.6805 15.5055,21.403 15.5145,19.9605 C15.5145,19.656 15.4615,19.3355 15.388,19 L5.5,19 C5.224,19 5,19.224 5,19.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,19.5 C31,19.224 30.776,19 30.5,19",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCurrencyPENIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{d:"M14.5,25.5 C11.638,25.5 10.3105,24.3635 9.6655,23.2965 C9.189,22.508 9.768,21.5 10.6895,21.5 C11.154,21.5 11.5605,21.765 11.806,22.1595 C12.2805,22.9205 13.185,23.484 14.605,23.484 C16.42,23.484 17.5,22.5775 17.5,21.2695 C17.5,20.204 16.7345,19.6445 15.2235,19.276 L12.9265,18.7165 C11.0375,18.284 9.4945,17.166 9.4945,14.803 C9.4945,12.312 11.442,10.5 14.5,10.5 C17.0295,10.5 18.65,11.5585 19.3465,12.84 C19.75,13.5815 19.17,14.4845 18.325,14.4845 C17.8545,14.4845 17.4335,14.218 17.2085,13.8045 C16.7965,13.049 15.897,12.5045 14.584,12.5045 C12.9895,12.5045 11.9815,13.3265 11.9815,14.603 C11.9815,15.5205 12.58,16.164 13.891,16.4695 L16.199,17.029 C18.34,17.525 19.9765,18.548 19.9765,21.048 C19.9765,23.594 18.0625,25.5 14.5,25.5 Z M9,8 L25.686,8 C25.938,8 26.1185,8.244 26.0445,8.4855 L20.1765,27.5585 C20.095,27.8215 19.853,28 19.5785,28 L9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 Z M28.4282,9.22705 C28.5762,8.74605 29.1507,8.62105 29.4862,8.88705 C30.4057,9.61705 31.0002,10.73455 31.0002,12.00005 L31.0002,24.00005 C31.0002,26.20905 29.2092,28.00005 27.0002,28.00005 L23.1602,28.00005 C22.9082,28.00005 22.7277,27.75605 22.8017,27.51455 L28.4282,9.22705 Z"}),fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCurrencyPHPIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,15.5 L23.483,15.5 C23.4915,15.664 23.5,15.829 23.5,16 C23.5,16.1715 23.4915,16.336 23.483,16.5 L30.5,16.5 C30.776,16.5 31,16.276 31,16 C31,15.724 30.776,15.5 30.5,15.5 Z M14.9935,19.004 L18.304,19.004 C19.3015,19.004 20.0505,18.685 20.5045,18 L14.9935,18 L14.9935,19.004 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,13.5 C5,13.776 5.224,14 5.5,14 L12.5,14 L12.5,11.75 C12.5,11.0595 13.0595,10.5 13.75,10.5 L18.5,10.5 C20.9585,10.5 22.646,11.7565 23.25,14 L30.5,14 C30.776,14 31,13.776 31,13.5 L31,12 C31,9.791 29.209,8 27,8 Z M14.9935,16.5 L20.9685,16.5 C20.9825,16.338 21,16.1795 21,16 C21,15.82 20.983,15.662 20.969,15.5 L14.9935,15.5 L14.9935,16.5 Z M30.5,18 L23.2515,18 C22.6485,20.25 20.96,21.5 18.5,21.5 L15,21.5 L15,24.25 C15,24.983 14.3695,25.5685 13.621,25.4935 C12.9705,25.4285 12.5,24.8325 12.5,24.1785 L12.5,18 L5.5,18 C5.224,18 5,18.2235 5,18.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,18.5 C31,18.2235 30.776,18 30.5,18 Z M5.5,16.5 L12.5,16.5 L12.5,15.5 L5.5,15.5 C5.224,15.5 5,15.724 5,16 C5,16.276 5.224,16.5 5.5,16.5 Z M18.304,13.0005 L14.9935,13.0005 L14.9935,14 L20.512,14 C20.0585,13.311 19.306,13.0005 18.304,13.0005 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCurrencyTHBIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M15.4915,16.74 L17,16.74 L17,12.754 L15.4915,12.754 L15.4915,16.74 Z M16.5,8 L9,8 C6.791,8 5,9.791 5,12 L5,24 C5,26.209 6.791,28 9,28 L16.5,28 C16.7765,28 17,27.776 17,27.5 L17,25.496 L14.2505,25.496 C13.56,25.496 13.0005,24.9365 13.0005,24.246 L13.0005,11.755 C13.0005,11.0645 13.56,10.505 14.2505,10.505 L17,10.505 L17,8.5 C17,8.224 16.7765,8 16.5,8 Z M27,8 L19.5,8 C19.2235,8 19,8.224 19,8.5 L19,10.505 L19.447,10.505 C22.0425,10.505 23.5045,11.8995 23.5045,14.195 C23.5045,15.9855 22.2515,17.296 20.7455,17.479 L20.7455,17.5995 C22.5765,17.8085 23.999,19.0495 23.999,21.268 C23.999,23.898 21.967,25.448 19,25.492 L19,27.5 C19,27.776 19.2235,28 19.5,28 L27,28 C29.209,28 31,26.209 31,24 L31,12 C31,9.791 29.209,8 27,8 Z M15.4915,23.231 L17,23.231 L17,18.7325 L15.4915,18.7325 L15.4915,23.231 Z M21.0125,14.7035 C21.0125,13.505 20.2875,12.834 19,12.7675 L19,16.6715 C20.391,16.481 21.0125,15.844 21.0125,14.7035 Z M21.492,21.011 C21.492,19.6165 20.6045,18.828 19,18.7485 L19,23.18 C20.7545,23 21.492,22.2955 21.492,21.011 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCurrencyUSDIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M19.5034,28 C19.2274,28 19.0034,27.776 19.0034,27.5 L19.0034,25.435 C21.7154,25.1145 23.4769,23.556 23.4769,21.048 C23.4769,18.548 21.8399,17.5245 19.6994,17.029 L17.3914,16.47 C16.0799,16.164 15.4814,15.5205 15.4814,14.603 C15.4814,13.3265 16.4894,12.5045 18.0839,12.5045 C19.3974,12.5045 20.2964,13.0485 20.7084,13.8045 C20.9334,14.2175 21.3544,14.4845 21.8254,14.4845 C22.6699,14.4845 23.2504,13.5815 22.8469,12.8395 C22.1499,11.5585 20.7184,10.7645 19.0034,10.5565 L19.0034,8.5 C19.0034,8.224 19.2274,8 19.5034,8 L26.9999,8 C29.2094,8 30.9999,9.791 30.9999,12 L30.9999,24 C30.9999,26.209 29.2094,28 26.9999,28 L19.5034,28 Z",fill:a}),h.jsx("path",{d:"M9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 L16.5035,8 C16.7795,8 17.0035,8.224 17.0035,8.5 L17.0035,10.583 C14.7045,10.933 12.9945,12.4 12.9945,14.803 C12.9945,17.166 14.5375,18.284 16.4265,18.7165 L18.7235,19.2755 C20.2345,19.645 21,20.204 21,21.2695 C21,22.5775 19.92,23.4835 18.105,23.4835 C16.685,23.4835 15.7805,22.9205 15.306,22.1595 C15.0605,21.765 14.654,21.5 14.1895,21.5 C13.268,21.5 12.689,22.508 13.1655,23.296 C13.8105,24.363 14.9655,25.244 17.0035,25.449 L17.0035,27.5 C17.0035,27.776 16.7795,28 16.5035,28 L9,28 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerEmojiButtonReact.bs",["fbt","bs_curry","React","JSResource","bs_caml_option","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerReactIconSVGM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatEmojiFlyout.react").__setRef("MessengerEmojiButtonReact.bs"));function a(a,c){var d=a.className,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.onSelect,l=a.sendCustomEmoji,m=a.threadId;a=a.icon;c=c;var n=function(a){a=b("bs_curry")._1(j,0);if(a==null)return 0;else return a.focus()},o=function(a){return n(0)},p=function(a,c){return h.createElement(i,{onCategorySelect:n,onEscKeyDown:a,onSelect:k,sendCustomEmoji:l,threadID:m,width:b("MessengerFlyoutButtonReact.bs").cFLYOUT_WIDTH})},q=g._("Choose an emoji");a=a!==void 0?b("bs_caml_option").valFromOption(a):b("MessengerReactIconSVGM4React.bs").makeSolid(e);return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:d,createFlyout:p,flyoutAlignment:f,getInput:j,icon:a,onClick:o,title:q,testid:"m4_emoji_button",ref:c})}c=h.forwardRef(a);f.bootloadedEmojiFlyout=i;f.make=c},null);
__d("MessengerGamesIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M28,14 C26.8955,14 26,14.8955 26,16 C26,17.1045 26.8955,18 28,18 C29.1045,18 30,17.1045 30,16 C30,14.8955 29.1045,14 28,14 M24,18 C22.8955,18 22,18.8955 22,20 C22,21.1045 22.8955,22 24,22 C25.104,22 26,21.1045 26,20 C26,18.8955 25.104,18 24,18 M13,17 L11,17 L11,15 C11,14.448 10.552,14 10,14 C9.448,14 9,14.448 9,15 L9,17 L7,17 C6.448,17 6,17.448 6,18 C6,18.552 6.448,19 7,19 L9,19 L9,21 C9,21.552 9.448,22 10,22 C10.552,22 11,21.552 11,21 L11,19 L13,19 C13.552,19 14,18.552 14,18 C14,17.448 13.552,17 13,17 M25,27 L11,27 C6.0295,27 2,22.9705 2,18 C2,13.0295 6.0295,9 11,9 L25,9 C29.97,9 34,13.0295 34,18 C34,22.9705 29.97,27 25,27",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerGamesButtonReact.bs",["fbt","React","JSResource","lazyLoadComponent","BootloaderResource","MessengerFlyoutButtonReact.bs","MessengerGamesIconSVGM4React.bs","MessengerFlyoutPlaceholderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerGamesFlyout.react").__setRef("MessengerGamesButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.threadId;a=h.useState(function(){return b("BootloaderResource").read(b("JSResource")("GamesQuicksilverFunnelLogger").__setRef("MessengerGamesButtonReact.bs"))});var k=a[0];a=function(a){return k.logGameListOpen(k.getDefaultFunnelName())};var l=function(a){return k.logGameListDismiss(k.getDefaultFunnelName())},m=function(a,c){return h.createElement(i,{placeholder:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{}),threadID:j})},n=g._("Play a game");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:m,flyoutAlignment:e,getInput:f,icon:b("MessengerGamesIconSVGM4React.bs").make(d),onClick:a,onHideFlyout:l,title:n,ref:function(a){return[a]}})}c=a;f.bootloadedGameFlyout=i;f.make=c},null);
__d("MessengerGifIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.fill;return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27.002,13.5 L22.502,13.5 C21.95,13.5 21.502,13.948 21.502,14.5 L21.502,21.5 C21.502,22.052 21.95,22.5 22.502,22.5 C23.054,22.5 23.502,22.052 23.502,21.5 L23.502,19.5 L26.502,19.5 C27.054,19.5 27.502,19.052 27.502,18.5 C27.502,17.948 27.054,17.5 26.502,17.5 L23.502,17.5 L23.502,15.5 L27.002,15.5 C27.554,15.5 28.002,15.052 28.002,14.5 C28.002,13.948 27.554,13.5 27.002,13.5 Z M19.502,14.5 C19.502,13.948 19.054,13.5 18.502,13.5 C17.95,13.5 17.502,13.948 17.502,14.5 L17.502,21.5 C17.502,22.052 17.95,22.5 18.502,22.5 C19.054,22.5 19.502,22.052 19.502,21.5 L19.502,14.5 Z M14.963,16.9995 L12.502,17 C11.95,17 11.502,17.448 11.502,18 C11.502,18.552 11.95,19 12.502,19 L13.8855,19 C13.7835,20.1495 13.095,21 11.829,21 C10.3875,21 9.4925,19.725 9.4925,17.95 C9.4925,16.207 10.4655,14.9785 11.886,14.9785 C12.6395,14.9785 13.109,15.3665 13.4295,15.764 C13.6765,16.0695 14,16.229 14.353,16.229 C15.0175,16.229 15.574,15.5085 15.094,14.791 C14.471,13.859 13.335,13.25 11.8795,13.25 C9.179,13.25 7.502,15.2135 7.502,17.9735 C7.502,20.7655 9.071,22.75 11.798,22.75 C14.352,22.75 16.002,20.982 16.002,17.986 C16.002,17.441 15.5365,16.9995 14.963,16.9995 Z M27,30 L17,30 C15.811,30 14.7455,29.48 14.0135,28.656 C13.6395,28.235 13.1,28 12.537,28 L9,28 C6.791,28 5,26.209 5,24 L5,10 C5,7.791 6.791,6 9,6 L19,6 C20.189,6 21.2545,6.52 21.9865,7.3435 C22.3605,7.7645 22.9,8 23.463,8 L27,8 C29.209,8 31,9.791 31,12 L31,26 C31,28.209 29.209,30 27,30 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}c=a;f.make=c},null);
__d("MessengerGifButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerGifIconSVGM4React.bs","MercuryShareAttachmentRenderLocations.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatContentSearchFlyout.react").__setRef("MessengerGifButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.getQuery,l=a.location,m=a.onSelect;a=h.useState(function(){return""});var n=a[1],o=a[0];a=function(a){return b("bs_curry")._1(n,function(a){return b("bs_curry")._1(k,0)})};var p=function(a){return b("bs_curry")._1(n,function(a){return""})},q=function(a,c){return h.createElement(i,{location:b("MercuryShareAttachmentRenderLocations.bs").getValue(l),onEscKeyDown:a,onSelect:function(c){b("bs_curry")._1(m,c);return b("bs_curry")._1(a,0)},query:o})},r=g._("Choose a gif");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:q,disabled:d,flyoutAlignment:f,getInput:j,icon:h.jsx(b("MessengerGifIconSVGM4React.bs").make,{fill:e}),onClick:a,onHideFlyout:p,title:r})}c=a;f.bootloadedGifFlyout=i;f.make=c},null);
__d("MessengerBarChartIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{id:"Fill-1",d:"M13,25.9966 L13,15.9966 C13,14.8921 12.1045,13.9966 11,13.9966 L9,13.9966 C7.8955,13.9966 7,14.8921 7,15.9966 L7,25.9966 C7,27.1011 7.8955,27.9966 9,27.9966 L11,27.9966 C12.1045,27.9966 13,27.1011 13,25.9966 M23,11.9966 L23,25.9966 C23,27.1011 23.8955,27.9966 25,27.9966 L27,27.9966 C28.1045,27.9966 29,27.1011 29,25.9966 L29,11.9966 C29,10.8921 28.1045,9.9966 27,9.9966 L25,9.9966 C23.8955,9.9966 23,10.8921 23,11.9966 M15,7.9966 L15,25.9966 C15,27.1011 15.8955,27.9966 17,27.9966 L19,27.9966 C20.1045,27.9966 21,27.1011 21,25.9966 L21,7.9966 C21,6.8921 20.1045,5.9966 19,5.9966 L17,5.9966 C15.8955,5.9966 15,6.8921 15,7.9966"}),id:"Group",fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerCreatePollFlyoutBootLoader.react",["JSResource","LazyComponent.react","MessengerSpinner.react","React","ReasonBootloadOnRender.react","ReasonResource"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("ReasonBootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{customColor:this.props.customColor,threadFBID:this.props.threadFBID,onHideDialog:this.props.hideFlyout}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingCreatePollFlyoutReact.bs").__setRef("MessengerCreatePollFlyoutBootLoader.react")),placeholder:g.jsx("div",{style:{padding:"15px",textAlign:"center",width:"125px"},children:g.jsx(b("MessengerSpinner.react"),{color:"grey"})})})};return c}(g.PureComponent);e.exports=a},null);
__d("MessengerCreatePollFlyoutBootLoader.bs",["ReasonReact.bs","MessengerCreatePollFlyoutBootLoader.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCreatePollFlyoutBootLoader.react"),{customColor:a,hideFlyout:c,threadFBID:d},e)}f.make=a},null);
__d("MessengerGroupPollingButtonM4React.bs",["fbt","React","ReasonReact.bs","MessengerFlyoutButtonReact.bs","MessengerBarChartIconSVGM4React.bs","MessengerCreatePollFlyoutBootLoader.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.threadFbid;a=function(a,c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerCreatePollFlyoutBootLoader.bs").make(d,a,i,[]))};var j=g._("Create a poll");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,getInput:f,icon:b("MessengerBarChartIconSVGM4React.bs").make(d),title:j})}c=a;f.make=c},null);
__d("MessengerPlusCircleIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}function c(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{style:a,d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12"})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}f.make=a;f.makeWithPathStyle=c},null);
__d("MessengerQuickCamButtonBootLoader.react",["AutoFocusableLink.react","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return!a.htmlQC?null:g.jsx(b("MercuryBootloadOnInteraction.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},a)),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerQuickCamButtonBootLoader.react"),placeholder:a.placeholder||g.jsx(b("AutoFocusableLink.react"),{label:"flyout button",className:a.className})})};return c}(g.PureComponent);e.exports=a},null);
__d("MessengerQuickCamButtonBootLoader.bs",["gkx","bs_belt_Option","ReasonReact.bs","bs_js_null_undefined","MessengerQuickCamButtonBootLoader.react"],function(a,b,c,d,e,f){"use strict";var g=b("gkx")("678582");function a(a,c,d,e,f,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerQuickCamButtonBootLoader.react"),{className:a,htmlQC:g,fill:b("bs_belt_Option").getWithDefault(c,""),location:d,onSendButtonClick:e,placeholder:b("bs_js_null_undefined").fromOption(f),threadID:h,viewer:i},j)}f.htmlQCGk=g;f.make=a},null);
__d("MessengerStagedFilesPreviewM4React.bs",["cx","cssVar","React","immutable","JSResource","bs_belt_Option","bs_caml_option","MessengerActions","XUISpinner.react","bs_js_null_undefined","lazyLoadComponent"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("MessengerStagedFilesPreviewM4React.bs"));function a(a){var c=a.fileUploader,d=a.onResize,e=a.thread;a=a.threadId;c=c!==void 0?b("bs_caml_option").valFromOption(c).uploadedFiles:b("immutable").Map([]);if(c.size===0)return null;else{e=e!==void 0?b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).footer_color),"#0084ff"):"#0084ff";return i.jsx(i.Suspense,{children:i.jsx("div",{children:i.jsx(j,{files:c,small:!1,threadCustomColor:e,threadID:a,onClick:function(a,c){b("MessengerActions").cancelFileUpload(a,c);return 0},onResize:b("bs_js_null_undefined").fromOption(d)},"stage_file_preview"),className:"_8rdt"}),fallback:i.jsx(b("XUISpinner.react"),{className:"_2qf"})})}}c=a;f.bootloadedStageFilePreview=j;f.make=c},null);
__d("MessengerStickerIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M22.5,18.5 L27.998,18.5 C28.8885,18.5 29.335,19.577 28.705,20.207 L20.207,28.705 C19.577,29.335 18.5,28.8885 18.5,27.9975 L18.5,22.5 C18.5,20.291 20.291,18.5 22.5,18.5 M16.5,22.5 L16.5,28 C16.5,28.552 16.052,29 15.5,29 L11,29 C8.791,29 7,27.209 7,25 L7,11 C7,8.791 8.791,7 11,7 L25,7 C27.209,7 29,8.791 29,11 L29,15.5 C29,16.052 28.552,16.5 28,16.5 L22.5,16.5 C19.1865,16.5 16.5,19.1865 16.5,22.5",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerStickerButtonReact.bs",["cx","fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerStickerIconSVGM4React.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("StickersFlyout.react").__setRef("MessengerStickerButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,g=a.getInput,k=a.onSelect;a=function(a,c){return i.createElement(j,{className:"_293j",onEscKeyDown:a,onStickerSelect:b("bs_curry").__1(k),shown:c})};var l=h._("Choose a sticker");return i.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,dialogClassName:"_5e-r",disabled:d,flyoutAlignment:f,getInput:g,icon:b("MessengerStickerIconSVGM4React.bs").make(e),title:l,testid:"messenger_sticker_button"})}c=a;f.bootloadedStickerFlyout=j;f.make=c},null);
__d("MessengerUnconnectedThreadInfoTextReact.bs",["cx","fbt","React","Link.react","bs_caml_option","MessengerDialogs.bs","MessengerDeclineDialogReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c,d,e,f){return b("MessengerDialogs.bs").showDialog(function(g){g={name:c,onBlock:d,onDelete:e,onToggle:f,isGroupChat:!1};a!==void 0&&(g.thread=b("bs_caml_option").valFromOption(a));return i.createElement(b("MessengerDeclineDialogReact.bs").make,g)})}function a(a){var c=a.name,d=a.onBlock,e=a.onDelete,f=a.onToggle,g=a.thread;return i.jsx("div",{children:i.jsxs("div",{children:[h._("If you reply, {name} will be able to call you and see information like your Active Status and when you've read messages.",[h._param("name",c)])," ",i.jsx(b("Link.react"),{className:"_74kv",onClick:function(a){return j(g,c,d,e,f)},children:h._("I don't want to hear from {name}",[h._param("name",c)])})]}),className:"_74ku"})}c=a;f.renderTDADialog=j;f.make=c},null);
__d("MessengerMicrophoneIconSVGM4React.bs",["cx","React"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M14,28 L22,28 C22.552,28 23,28.448 23,29 C23,29.552 22.552,30 22,30 L14,30 C13.448,30 13,29.552 13,29 C13,28.448 13.448,28 14,28 M18,22.5 C15.239,22.5 13,20.2615 13,17.5 L13,11 C13,8.2385 15.239,6 18,6 C20.761,6 23,8.2385 23,11 L23,17.5 C23,20.2615 20.761,22.5 18,22.5 M18,26.5 C13.0295,26.5 9,22.4705 9,17.5 C9,16.948 9.448,16.5 10,16.5 C10.552,16.5 11,16.948 11,17.5 C11,21.366 14.134,24.5 18,24.5 C21.866,24.5 25.0005,21.366 25.0005,17.5 L25,17.5 C25,16.948 25.448,16.5 26,16.5 C26.552,16.5 27,16.948 27,17.5 C27,22.4705 22.9705,26.5 18,26.5",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a},null);
__d("MessengerVoiceClipButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerMicrophoneIconSVGM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerVoiceClipFlyout.react").__setRef("MessengerVoiceClipButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.onVoiceClipCreate;a=function(a,c){return h.createElement(i,{onCancel:a,onStopAndGetVoiceClip:function(c){b("bs_curry")._1(a,0);return b("bs_curry")._1(j,c)}})};var k=g._("Send a voice clip");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,flyoutWidth:220,getInput:f,icon:b("MessengerMicrophoneIconSVGM4React.bs").make(d),title:k})}c=a;f.bootloadedVoiceClipFlyout=i;f.make=c},null);
__d("P2PSendMoneyContainerBootloaderReact.bs",["bs_belt_Option","bs_caml_option","ReasonReact.bs","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react"],function(a,b,c,d,e,f){"use strict";var g=b("P2PPaymentConfig").config;c=b("bs_belt_Option").map(g==null?void 0:b("bs_caml_option").some(g),function(a){return a.currencyCode});function a(a,c,d,e,f,h,i,j,k,l){return b("ReasonReact.bs").wrapJsForReason(b("P2PSendMoneyContainerBootloader.react"),{button:a,className:c,fromChatTab:b("bs_belt_Option").getWithDefault(d,!1),participantIDs:h,p2pPaymentConfig:b("bs_belt_Option").getWithDefault(f,g),flyoutAlignment:"left",referrer:i,thread:j,threadID:k,onTrigger:e},l)}f.config=g;f.currencyCode=c;f.make=a},null);
__d("WorkChatSmartReplies.react",["ix","CurrentUser","MessengerState.re","OmniMSuggestions_OmniMActionType","React","WorkChatSuggestionButton.react","emptyObject","fbicon","gkx","keyMirror","stylex","WorkChatSuggestionsTypedLogger"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useEffect,j=c.useState,k=b("keyMirror")(b("OmniMSuggestions_OmniMActionType"));function l(a,c){new(b("WorkChatSuggestionsTypedLogger"))().setSuggestionType(k.SMART_REPLY).setAppID(b("CurrentUser").getAppID()).setMessageID(c).setTime(Date.now()).setThreadID(a).log()}function a(a){var c=a.threadID,d=a.onClick,e=a.onResize,f=b("MessengerState.re").getThreadMessagesRangeNow(b("CurrentUser").getID(),c,0,1)[0];a=j(!0);var m=a[0],n=a[1];i(function(){e()},[f,m,e]);if(f==null||!b("gkx")("1115706"))return null;a=f.m_suggestions;if(a==null)return null;a=a.filter(function(a){return a.type===k.SMART_REPLY}).map(function(a,e){return h.jsx(b("WorkChatSuggestionButton.react"),{icon:b("fbicon")._(g("788340"),12),label:a.label,onPress:function(){d(a.label,b("emptyObject")),n(!1),l(c,f.message_id)},isQuickReply:!0},e)});return m&&a.length>0?h.jsxs("div",{className:"brrrwa7m h4y7jwnr",children:[" ",a," "]}):null}e.exports=a},null);
__d("MessengerComposerM4React.bs",["cx","fbt","cssVar","invariant","bs_curry","React","gkx","bs_js_dict","bs_caml_array","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","P2PGKValues","ReasonReact.bs","AsyncRequest","MercuryConfig","MessengerView","MessengerState.bs","isWebGLEnabled","bs_caml_exceptions","MessengerDialogs.bs","bs_js_null_undefined","MessengerPageUtils.bs","MessageRequestUtils","MessengerButtonReact.bs","MercuryReadOnlyReason","MessengerHotLikeUtils","MessengerParticipants.bs","WorkFileUploadsGating","getPageIDFromThreadID","requestAnimationFrame","MessengerCowatchConfig","MessengerSettingsStore","ReplyingToMessageReact.bs","AutoFocusableLink.react","ChatPhotoUploader.react","MessengerGifButtonReact.bs","MessengerQuickCamOrigins","MessengerSendButtonReact.bs","MessengerCustomColorUtils.bs","MessengerEmojiButtonReact.bs","MessengerGamesButtonReact.bs","MercuryCowatchButton.react","WorkChatSmartReplies.react","MessengerBotMenuButtonReact.bs","MessengerStickerButtonReact.bs","P2PPaymentSupportedCurrency","MessengerComposerInput.react","MessengerGamesIconSVGM4React.bs","MessengerHotLikeButton.react","MessengerPhotoIconSVGM4React.bs","MessengerCameraIconSVGM4React.bs","MessengerVoiceClipButtonReact.bs","MessengerThreadCannotReplyReason","MercuryIgnoredBlockedParticipants.bs","MessengerFileSizeErrorDialogReact.bs","MessengerPlusCircleIconSVGM4React.bs","MessengerQuickCamButtonBootLoader.bs","MessengerCurrencyEURIconSVGM4React.bs","MessengerCurrencyGBPIconSVGM4React.bs","MessengerCurrencyPENIconSVGM4React.bs","MessengerCurrencyPHPIconSVGM4React.bs","MessengerCurrencyTHBIconSVGM4React.bs","MessengerCurrencyUSDIconSVGM4React.bs","MessengerGroupPollingButtonM4React.bs","MessengerStagedFilesPreviewM4React.bs","XMessagingUnblockMessagesController","P2PSendMoneyContainerBootloaderReact.bs","MessengerComposerPendingActionsM4React.bs","MessengerUnconnectedThreadInfoTextReact.bs"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),aa=b("bs_caml_exceptions").create("MessengerComposerM4React.TooManyIcons");function l(a,b){var c=a?1150:650;a=a?1e3:500;switch(b){case 0:b=c+1|0;return"(min-width: "+(String(b)+"px)");case 1:b=a+1|0;return"(min-width: "+(String(b)+("px) and (max-width: "+(String(c)+"px)")));case 2:return"(max-width: "+(String(a)+"px)")}}function a(a){return b("bs_caml_option").nullable_to_opt(a.current)}function m(a){return k.jsx("div",{children:k.jsx("div",{children:h._("This person isn't available right now."),className:"_2wy4"}),className:"_4rv3"})}d={make:m};function n(a,c,d,e){new(b("AsyncRequest"))(b("XMessagingUnblockMessagesController").getURIBuilder().getURI()).setMethod("POST").setData({fbid:b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromThreadID(b("bs_js_null_undefined").fromOption(a)))}).send();if(c)return b("MessengerPageUtils.bs").changeBlockedStatus(!1,d,e);else return 0}function ba(a){var c=a.threadId,d=a.isPageChat,e=a.participantID,f=a.viewer;a=k.jsx(b("MessengerButtonReact.bs").make,{onClick:function(a){return n(c,d,e,f)},label:h._("Unblock Now"),type:1});return k.jsx("div",{children:k.jsx("div",{children:d?h._("You've blocked messages from this business. {unblock_now_button}",[h._param("unblock_now_button",a)]):h._("You've blocked messages from this person. {unblock_now_button}",[h._param("unblock_now_button",a)]),className:"_2wy4"}),className:"_4rv3"})}e={handleUnblock:n,make:ba};function c(a,c){var d=a.canReply,e=a.disableAutofocus,f=a.fileUploader,g=a.hideActions,i=a.mentionsEnabled,n=a.onCancelReplyingToMessage,ca=a.onCustomLikeSelect,da=a.onMessageSend,o=a.onPhotoUploadComplete,p=a.onPhotoUploadCancel,q=a.onPhotoUploadFail,r=a.onPhotoUploadSubmit,s=a.onResize,ea=a.onStickerSelect,t=a.onVoiceClipCreate,u=a.p2pPaymentConfig,v=a.participants,w=a.recipients,x=a.replyingToMessage,y=a.sharePreview,z=a.showBotMenu,A=a.thread,B=a.threadFbid,C=a.threadId,D=a.view,E=a.viewer;a=c;c=f==null?void 0:b("bs_caml_option").some(f);i=i==null?void 0:b("bs_caml_option").some(i);var fa=v==null?void 0:b("bs_caml_option").some(v),F=w==null?void 0:b("bs_caml_option").some(w),ga=y==null?void 0:b("bs_caml_option").some(y),G=A==null?void 0:b("bs_caml_option").some(A),H=B==null?void 0:b("bs_caml_option").some(B),I=b("getPageIDFromThreadID")(C),ha=I==null?void 0:b("bs_caml_option").some(I),J=C==null?void 0:b("bs_caml_option").some(C);D=D==null?void 0:b("bs_caml_option").some(D);var K=k.useRef(null),ia=k.useRef(null),ja=k.useRef(null),L=k.useRef(null),ka=k.useRef(null),M=K.current,la=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(ia.current),function(a){return a}),ma=ja.current,na=ka.current,N=k.useState(function(){return""}),oa=N[1],pa=N[0];N=k.useState(function(){return!1});var qa=N[1],O=N[0];N=k.useState(function(){return!1});var ra=N[1],P=k.useState(function(){return 0}),Q=P[1];P=P[0];var sa=k.useState(function(){return!1}),ta=sa[1],ua=k.useState(function(){return{}}),va=ua[1],wa=k.useState(function(){return{}}),xa=wa[1],ya=L.current;k.useLayoutEffect(function(){var a=ya==null?0:Array.from(ya.children).reduce(function(a,b){return(a+b.clientWidth|0)+8|0},0);b("bs_curry")._1(va,function(a){return{width:"0px"}});b("bs_curry")._1(xa,function(b){return{width:""+(String(a)+"px")}});return},[J,ya,F,va,xa]);k.useEffect(function(){s==null||b("bs_curry")._1(s,0);return},[d,O,x,ga,c,s]);F=s==null?void 0:b("bs_caml_option").some(s);var R=!b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;k.useEffect(function(){var a=l(R,2),c=window.matchMedia(a);a=l(R,1);var d=window.matchMedia(a);a=l(R,0);var e=window.matchMedia(a);b("bs_curry")._1(Q,function(a){if(c.matches)return 2;else if(d.matches)return 1;else return 0});var f=function(a){if(a.matches)return b("bs_curry")._1(Q,function(a){return 2});else return 0},g=function(a){if(a.matches)return b("bs_curry")._1(Q,function(a){return 1});else return 0},h=function(a){if(a.matches)return b("bs_curry")._1(Q,function(a){return 0});else return 0};c.addListener(f);d.addListener(g);e.addListener(h);return function(a){c.removeListener(f);d.removeListener(g);e.removeListener(h);return 0}},[R,Q]);var S=function(a){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.author),function(a){a=b("MessengerParticipants.bs").getNow(a);if(a==null)return;else return a.short_name})},T=navigator.mediaDevices;T=(T==null?!1:!(T.getUserMedia==null))||!(navigator.getUserMedia==null)||!(navigator.webkitGetUserMedia==null)||!(navigator.mozGetUserMedia==null)||!(navigator.msGetUserMedia==null);var U=D===b("MessengerView").DETAIL.COMPOSE;w=w==null?!1:w.count()>0&&U;var za=ha!==void 0;w=J!==void 0||w;y=y==null?!1:y.params!==null&&y.type!==null;var Aa=f==null?!1:f.uploadedFiles.size>0;f=f==null?!1:f.uploadingFiles.size>0;Aa=pa.length!==0||Aa||y;var Ba=function(a){if(M==null)return 0;else return M.exitCurrentMode()},V=function(a){if(M==null)return 0;else return M.focus()};y=function(c){if(c.platformFBID===b("MercuryConfig").MessengerAppID){b("bs_curry")._1(ea,c.resultID);return 0}else if(ma==null)return 0;else{var a=b("bs_js_dict").get(c.media,"preview");if(a!==void 0)a=b("bs_caml_option").valFromOption(a).url;else{var d=b("bs_js_dict").get(c.media,"thumbnail");a=d!==void 0?b("bs_caml_option").valFromOption(d).url:""}return ma.uploadURL({attribution_app_id:c.platformFBID,external_image_url:c.source.url,preview_url:a,source:c.source})}};var Ca=function(a){V(0);if(M==null)return 0;else return M.insertEmoji(a)},Da=function(a){na==null||na.uploadFiles(a);return Ba(0)},Ea=function(a){b("bs_curry")._1(oa,function(b){return a});if(a!==pa)return b("bs_curry")._1(qa,function(a){return!1});else return 0},Fa=function(a){a=K.current;if(a==null)return 0;else return a.triggerSend()},Ga=function(a){return 0};k.useImperativeHandle(a,function(){return{exitCurrentMode:Ba,focusInput:V,handleFileUpload:Da,handleTextDropped:Ga}},[Ba,V,Da]);a=function(a){return b("MessengerDialogs.bs").showDialog(function(c){return k.jsx(b("MessengerFileSizeErrorDialogReact.bs").make,{error:a==null?2:b("MessengerFileSizeErrorDialogReact.bs").errorOfString(a.error)})})};var Ha;if(x==null)Ha=null;else{S=b("bs_belt_Option").getExn(S(x));Ha=k.createElement(b("ReplyingToMessageReact.bs").make,{name:S,body:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.body),""),attachments:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.attachments),[]),onCancelReplyingToMessage:n,isChatTab:!1})}S=C==null?null:k.jsx(b("MessengerStagedFilesPreviewM4React.bs").make,{fileUploader:c,onResize:F,thread:G,threadId:C});if(A==null||C==null||!b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(A))n=null;else{var W=A.other_user_fbid;if(W==null)n=null;else{W=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(W));n=W==null?null:k.jsx(k.Suspense,{children:k.createElement(b("MessengerUnconnectedThreadInfoTextReact.bs").make,{name:W.name,onBlock:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleIgnoreBlock(E,A,a)},onDelete:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogDeleteClick(E,A,C,a)},onToggle:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogToggleClick(A,C,a)},thread:A}),fallback:k.jsx("div",{})})}}if(A==null)W=b("MessengerCustomColorUtils.bs").defaultColor(0);else{var X=A.gradient_colors.length;if(X>0)W=b("bs_caml_array").caml_array_get(A.gradient_colors,X-1|0);else{X=A.solid_color;W=X==null?b("MessengerCustomColorUtils.bs").defaultColor(0):X}}X="rgba(134, 142, 153, 0.75)";I=!(C==null)&&!(I==null)&&z?k.jsx("div",{children:k.jsx(b("MessengerBotMenuButtonReact.bs").make,{className:"_30yy",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},pageId:I,threadId:C}),className:"_7mkk"}):null;var Ia=!(B==null)&&b("MessengerCowatchConfig").isMessengerDotComEntrypointEnabled()?k.jsx(b("MercuryCowatchButton.react"),{className:"_30yy _7oam",fill:W,threadID:B},"cowatch_button"):null;T=!T||U?null:k.jsx(b("MessengerVoiceClipButtonReact.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},onVoiceClipCreate:t},"voice_clip_button");if(!b("P2PGKValues").P2PVisible||za||u==null||v==null||C==null||v.size===1)t=null;else{var Y=b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PEN)?b("MessengerCurrencyPENIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PHP)?b("MessengerCurrencyPHPIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").EUR)?b("MessengerCurrencyEURIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").GBP)?b("MessengerCurrencyGBPIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").THB)?b("MessengerCurrencyTHBIconSVGM4React.bs").make(W):b("MessengerCurrencyUSDIconSVGM4React.bs").make(W);t=k.jsx(k.Suspense,{children:b("ReasonReact.bs").element(void 0,void 0,b("P2PSendMoneyContainerBootloaderReact.bs").make(Y,"_30yy _7oam",void 0,void 0,b("bs_caml_option").some(u),v.reduce(function(a,b,c,d){a.push(b.id);return a},[]),void 0,b("bs_js_null_undefined").fromOption(G),C,[])),fallback:k.jsx(b("AutoFocusableLink.react"),{children:Y,className:"_30yy _7oam",role:"button"})},"send_money_button")}u=!(A==null)&&!(B==null)&&!(A.is_canonical||U||b("gkx")("994335"))?k.jsx(b("MessengerGroupPollingButtonM4React.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},threadFbid:B},"group_poll_button"):null;Y=b("gkx")("678262")&&b("isWebGLEnabled")()&&H!==void 0&&!za?k.jsx(k.Suspense,{children:k.jsx(b("MessengerGamesButtonReact.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},threadId:J}),fallback:k.jsx(b("AutoFocusableLink.react"),{children:b("MessengerGamesIconSVGM4React.bs").make(W),className:"_30yy _7oam",role:"button"})},"games_button"):null;B=!(C==null)&&b("gkx")("678582")?b("ReasonReact.bs").element("quickcam_button",void 0,b("MessengerQuickCamButtonBootLoader.bs").make("_7oam",W,b("MessengerQuickCamOrigins").MESSENGER,function(a){return 0},b("bs_caml_option").some(k.jsx(b("AutoFocusableLink.react"),{"aria-label":h._("Take a picture using quick cam"),children:b("MessengerCameraIconSVGM4React.bs").make(W),className:"_30yy _7oam"},"quickcam_button_placeholder")),C,E,[])):null;H=b("CurrentUser").isWorkUser()&&!b("WorkFileUploadsGating").canUploadFiles;var Ja=C==null?k.jsx("div",{children:k.jsx(b("MessengerPhotoIconSVGM4React.bs").make,{size:36,fill:X}),className:"_7oam"},"attachment_button_disabled"):k.jsx("div",{children:k.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,className:"_7oan",customUI:!0,disabled:!1,fill:W,imageClassName:"hidden_elem",imagesOnly:H,focusInput:V,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:a,threadID:C,viewer:E,ref:function(a){ka.current=a;return 0}}),className:"_30yy _7oam"},"attachment_button"),Z=!w;Z=k.jsx(b("MessengerStickerButtonReact.bs").make,{className:(Z?"":"_30yy")+" _7oam",disabled:Z,fill:Z?X:W,flyoutAlignment:1,getInput:function(a){return K.current},onSelect:function(a){b("bs_curry")._1(ea,a);return 0}},"sticker_button");var $=!w;H=k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:$,ref:function(a){ja.current=a;return 0},imagesOnly:H,focusInput:V,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:a}),style:{display:"none"}},"gif_uploader"),k.jsx(b("MessengerGifButtonReact.bs").make,{className:"_30yy _7oam",disabled:$,fill:$?X:W,flyoutAlignment:1,getInput:function(a){return K.current},getQuery:function(a){if(M==null)return"";else return M.getValue()},location:2,onSelect:y},"gif_button")]},"gif_button");o=[T,t,Y,B,u,Ia];var Ka=G===void 0||!o.some(function(a){return a!==null});q=function(a){if(Ka)return 0;else{a.stopPropagation();O||b("bs_curry")._1(ra,function(a){return!0});return b("bs_curry")._1(qa,function(a){return!a})}};if(o.length>6)throw[aa,"Animation Currently Supports <= 6 Icons to add support for more please add new CSS rules in messengerComposer.css (more details there at: .messengerComposer/moreIconsOpen )"];p=P!==0?k.createElement(k.Fragment,void 0,o):k.createElement(k.Fragment,void 0,o.reverse());r=O||Ka;a={fill:r?X:W};$=k.jsx("div",{children:k.jsx("div",{children:b("MessengerPlusCircleIconSVGM4React.bs").makeWithPathStyle(a),className:"_7mki"+(!Ka&&O?" _7mkj":"")+(Ka?" _7v3s":""),onTransitionEnd:function(a){if(O)return 0;else{b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){return b("bs_curry")._1(ra,function(a){return!1})});return 0});return 0});return 0}}}),className:"_7mkh"+(z?" _3-9a":""),onClick:q});y=[Ja,Z,H];if(g)T=null;else{var La;switch(P){case 0:La=k.createElement(k.Fragment,void 0,k.jsx("div",{children:p,ref:L,className:"_7mkk _7mkl"+(O?" _7oul":""),style:O?wa[0]:ua[0]}),k.jsx("div",{children:y.reverse(),className:"_7mkk"}));break;case 1:La=k.jsx("div",{children:y.reverse(),className:"_7mkk"});break;case 2:La=null;break}T=k.createElement(k.Fragment,void 0,I,$,La)}t=k.jsxs("div",{children:[P===2?k.createElement(k.Fragment,void 0,y):null,p],className:"_7mkk _7t1o"+(O?" _7t0e":"")+(O?"":" _7t0j")});Y=g?null:k.jsx(b("MessengerEmojiButtonReact.bs").make,{className:"_30yy _7odb",fill:W,flyoutAlignment:2,getInput:function(a){return K.current},onSelect:Ca,sendCustomEmoji:function(a,c,d){b("bs_curry")._3(ca,a,c,d);return 0},threadId:J,ref:ia});if(w&&Aa&&!f)B=k.jsx(b("MessengerSendButtonReact.bs").make,{className:(J!==void 0?"_30yy":"")+" _38lh _7kpi",customColor:W,onClick:Fa,useIcon:!0});else{u=b("MessengerHotLikeUtils").getCustomEmojiFromThread(G);Ia=u==null?void 0:b("bs_caml_option").some(u);o=!w;B=k.jsx(b("MessengerHotLikeButton.react"),{className:(o?"":"_30yy")+" _4rv9 _6ymq"+(Ia===void 0?" _7kpj":"")+(Ia!==void 0?" _7v3t":""),customColor:o?X:W,customLike:u,disabled:o,renderSize:24,sendSticker:function(a){b("bs_curry")._1(ea,a);return 0},sendCustomLike:function(a,c,d){b("bs_curry")._3(ca,a,c,d);return 0},threadID:J,thread:G})}r=k.jsx(b("WorkChatSmartReplies.react"),{threadID:J,onClick:da,onResize:F});if(A==null||D===b("MessengerView").DETAIL.COMPOSE)a=null;else{z=A.cannot_reply_reason;q=z==null?!1:z===b("MessengerThreadCannotReplyReason").BLOCKED;if(q){A.is_canonical||j(0,4973);fa!==void 0||j(0,4974);A.other_user_fbid!==null||j(0,4975);Ja=A.other_user_fbid;if(Ja==null)a=k.jsx(m,{});else if(v==null)a=k.jsx(m,{});else{Z=v.get(b("MercuryIDs").getParticipantIDFromUserID(Ja));(Z==null?void 0:b("bs_caml_option").some(Z))!==void 0||j(0,4976);var Ma=[!1];b("MessengerState.bs").compute(E,function(a){Ma[0]=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(E,a.blocked_ids,A);return 0});if(Z==null)a=k.jsx(m,{});else{H=Ma[0];a=H?k.jsx(ba,{threadId:J,isPageChat:za,participantID:Z.id,viewer:E}):k.jsx(m,{})}}}else a=k.jsx("div",{children:k.jsxs("div",{children:[I,k.jsx("div",{children:b("MercuryReadOnlyReason").getReason(A.has_email_participant),className:"_2wy4"})],className:"_5irm"}),className:"_4rv3"})}if(d){if(!(A==null)&&!(C==null)&&b("MessageRequestUtils").shouldShowComposerPendingActions(A)&&!sa[0])return k.jsx(b("MessengerComposerPendingActionsM4React.bs").make,{thread:A,threadId:C,viewer:E,onAccept:function(a){return b("bs_curry")._1(ta,function(a){return!0})}});L=x!==null;return k.jsxs("div",{children:[r,n,L?Ha:null,S,P!==0?t:null,k.jsxs("div",{children:[T,k.jsxs("div",{children:[k.jsx(b("MessengerComposerInput.react"),{disableAutofocus:e,disableInput:!1,fileUploader:c,workChatContentApps:null,handleOnlyImageUploads:!1,isComposing:U,mentionsEnabled:i,onBeforeInput:function(a,c){if(la!==void 0){b("bs_caml_option").valFromOption(la).hideFlyout();return null}else return null},onChange:Ea,onFileUpload:Da,onMessageSend:da,onResize:F,pageID:ha,participants:fa,ref:K,smallerEqual640:!1,sharePreview:ga,showMenu:!1,thread:G,threadID:U?"new":J,viewer:E}),Y],className:"_7kpk"+(N[0]&&P===0?" _7u0c":""),onClick:function(a){return b("bs_curry")._1(qa,function(a){return!1})}}),B],className:"_5irm _7mkm"})],"aria-label":h._("New message"),className:"_4rv3 _7og6",role:"region"})}else return a}g=k.forwardRef(c);f.TooManyIcons=aa;f.getBreakpointMediaQuery=l;f.deref=a;f.Blocked=d;f.BlockedOther=e;f.make=g},null);
__d("MessengerComposerM4React.re",["MessengerComposerM4React.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerComposerM4React.bs").make;f.make=a},null);
__d("MessengerEmojiUsageUtils",["MessengerSupportedEmojiUtils","Utf16"],function(a,b,c,d,e,f){"use strict";var g=65039;a={findAllEmojis:function(a){var c=[];a=b("MessengerSupportedEmojiUtils").parse(a);a.forEach(function(a){var d=[];a.emoji.forEach(function(a){a=b("Utf16").decode(a);a&&d.push(a)});d[d.length-1]===g&&d.pop();c.push(d)});return c}};e.exports=a},null);
__d("MessengerPageComposerM4React.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_belt_Option","bs_caml_option","AsyncRequest","MessengerActions","MNCommercePageSetting","MessengerParticipants.bs","getPageIDFromThreadID","MNCommerceCTAProcessor","MessengerComposerM4React.bs","MNCommerceCallToActionType","MessengerBotMenuDataFetcher","ChatPageComposerNullState.react","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","XMNCommercePageNullStateCTAController"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a,c){var d=a.canReply,e=a.disableAutofocus,f=a.fileUploader,g=a.hideActions,j=a.mentionsEnabled,k=a.onCancelReplyingToMessage,l=a.onCustomLikeSelect,m=a.onMessageSend,n=a.onPhotoUploadComplete,o=a.onPhotoUploadCancel,p=a.onPhotoUploadFail,q=a.onPhotoUploadSubmit,r=a.onResize,s=a.onStickerSelect,t=a.onVoiceClipCreate,u=a.p2pPaymentConfig,v=a.participants,w=a.recipients,x=a.replyingToMessage,y=a.sharePreview,z=a.thread,A=a.threadFbid,B=a.threadId,C=a.view;a=a.viewer;c=c;var D=i.useState(function(){return!1}),E=D[1],F=i.useState(function(){return null}),G=F[1],H=F[0];F=i.useState(function(){return!1});var I=F[1],J=i.useState(function(){return!1}),K=J[1],L=i.useState(function(){return!1}),M=L[1],N=b("getPageIDFromThreadID")(B),O=N==null?void 0:b("bs_caml_option").some(N),P=function(a){var c=b("XMNCommercePageNullStateCTAController").getURIBuilder();new(b("AsyncRequest"))(c.getURI()).setMethod("POST").setData({page_id:a}).setHandler(function(a){b("bs_curry")._1(I,function(a){return!0});return b("bs_curry")._1(G,function(b){return a.payload})}).setErrorHandler(function(a){b("bs_curry")._1(I,function(a){return!1});return b("bs_curry")._1(E,function(a){return!1})}).send();return 0};i.useEffect(function(){b("bs_curry")._1(E,function(a){return!1});b("bs_curry")._1(G,function(a){return null});b("bs_curry")._1(I,function(a){return!1});var a=0;z==null||N==null||z.message_count!==0?a=1:P(N);a===1&&(b("bs_curry")._1(I,function(a){return!1}),b("bs_curry")._1(E,function(a){return!1}));return},[z,B]);i.useEffect(function(){z==null||z.message_count!==0&&b("bs_curry")._1(I,function(a){return!1});return});i.useEffect(function(){N==null?b("bs_curry")._1(K,function(a){return!1}):b("MessengerBotMenuDataFetcher").getHasPageSetting(N,function(a){return b("bs_curry")._1(K,function(b){return a})},function(a){return b("bs_curry")._1(K,function(a){return!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED);return},[O]);i.useEffect(function(){N==null?b("bs_curry")._1(M,function(a){return!1}):b("MessengerBotMenuDataFetcher").getHasPageSetting(N,function(a){return b("bs_curry")._1(M,function(b){return a})},function(a){return b("bs_curry")._1(M,function(a){return!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED);return},[O]);var Q=function(a){a=function(a){b("bs_curry")._1(I,function(a){return!0});return b("bs_curry")._1(E,function(a){return!1})};if(!(H==null)&&H.action_type!==b("MNCommerceCallToActionType").OPEN_NATIVE){b("bs_curry")._1(E,function(a){return!0});b("MNCommercePostbackRefSendManager").hasMDotMeRef(O)?(b("MNCommercePostbackCTADataManager").sendAndConfirm(H.id,H.title,B==null?void 0:b("bs_caml_option").some(B),null,a,b("MNCommercePostbackRefSendManager").getMdotMeRef()),b("MessengerActions").changeMDotMeReferral()):b("MNCommercePostbackCTADataManager").sendAndConfirm(H.id,H.title,B==null?void 0:b("bs_caml_option").some(B),null,a,null);b("MNCommerceCTAProcessor").logCTAClick(H);return 0}else return 0},R;if(H==null||H.action_type!==b("MNCommerceCallToActionType").POSTBACK)R=null;else{var S=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(z==null?void 0:b("bs_caml_option").some(z),function(a){return b("bs_caml_option").nullable_to_opt(a.other_user_fbid)}),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)))}),T=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(S,function(a){return a.name}),"page");if(!b("MNCommercePostbackRefSendManager").hasMDotMeRef(O)&&H.instantgame_metadata!==null)R=i.jsx("div",{children:h._("When you tap {cta title}, {name} will see your public info.",[h._param("cta title",H.title),h._param("name",T)]),className:"_3zc8"});else if(b("MNCommercePostbackRefSendManager").hasMDotMeRef(O)){S=b("bs_belt_Option").flatMap(S,function(a){return b("bs_caml_option").nullable_to_opt(a.vanity)});S=S!==void 0?"m.me/"+S:N==null?"m.me":"m.me/"+N;R=i.jsx("div",{children:h._("When you tap {cta title}, {name} will see your public info and that you opened their {link} link.",[h._param("cta title",H.title),h._param("name",T),h._param("link",S)]),className:"_3zc8"})}else R=null}T=z==null?null:z.message_count;b("MNCommercePostbackRefSendManager").sendMDotMeRef(O,T);return!(H==null)&&F[0]?i.jsxs("div",{children:[R,i.jsx("div",{children:i.jsx(b("ChatPageComposerNullState.react"),{cta:H,disabled:D[0],onClick:Q,threadID:B==null?void 0:b("bs_caml_option").some(B)}),className:"_2xh4 _2xh4"})],className:"_2xh0"}):i.jsx(b("MessengerComposerM4React.bs").make,{canReply:d&&!L[0],disableAutofocus:e,fileUploader:f,hideActions:g,mentionsEnabled:j,onCancelReplyingToMessage:k,onCustomLikeSelect:l,onMessageSend:m,onPhotoUploadComplete:n,onPhotoUploadCancel:o,onPhotoUploadFail:p,onPhotoUploadSubmit:q,onResize:r,onStickerSelect:s,onVoiceClipCreate:t,p2pPaymentConfig:u,participants:v,recipients:w,replyingToMessage:x,sharePreview:y,showBotMenu:J[0],thread:z,threadFbid:A,threadId:B,view:C,viewer:a,ref:c})}c=i.forwardRef(a);f.make=c},null);
__d("MessengerPageComposerM4React.re",["MessengerPageComposerM4React.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPageComposerM4React.bs").make;f.make=a},null);
__d("MessengerSimpleDialogReact.bs",["fbt","React","bs_caml_option","ReasonReact.bs","ServerHTML.react","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerSimpleDialogReact");function i(a){var c=a.title,d=a.body;a=a.serverHTML;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:c}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:h.createElement(h.Fragment,void 0,a!==void 0?h.createElement(b("ServerHTML.react"),{blob:b("bs_caml_option").valFromOption(a)}):null,d!==void 0?d:null)}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={title:a.title},d=b("bs_caml_option").nullable_to_opt(a.body);d!==void 0&&(c.body=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.serverHTML);d!==void 0&&(c.serverHTML=b("bs_caml_option").valFromOption(d));return i(c)}d=i;f.component=c;f.make=d;f.jsComponent=a},null);
__d("MessengerComposerContainerImpl.react",["fbt","requireCond","AsyncRequest","AsyncUploadRequest","Bootloader","CurrentUser","EmojiDispatcher","EmojiLikeUtils","EmojiState","KeyEventController","MercuryAttachment","MercuryConfig","MercuryIDs","MercuryLocalIDs","MercuryMessageActions","MercuryMessageObject","MercurySendMessageHandler","MercuryThreadActions","MercuryThreadIDMap","MercuryThreadInformer","MessageRequestUtils","MessengerActions","MessengerComposer.react","MessengerComposerActions","MessengerComposerM4React.re","MessengerDialogs.bs","MessengerEmojiUsageUtils","MessengerPageComposerM4React.re","MessengerSimpleDialogReact.bs","MessengerState.bs","MessengerSurfaceType.bs","MessengerView","MNPlatformTagsDataManager","P2PPaymentConfig","PhotosUploadID","React","ReactDOM","RepliedToMessageStatusForGraphQL","SubscriptionsHandler","cr:1192333","XMessagingSetThreadNameController","getPageIDFromThreadID","gkx","immutable","prop-types","EmojiStateStore"],function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerComposerM4React.re").make,i=b("MessengerPageComposerM4React.re").make,j=b("MessengerSimpleDialogReact.bs").jsComponent,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a,c,e){d.props.hostProps&&d.props.hostProps.messageSentCallback();b("EmojiState").updateRecentlyUsed(b("MessengerEmojiUsageUtils").findAllEmojis(a));if(!d.props.canReply){e&&e(null);return!1}var f=null,g=!1;d.$13(a,c)||(g=d.$14(function(e){var g=d.$2.constructUserGeneratedMessageObject(a,d.props.source,e);g=babelHelpers["extends"]({},g);e=b("MercuryIDs").getUserIDFromThreadID(e);if(b("MNPlatformTagsDataManager").hasThreadTags(e)){e=b("MNPlatformTagsDataManager").getThreadTags();g.tags=e||[]}c&&(c.shareable_attachment&&(g.shareable_attachment=c.shareable_attachment),c.profile_ranges&&(g.profile_ranges=g.profile_xmd=c.profile_ranges));f=g;return g}));e&&e(g?f:null);f=null;return g},d.$8=function(a,b){d.$3.cancelAttachmentPlaceholder(b.upload_id,b)},d.$7=function(a,b){d.$3.confirmAttachmentPlaceholder(b.upload_id,b)},d.$9=function(a,c){d.$3.cancelAttachmentPlaceholder(c.upload_id,c);var e=g._("Upload failed");if(c.errorDialogParams){var f=c.errorDialogParams;e=f.title||e;if(f.body){b("MessengerDialogs.bs").showDialog(function(){return k.jsx(j,{title:e,serverHTML:f.body})});return}}var h=g._("Please try again. Make sure you are uploading a valid file.");b("MessengerDialogs.bs").showDialog(function(){return k.jsx(j,{title:e,body:h})})},d.$10=function(a,b){d.$14(function(a){return d.$2.constructAttachmentMessageObject(d.props.source,a)},function(a){d.$3.addAttachmentPlaceholder(a,b.upload_id,b),d.handleMessageSentToPendingThread()})},d.handleAudioUpload=function(a){var c="upload_"+b("PhotosUploadID").getNewID();d.$1.sendAttachment(d.props.threadID,l(c),d.props.source);var e={};e[c]=a;c=new(b("AsyncUploadRequest"))(b("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setRelativeTo(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).setData({voice_clip:!0}).setFiles(e);d.$4.addSubscriptions(c.subscribe("success",function(a,b){return d.$15(b)}));c.send()},d.$11=function(a){return d.$14(function(b){return d.$2.constructStickerMessageObject(a,d.props.source,b)})},d.$12=function(a,c,e){var f=d.props.threadID,g=d.$2.constructUserGeneratedMessageObject(a.emoji,d.props.source,f);g.has_attachment=!1;return d.$14(function(a){b("EmojiLikeUtils").setEmojiSize(g,c);return b("EmojiLikeUtils").setEmojiSource(g,e)})},d.handleMessageSentToPendingThread=function(){d.props.thread&&b("MessageRequestUtils").isMessageRequest(d.props.thread)&&b("MercuryThreadActions").getForFBID(d.props.viewer).movePendingToInbox(d.props.threadID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("MercurySendMessageHandler").getForFBID(this.props.viewer);this.$3=b("MercuryMessageActions").getForFBID(this.props.viewer);this.$2=b("MercuryMessageObject").getForFBID(this.props.viewer);this.$5=b("MercuryThreadInformer").getForFBID(this.props.viewer);this.$4=new(b("SubscriptionsHandler"))();b("EmojiDispatcher").explicitlyRegisterStores([b("EmojiStateStore")]);this.props.onMount&&this.props.onMount(this);this.$4.addSubscriptions(b("KeyEventController").registerKey("ESCAPE",function(){a.props.replyingToMessage&&(a.props.onCancelReplyingToMessage&&a.props.onCancelReplyingToMessage())},function(a,c){return!!(a.key==="Escape"&&b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c))}))};d.componentWillUnmount=function(){this.$4.release()};d.focusInput=function(){this.refsComposer&&this.refsComposer.focusInput&&this.refsComposer.focusInput()};d.render=function(){var a=this,c=this.props.hostProps?this.props.hostProps.hideActions:!1,d=this.props.surface===b("MessengerSurfaceType.bs").workQuickchat;c={canReply:this.props.canReply,disableAutofocus:this.props.disableAutofocus,fileUploader:this.props.fileUploader,hideActions:c,mentionsEnabled:!0,onMessageSend:this.$6,onPhotoUploadComplete:this.$7,onPhotoUploadCancel:this.$8,onPhotoUploadFail:this.$9,onPhotoUploadSubmit:this.$10,onResize:this.props.onResize,onStickerSelect:this.$11,onCustomLikeSelect:this.$12,replyingToMessage:this.props.replyingToMessage,onCancelReplyingToMessage:this.props.onCancelReplyingToMessage,participants:this.props.participants,recipients:this.props.recipients,ref:function(b){return a.refsComposer=b},sharePreview:this.props.sharePreview,thread:this.props.thread,view:this.props.view,viewer:this.props.viewer};if(b("cr:1192333")&&!d)return k.jsx(b("cr:1192333").make,babelHelpers["extends"]({},c,{threadId:this.props.threadID,showBotMenu:!1,workChatContentApps:this.props.workChatContentApps}));else if(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")&&!d)if(b("getPageIDFromThreadID")(this.props.threadID))return k.jsx(i,babelHelpers["extends"]({},c,{threadId:this.props.threadID,onVoiceClipCreate:this.handleAudioUpload,p2pPaymentConfig:b("P2PPaymentConfig").config,threadFbid:this.props.threadFBID}));else return k.jsx(h,babelHelpers["extends"]({},c,{threadId:this.props.threadID,showBotMenu:!1,onVoiceClipCreate:this.handleAudioUpload,p2pPaymentConfig:b("P2PPaymentConfig").config,threadFbid:this.props.threadFBID}));else return k.jsx(b("MessengerComposer.react"),babelHelpers["extends"]({},c,{threadID:this.props.threadID,threadFBID:this.props.threadFBID,openPostComposerInSameWindow:this.props.openPostComposerInSameWindow,p2pPaymentConfig:b("P2PPaymentConfig").config,onVoiceClipCreate:this.handleAudioUpload}))};d.$13=function(a,b){return a?!1:!(b&&(b.shareable_attachment||b.profile_ranges.length>0))};d.$15=function(a){var b=a.getName();a=a.getResponse().payload.metadata[0].audio_id;this.$3.confirmAttachmentPlaceholder(b,{upload_id:b,audio_ids:[a]})};d.handleFileUpload=function(a){var b=this;a=a.reduce(function(a,b){var c=b.type.split("/")[0];a[c]?a[c].push(b):a.other.push(b);return a},{audio:[],image:[],other:[]});a.audio.forEach(function(a){return b.handleAudioUpload(a)});this.refsComposer&&this.refsComposer.handleFileUpload(a.image.concat(a.other))};d.handleTextDropped=function(a){this.refsComposer&&this.refsComposer.handleTextDropped(a)};d.$14=function(a,c){var d=this.props.threadID,e=this.props.recipients,f,g=!d&&e&&e.size>1;g&&(d=b("MercuryLocalIDs").generateThreadID(),f=this.props.newGroupName);if(!d)return!1;a=a(d);if(g){g=e.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray();b("MessengerState.bs").createNewLocalThread(this.props.viewer,d,g.concat(b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)));a.offline_threading_id=b("MercuryIDs").tokenize(d).value;a.specific_to_list=g}else this.props.participants!=null&&this.props.participants.size!=0&&(a.participants_to_hash=this.props.participants.map(function(a){return a.id}).toArray());if(this.props.replyingToMessage&&this.props.replyingToMessage.message_id){e=b("MessengerState.bs").getMessagesFromIDs(b("CurrentUser").getID(),[this.props.replyingToMessage.message_id]);e=e.length>0?e[0]:null;a.replied_to_message={status:e?b("RepliedToMessageStatusForGraphQL").VALID:b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE,message:e};this.props.onCancelReplyingToMessage&&this.props.onCancelReplyingToMessage()}c?c(a):this.$3.send(a,this.handleMessageSentToPendingThread);this.props.view===b("MessengerView").DETAIL.COMPOSE&&(b("MercuryAttachment").get(a).length>0&&b("MessengerComposerActions").moveDraftToNextThread(d),b("MessengerComposerActions").exitComposeState(),b("MercuryIDs").isLocalThread(d)?this.$5.subscribeOnce("messages-updated",function(a,c){a=b("MercuryThreadIDMap").get();if(a.canLinkExternally(d)){if(b("gkx")("836564")&&f&&f!==""){c=b("XMessagingSetThreadNameController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({thread_id:a.getServerIDFromClientIDNow(d),thread_name:f}).send();b("Bootloader").loadModules(["WorkChatActivityTypedLogger","WorkChatActivityEvent"],function(a,b){new a().setEvent(b.NAMED_GROUP_CHAT_CREATION_FROM_SLASH_CHAT).log()},"MessengerComposerContainerImpl.react")}b("MessengerActions").selectThread(d)}}):b("MessengerActions").selectThread(d));this.focusInput();return!0};d.resetDrag=function(){this.refsComposer&&this.refsComposer.exitCurrentMode()};return c}(k.PureComponent);a.propTypes={canReply:(c=b("prop-types")).bool,disableAutofocus:c.bool,fileUploader:c.object,onMount:c.func,onResize:c.func,participants:c.instanceOf(b("immutable").Map),recipients:c.instanceOf(b("immutable").List),sharePreview:c.object,workChatContentApps:c.instanceOf(b("immutable").OrderedMap),hostProps:c.object,threadID:c.string,threadFBID:c.string,thread:c.object,view:c.string,viewer:c.string,replyingToMessage:c.object,onCancelReplyingToMessage:c.func,newGroupName:c.string,openPostComposerInSameWindow:c.bool};function l(a){return{upload_id:a,preview_attachments:[{upload_id:a,attach_type:"photo",preview_uploading:!0}]}}e.exports=a},null);
__d("withMessengerSurface",["MessengerSurfaceContext.re","React"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h=g.useContext;function a(a,c){var d;c===!0?c=g.forwardRef(function(c,d){var e=h(b("MessengerSurfaceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{ref:d,surface:e}))}):c=function(c){var d=h(b("MessengerSurfaceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{surface:d}))};c.displayName=((d=(d=a.displayName)!=null?d:a.name)!=null?d:"Component")+"WithMessengerSurface";return c}e.exports=a},null);
__d("MessengerComposerContainer.react",["MessengerComposerContainerImpl.react","withMessengerSource","withMessengerSurface"],function(a,b,c,d,e,f){"use strict";a=b("withMessengerSurface")(b("withMessengerSource")(b("MessengerComposerContainerImpl.react")));e.exports=a},null);
__d("MessengerContactListRowActions",["AsyncRequest","FantaFRXUtil","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MessengerContactActions.bs","MessengerContactAdapters","URI","immutable"],function(a,b,c,d,e,f){"use strict";var g,h=b("MessengerContactActions.bs").actions;a=function(a){var c=a.action,d=a.contact,e=a.viewer,f=a.thread,i=a.participants;a=a.handleContactSelect;d=b("MessengerContactAdapters").fromMercuryParticipant(d);if(b("MercuryIDs").getUserIDFromParticipantID(d.uid)!==e)switch(c){case h.MESSAGE:a(d);break;case h.PROFILE:i=i.get(d.uid);i&&i.href?window.open(i.href):a(d);break;case h.REMOVE:if(!b("MercuryThreadInfo").isEmptyLocalThread(f)){i=new(g||(g=b("URI")))("/chat/remove_participants/");i.addQueryData({uid:b("MercuryIDs").getUserIDFromParticipantID(d.uid),tid:f.thread_fbid});a=new(b("AsyncRequest"))(i);a.send()}break;case h.REPORT_GROUP_CHAT_USER:b("FantaFRXUtil").FRXClicked(f.thread_id,!0,d.uid);break}i=b("MercuryIDs").getUserIDFromParticipantID(d.uid);a=f.thread_fbid;if(i==null||a==null)return;switch(c){case h.REMOVE_OWNER:b("MercuryThreadInfo").isEmptyLocalThread(f)||b("MercuryThreadActions").getForFBID(e).changeGroupAdmins(a,[i],!1);break;case h.ADD_OWNER:b("MercuryThreadInfo").isEmptyLocalThread(f)||b("MercuryThreadActions").getForFBID(e).changeGroupAdmins(a,[i],!0);break}};e.exports={handleContactActions:a}},null);
__d("MessengerBlockedGroupThreadWarningDialogReact.bs",["fbt","bs_block","bs_curry","React","ReasonReact.bs","CacheStorage","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var b=a.length;if(b>=3){var c=String(a.length-2|0);return g._("{person1}, {person2} and {number} others are in this group. If you continue, you and they will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("person1",a[0]),g._param("person2",a[1]),g._param("number",c)])}else switch(b){case 0:return g._("People you've blocked are in this conversation. If you see this conversation, you'll get each other's messages to the group.");case 1:c=a[0];return g._("You've blocked {name}. If you continue, you and {name} will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("name",c)]);case 2:b=a[0];c=a[1];return g._("{person1} and {person2} are in this group. If you continue, you and they will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("person1",b),g._param("person2",c)])}}function j(a){var b=a.length;if(b!==1)if(b!==0)return g._("People you've blocked are in this group");else return g._("See Conversation?");else{b=a[0];return g._("{name} is in this group",[g._param("name",b)])}}var k=g._("Cancel"),l=g._("Leave Group"),m=g._("See Conversation"),n=new(b("CacheStorage"))("localstorage");function a(a){return"see_blocked_group:"+a}function c(a,b){n.set("see_blocked_group:"+a,b,!0);return 0}function d(a){return n.get("see_blocked_group:"+a,!1)}var o=b("ReasonReact.bs").reducerComponent("MessengerBlockedGroupThreadWarningDialogReact");function p(a,c,d,e,f,g){return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],function(g){var n,o;return(n=b("ReasonReact.bs")).element(void 0,void 0,(o=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,g[1][0],void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h.createElement(b("MessengerDialogTitleReact.bs").make,{children:j(f)})}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:h.createElement(b("MessengerDialogTitleReact.bs").make,{children:i(f)})}),n.element(void 0,void 0,o.Footer.make(void 0,void 0,[n.element(void 0,void 0,o.Button.make(1,k,void 0,void 0,function(a){a.stopPropagation();b("bs_curry")._1(d,e);return b("bs_curry")._1(g[3],0)},1,void 0,void 0,void 0,[])),n.element(void 0,void 0,o.Button.make(1,l,void 0,void 0,function(a){a.stopPropagation();b("bs_curry")._1(c,e);return b("bs_curry")._1(g[3],0)},1,void 0,void 0,void 0,[])),n.element(void 0,void 0,o.Button.make(1,m,void 0,"danger",function(c){c.stopPropagation();b("bs_curry")._1(a,0);return b("bs_curry")._1(g[3],0)},0,void 0,void 0,void 0,[]))]))]))},function(a){return[!0]},o[10],function(a,c){return b("bs_block").__(0,[[!1]])},o[12]]}e=b("ReasonReact.bs").wrapReasonForJs(o,function(a){return p(a.onSee,a.onLeave,a.onCancel,a.prevThreadID,a.blockedNames,[])});f.bodyText=i;f.titleText=j;f.cancelText=k;f.leaveText=l;f.seeConvoText=m;f.storage=n;f.getSeeConversationCacheKey=a;f.setWantsToSee=c;f.getWantsToSee=d;f.component=o;f.make=p;f.jsComponent=e},null);
__d("MessengerIgnoredGroupThreadWarningDialogReact.bs",["cx","fbt","bs_curry","React","gkx","CurrentUser","ReasonReact.bs","CacheStorage","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("People you've ignored are in this group."),k=h._("People you've permanently hidden are in this chat."),l=h._("If you ignore this group, you can find it in Filtered Messages."),m=h._("If you permanently hide this chat, you can find it in 'Permanently Hidden'."),n=h._("Ignore group?"),o=h._("Permanently Hide chat?"),p=h._("Cancel"),q=h._("Ignore Group"),r=h._("Permanently Hide"),s=h._("See Group"),t=h._("See Chat"),u=new(b("CacheStorage"))("localstorage");function a(a){return"see_ignored_group:"+a}function c(a,b){u.set("see_ignored_group:"+a,b,!0);return 0}function d(a){return u.get("see_ignored_group:"+a,!1)}g=b("ReasonReact.bs").statelessComponent("MessengerIgnoredGroupThreadWarningDialogReact");function v(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(void 0,0)}function e(a){var c=a.onSee,d=a.onIgnore,e=a.onCancel,f=a.prevThreadID;a=a.threadID;var g=function(a){a.stopPropagation();b("bs_curry")._1(c,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)},h=function(a){a.stopPropagation();b("bs_curry")._1(d,f);return b("MessengerDialogs.bs").removeDialog(void 0,0)},u=function(a){a.stopPropagation();b("bs_curry")._1(e,f);return b("MessengerDialogs.bs").removeDialog(void 0,0)},w=b("CurrentUser").isWorkUser()&&b("gkx")("762398");a=new(b("IgnoreMessagesTypedLogger"))().setEvent("group_with_ignored_person_warning").setThreadID(a).setPlatform("messengerdotcom");a.log();return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:i.createElement(b("MessengerDialogTitleReact.bs").make,{children:w?o:n})}),i.createElement(b("MessengerDialogBodyReact.bs").make,{children:[i.createElement("div",void 0,w?k:j),i.createElement("div",{className:"_3-8x"},w?m:l)]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,p,void 0,void 0,u,1,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,w?t:s,void 0,void 0,g,1,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,w?r:q,void 0,"danger",h,0,void 0,void 0,void 0,[]))]))]))}h=e;e=e;f.bodyTextPeopleInGroup=j;f.workBodyTextPeopleInGroup=k;f.bodyTextEffects=l;f.workBodyTextEffects=m;f.titleText=n;f.workTitleText=o;f.cancelText=p;f.ignoreText=q;f.workIgnoreText=r;f.seeConvoText=s;f.workSeeConvoText=t;f.storage=u;f.getSeeConversationCacheKey=a;f.setWantsToSee=c;f.getWantsToSee=d;f.component=g;f.handleToggle=v;f.make=h;f.jsComponent=e},null);
__d("MessengerServerErrorDialogReact.bs",["fbt","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").statelessComponent("MessengerServerErrorDialog"),j=g._("An unexpected problem was encountered. Please try again later."),k=g._("Temporary Failure");function l(a,c){return[i[0],i[1],i[2],i[3],function(c){return b("bs_curry")._1(a,0)},i[5],i[6],i[7],function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:k}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:j}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return l(a.onMount,[])});f.component=i;f.message=j;f.title=k;f.make=l;f.jsComponent=a},null);
__d("MessengerConversationContainer.react",["Bootloader","ImmutableObject","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageStore","gkx","immutable","MercuryThreadActions","MessagingTagConstants","MessengerActions","MessengerBlockedGroupThreadWarningDialogReact.bs","MessengerConfig","MessengerConversation.react","MessengerDialogs.bs","MessengerHotLikePreviewEvents","MessengerIgnoredGroupThreadWarningDialogReact.bs","MessengerLeaveGroupAction","MessengerState.bs","MessengerParticipantUtils.bs","MessengerParticipants.bs","prop-types","React","SubscriptionsHandler","MessengerServerErrorDialogReact.bs"],function(a,b,c,d,e,f){"use strict";var g=b("MercuryThreadActions").get(),h=b("React"),i=b("MessengerServerErrorDialogReact.bs").jsComponent,j=b("MessengerBlockedGroupThreadWarningDialogReact.bs").jsComponent,k=b("MessengerIgnoredGroupThreadWarningDialogReact.bs").jsComponent,l=200,m=b("gkx")("833128");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoaded:!1,isLoading:!0,messages:b("immutable").List()},d.$2=void 0,d.$3=!1,d.$4=void 0,d.$5=void 0,d.$6=void 0,d.$7=!1,d.$14=function(){d.refs.conversation&&d.refs.conversation.scrollToBottom&&typeof d.refs.conversation.scrollToBottom==="function"&&d.refs.conversation.scrollToBottom()},d.$16=function(){var a=d.props.thread;if(a==null)return;b("MessengerBlockedGroupThreadWarningDialogReact.bs").setWantsToSee(a.thread_id,!0)},d.$19=function(){var a=d.props.thread;if(a==null)return;b("MessengerIgnoredGroupThreadWarningDialogReact.bs").setWantsToSee(a.thread_id,!0)},d.$17=function(a){var c=d.props.thread;if(c==null)return;b("MessengerLeaveGroupAction").leaveGroup(c,d.props.viewer);d.$21(a)},d.$20=function(a){var c=d.props.thread;if(c==null)return;var e=c.thread_id;g.changeFolder(e,b("MessagingTagConstants").other);b("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(a,c,d){new a().setEvent(c.IGNORE_CONFIRMED).setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(e)).setPlatform(d.MESSENGERDOTCOM).log()},"MessengerConversationContainer.react");d.$21(a)},d.$18=function(a){d.$21(a)},d.$13=function(){if(d.state.isLoading||d.state.isLoaded)return;d.setState({isLoading:!0});d.$1.fetchMoreMessages()||d.setState({isLoading:!1,isLoaded:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$2&&this.$2.release(),window.clearTimeout(this.$6)};d.componentDidMount=function(){this.$8(this.props.threadID),this.$9()?this.$10():this.$11()&&this.$12()};d.componentDidUpdate=function(a){var b=this.props.threadID!==a.threadID;b&&(this.$9()?this.$10(a.threadID):this.$11()&&this.$12(a.threadID))};d.UNSAFE_componentWillReceiveProps=function(a){this.props.threadID!==a.threadID&&(this.setState({isLoading:!0,messages:b("immutable").List()}),this.$8(a.threadID))};d.render=function(){var a=this,c=this.state.messages;c=c.some(function(a){return a.log_message_type==="log:error-msg"});b("MessengerConfig").ErrorDialog&&c&&!this.$7&&b("MessengerDialogs.bs").showDialog(function(){return h.jsx(i,{onMount:function(){return a.$7=!0}})});return h.jsx(b("MessengerConversation.react"),{className:this.props.className,contact:this.props.contact,deliveryTimestamp:this.props.deliveryTimestamp,fetchMessages:this.$13,isCanonical:b("MercuryIDs").isCanonical(this.props.threadID),isLoading:this.state.isLoading,isLoaded:this.state.isLoaded,hideContextBanner:this.props.hideContextBanner,messages:this.state.messages,onRead:this.props.onMarkRead,onVoiceClipCreate:this.props.onVoiceClipCreate,onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.props.readReceipts,ref:"conversation",thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer,bottomOffset:this.props.bottomOffset})};d.handleResize=function(){this.refs.conversation.handleResize()};d.isScrolledToBottom=function(){return!!(this.refs.conversation&&this.refs.conversation.isScrolledToBottom())};d.$9=function(){var a=this,c=this.props.thread;if(c==null)return!1;var d=c.thread_id;if(!this.$15())return!1;var e=!1;b("MessengerState.bs").compute(this.props.viewer,function(d){d=d.blocked_ids;b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(a.props.viewer,d,c)&&(e=!0)});if(!e)return!1;d=b("MessengerBlockedGroupThreadWarningDialogReact.bs").getWantsToSee(d);return d?!1:!0};d.$11=function(){var a=this.props.thread;if(a==null)return!1;var c=a.thread_id;if(!this.$15())return!1;if(a.folder!=="inbox")return!1;if(!b("MessengerParticipantUtils.bs").areParticipantsInGroupThread(this.props.fbid,this.props.ignoredIds,a))return!1;a=b("MessengerIgnoredGroupThreadWarningDialogReact.bs").getWantsToSee(c);return a?!1:!0};d.$15=function(){var a=this.props.thread;if(a==null)return!1;if(b("MercuryIDs").isCanonical(this.props.threadID))return!1;return!a.is_subscribed?!1:!0};d.$10=function(a){var c=this,d=this.props.thread,e=[];b("MessengerState.bs").compute(this.props.viewer,function(a){a=a.blocked_ids;a=b("MercuryIgnoredBlockedParticipants.bs").participantsInGroupThread(c.props.viewer,a,d);a.length>=1&&a.forEach(function(a){b("MessengerParticipants.bs").get(a,function(a){e.push(a.name)})})});b("MessengerDialogs.bs").showDialog(function(){return h.jsx(j,{onSee:c.$16,onLeave:c.$17,onCancel:c.$18,prevThreadID:a,blockedNames:e})})};d.$12=function(a){var c=this;b("MessengerDialogs.bs").showDialog(function(){return h.jsx(k,{onSee:c.$19,onIgnore:c.$20,onCancel:c.$18,prevThreadID:a,threadID:b("MercuryIDs").getThreadFBIDFromThreadID(c.props.threadID)})})};d.$21=function(a){a==null&&b("MessengerActions").selectThread(null),b("MessengerActions").selectThread(a)};d.$22=function(){return m&&this.props.thread!=null&&this.props.thread.unread_count!=null&&this.props.thread.unread_count>0&&this.props.thread.unread_count<l?b("MessengerConfig").MessageLoadCount+this.props.thread.unread_count:b("MessengerConfig").MessageLoadCount};d.$8=function(a){var c=this;if(!a)return;this.setState({isLoaded:!1});this.$1&&this.$1.destroy();this.$7=!1;this.$1=new(b("MercuryMessageStore"))(a,this.$22());window.clearTimeout(this.$6);this.$6=window.setTimeout(function(){c.props.thread&&c.props.thread.message_count<1&&c.setState({isLoaded:!0,isLoading:!1})},6e3);this.$2&&this.$2.release();this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.subscribe(function(a){c.setState({messages:c.$23(b("immutable").List(a.messages)),isLoading:!1})}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(b){if(a!==b.thread_id)return;c.$3=!0;c.$4=b;c.setState(function(a){return{messages:c.$23(a.messages)}});window.clearInterval(c.$5);c.$5=window.setInterval(c.$14,50)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(a){window.clearInterval(c.$5)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(a){window.clearInterval(c.$5)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,function(){c.$3=!1,c.$4=null}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP_EMOJI,function(){c.$3=!1,c.$4=null}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,function(){window.clearInterval(c.$5),c.$3=!1,c.setState(function(a){return{messages:c.$23(a.messages)}})}))};d.$23=function(a){this.$3?a=a.set(a.size,this.$4):(a=a.filterNot(function(a){return a.is_like_preview}),this.$4=null);return a};return c}(h.PureComponent);a.propTypes={contact:(c=b("prop-types")).instanceOf(b("ImmutableObject")),deliveryTimestamp:c.number.isRequired,readReceipts:c.any,fbid:c.string.isRequired,hideContextBanner:c.bool,ignoredIds:c.any,onMarkRead:c.func.isRequired,onVoiceClipCreate:c.func,onReplyToMessage:c.func,thread:c.object,threadID:c.string.isRequired,viewer:c.string.isRequired,bottomOffset:c.number};e.exports=a},null);
__d("MercuryCanonicalGroupThreadActionTypes",["keyMirror"],function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({THREAD_SEARCH_UPDATED:null})},null);
__d("MercuryCanonicalGroupThreadStore",["FluxStore","MercuryCanonicalGroupThreadActionTypes","MercuryCanonicalGroupThreadManager","MessengerDispatcher"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MercuryCanonicalGroupThreadStore1=b("MercuryCanonicalGroupThreadManager").get();return c}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED:this.__emitChange();break;default:break}};d.getOrFetch=function(a){var c=this.$MercuryCanonicalGroupThreadStore1.getNow(a);c||this.$MercuryCanonicalGroupThreadStore1.getCanonicalGroupThreadIDForParticipants(a,function(){b("MessengerDispatcher").dispatch({type:b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED})});return c};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()},null);
__d("MessengerDeliveryReceipt.bs",["bs_belt_Option","bs_belt_MapString"],function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(a,c),0)}c=b("bs_belt_Option").getWithDefault;f.$pipe$question=c;f.getDeliveryTimeOfThread=a},null);
__d("MessengerDetailViewHeaderContainer.react",["requireCond","ImmutableObject","MercuryIDs","MercuryThreadIDMap","MessengerActions","MessengerComposerActions","MessengerComposeViewHeader.react","MessengerDetailViewHeaderReact.bs","MessengerState.bs","MessengerView","React","cr:1269789","immutable","prop-types","shallowEqual"],function(a,b,c,d,e,f){"use strict";var g=b("MessengerDetailViewHeaderReact.bs").jsComponent,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.getUniqueID(),e=a.getType(),f=a.getAuxiliaryData()||{};if(e==="thread"){var g=b("MercuryThreadIDMap").getForFBID(d.props.viewer);g.getClientIDFromServerID(c,function(a){b("MessengerComposerActions").moveDraftToNextThread(a),b("MessengerActions").selectThread(a)});b("MessengerComposerActions").exitComposeState()}else if(c===d.props.viewer&&d.props.recipients.size===0||e==="page"||e==="internal_bot_page"&&!f.canViewerAddToGroupChat){g=b("MercuryIDs").getThreadIDFromUserID(c);b("MessengerComposerActions").moveDraftToNextThread(g);b("MessengerComposerActions").exitComposeState();b("MessengerActions").selectThread(b("MercuryIDs").getThreadIDFromUserID(c))}else b("MessengerComposerActions").addToken(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=a.contactData;a=babelHelpers.objectWithoutPropertiesLoose(a,["contactData"]);var d=this.props,e=d.contactData;d=babelHelpers.objectWithoutPropertiesLoose(d,["contactData"]);return!b("shallowEqual")(a,d)||!b("shallowEqual")(c,e)};d.render=function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE?b("cr:1269789")!=null?h.jsx(b("cr:1269789"),{onAddRecipient:this.$1,onRemoveRecipient:this.$2,recipients:this.props.recipients}):h.jsx(b("MessengerComposeViewHeader.react"),{forceHideClearButton:!0,onAddRecipient:this.$1,onRemoveRecipient:this.$2,onResize:this.props.onResize,onClear:null,thread:this.props.thread,recipients:this.props.recipients,viewer:this.props.viewer,isWorkUser:this.props.isWorkUser,shouldShowCreateGroupButton:this.props.shouldShowCreateGroupButton,onCreateGroupButtonClicked:this.props.onCreateGroupButtonClicked}):h.jsx(g,{contactData:this.props.contactData,infoPanelCollapsed:this.props.infoPanelCollapsed,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer,shouldUseRelay:!1,montageData:b("MessengerState.bs").montage(this.props.messengerState)})};d.$2=function(a){b("MessengerComposerActions").removeToken(a)};return c}(h.Component);a.propTypes={contactData:(c=b("prop-types")).object,infoPanelCollapsed:c.bool.isRequired,onInfoPanelToggle:c.func.isRequired,onResize:c.func.isRequired,participants:c.instanceOf(b("immutable").Map).isRequired,recipients:c.instanceOf(b("immutable").List).isRequired,thread:c.instanceOf(b("ImmutableObject")),view:c.string,viewer:c.string.isRequired,isWorkUser:c.bool.isRequired,messengerState:c.array.isRequired,shouldShowCreateGroupButton:c.bool,onCreateGroupButtonClicked:c.func};e.exports=a},null);
__d("CustomColorHighlightingReact.bs",["ReasonReact.bs","bs_js_null_undefined","CustomColorHighlighting.react"],function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("CustomColorHighlighting.react"),{customColor:b("bs_js_null_undefined").fromOption(a)},c)}f.make=a},null);
__d("MessengerInfoPanelSectionReact.bs",["cx","Keys","bs_curry","React","ReasonReact.bs","CustomColorHighlightingReact.bs","MessengerDotComAndInboxM4Check.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelSectionReact");function i(a,b,c){if(b!==void 0&&b&&c!==void 0)if(c)return h.createElement("div",{"aria-label":a,"aria-expanded":!1,className:"_1lj1 _3vo-",role:"button",tabIndex:0});else return h.createElement("div",{"aria-label":a,"aria-expanded":!0,className:"_1lj1",role:"button",tabIndex:0});else return null}function j(a,c,d,e){var f=function(a){if(d!==void 0)return b("bs_curry")._1(d,0);else return 0},g=function(a){a.preventDefault();return f(0)},j=function(a){if(a.keyCode===b("Keys").RETURN||a.keyCode===b("Keys").SPACE){a.preventDefault();return f(0)}else return 0},k=a!==void 0&&a&&!(c!==void 0&&c)?!0:!1;if(e!==void 0){e=e;var l=b("MessengerDotComAndInboxM4Check.bs").yes?"_1lj0 _6ybm":"_1lj0";return h.cloneElement(h.createElement("h4",{"aria-expanded":k,className:l,onKeyDown:j,onClick:g},e,i(e,a,c)),{"aria-pressed":"true"})}else return null}function a(a){var c=a.customColor,d=a.isCollapsible,e=a.isCollapsed,f=a.onToggle,g=a.title;a=a.children;a=h.Children.toArray(a);return h.createElement("div",{className:"_1lix"+(d===!0?" _1liy":"")+(d===!0&&e===!0?" _1liz":"")},h.createElement("div",{className:"_1li-"}),j(d,e,f,g),h.createElement("div",{className:"_1li_"},b("ReasonReact.bs").element(void 0,void 0,b("CustomColorHighlightingReact.bs").make(c,a))))}d=a;e=a;f.component=c;f.renderChevron=i;f.renderHeader=j;f.make=d;f.jsComponent=e},null);
__d("MessengerInfoPanelAssociatedObjectSection.react",["cx","fbt","CurrentUser","Image.react","Link.react","MessengerInfoPanelSectionReact.bs","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","prop-types"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerInfoPanelSectionReact.bs").jsComponent,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.isCollapsed,e=c.onToggle,f=c.associatedObject;c=c.customColor;a=(a=f.verse_group_link)!=null?a:f.action_link+"?ref=MessengerInfoPanelAssociatedObjectSection";return j.jsx(i,{customColor:c,isCollapsible:!0,isCollapsed:d,onToggle:e,title:h._("Part of"),children:j.jsxs(b("Link.react"),{href:a,target:"_blank",style:{textDecoration:"none"},className:"_35-k",children:[this.$1(),this.$2()]})})};d.$1=function(){var a=this.props.associatedObject;a=a.profile_picture;return j.jsx("div",{children:j.jsx(b("Image.react"),{className:"_35-n",src:a})})};d.$2=function(){var a=this.props.associatedObject,c=a.name,d=b("TimeSpentRoomTypeEnum")[a.room_type];a=a.verse_group_link;var e=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return j.jsxs("div",{className:"_35-o",children:[j.jsx("div",{className:"_35-p",children:c}),j.jsxs("div",{className:"_35-q",children:[!a&&h._({"GROUP":"Go to {productName} Group","EVENT":"Go to {productName} Event"},[h._param("productName",e),h._enum(d,b("TimeSpentRoomTypeEnum$FbtEnum"))]),a&&h._("Go to Facebook Chat Group")]})]})};return c}(j.PureComponent);a.propTypes={isCollapsed:(c=b("prop-types")).bool.isRequired,onToggle:c.func.isRequired,customColor:c.string,associatedObject:c.instanceOf(Object).isRequired};e.exports=a},null);
__d("MessengerInfoPanelGroupSection.react",["cx","fbt","FBToggleSwitch.react","MessengerApprovalQueueUtils","immutable","MercuryThreadActions","MessengerAdminGroupUtils","MessengerApprovalRequester.react","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelSectionReact.bs","React"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryThreadActions").get(),j=b("MessengerInfoPanelSectionReact.bs").jsComponent,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={approvalQueue:b("immutable").Map()};return c}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.thread)};d.render=function(){return k.jsxs("div",{children:[this.$2(),this.$3()]})};d.UNSAFE_componentWillReceiveProps=function(a){this.$1(a.thread)};d.$1=function(a){var c=this;if(!a)return;b("MessengerApprovalQueueUtils").getApprovalQueueParticipants(a,function(a){return c.setState({approvalQueue:a})})};d.$2=function(){return!b("MessengerAdminGroupUtils").showGroupOptionsSection(this.props.thread)?null:k.jsx(j,{customColor:this.props.thread.solid_color,isCollapsible:!0,isCollapsed:this.props.isOptionsCollapsed,onToggle:this.props.onOptionsToggle,title:h._("Group Options"),children:k.jsx("div",{className:"_3iho",children:this.$4()})})};d.$4=function(){var a=this.props,c=a.viewer,d=a.thread;a=b("MessengerAdminGroupUtils").isApprovalOpenThread(d);if(!b("MessengerAdminGroupUtils").showJoinableApprovalToggle(d,c))return null;c=b("MessengerAdminGroupUtils").isAdminRequired(d);var e=c?h._("Require Admin Approval"):h._("New member approval");c=c?k.jsx("div",{className:"_3ihp"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _87b_":""),children:h._("Require an admin to approve all requests to join the group chat")}):k.jsx("div",{className:"_3ihp",children:h._("Approve who can join the group")});return k.jsxs("div",{className:"_3szo _2ya9",children:[k.jsxs("div",{className:"_3szq",children:[e,c]}),k.jsx(b("FBToggleSwitch.react"),{animate:!0,"aria-label":e,checked:!a,onToggle:function(a){return i.setApprovalMode(a?1:0,d)}})]})};d.$3=function(){var a=this.props,c=a.viewer,d=a.thread,e=d.thread_fbid;if(!e||!b("MessengerAdminGroupUtils").showApprovalQueue(d,c))return null;a=b("MessengerAdminGroupUtils").getPendingRequestNumber(d);c=b("MessengerAdminGroupUtils").isAdminRequired(d)?h._("Member Requests ({memberRequestCount})",[h._param("memberRequestCount",a)]):h._("Pending Requests ({pendingRequestCount})",[h._param("pendingRequestCount",a)]);return k.jsx(j,{customColor:this.props.thread.solid_color,isCollapsible:!0,isCollapsed:this.props.isApprovalsCollapsed,onToggle:this.props.onApprovalToggle,title:c,children:k.jsx("div",{className:"_3iho _3oh-",children:this.state.approvalQueue.map(function(a){var c=a.fbid;return c&&k.jsx(b("MessengerApprovalRequester.react"),{imageSRC:a.image_src,inviterFBID:a.inviter_id,requestSource:a.request_source,isAdminRequired:b("MessengerAdminGroupUtils").isAdminRequired(d),isMessengerUser:a.is_messenger_user,name:a.name,threadFBID:e,userFBID:c,onUpdated:null},a.id)}).toArray()})})};return c}(k.Component);e.exports=a},null);
__d("createContentStateForTextWithMessengerEmoji",["ContentState","DraftModifier","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],function(a,b,c,d,e,f){"use strict";function a(a){var c=b("ContentState").createFromText("");while(a){var d=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(a);if(d){var e=d.offset+d.length,f=a.substr(0,d.is_supported?d.offset:e);e=a.substr(e);c=b("DraftModifier").insertText(c,c.getSelectionAfter(),f);d.is_supported&&(c=b("insertMessengerEmojiIntoContentState")(d.emoji_key,c,c.getSelectionAfter(),c.getFirstBlock().getInlineStyleAt(0)));a=e}else break}a&&(c=b("DraftModifier").insertText(c,c.getSelectionAfter(),a));return c}e.exports=a},null);
__d("handlePastedTextForMessengerEmoji",["DraftModifier","EditorState"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c=c-a;a=e.getSelection();a.isCollapsed()||(c+=1+a.getEndOffset()-a.getStartOffset());if(c<=0)return e;d=d.slice(0,c);c=a.isCollapsed()?b("DraftModifier").insertText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle()):b("DraftModifier").replaceText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle());return b("EditorState").push(e,c,"insert-characters")}e.exports=a},null);
__d("MessengerTextWithEmojiInput.react",["cx","CompositeDraftDecorator","DraftEditor.react","EditorState","MessengerEmojiSpan.react","React","XUICloseButton.react","createContentStateForTextWithMessengerEmoji","getEntityMatcher","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handlePastedTextForMessengerEmoji","joinClasses","setImmediate"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a){if(a!==d.state.editorState){var b=!a.getCurrentContent().hasText();d.setState({editorState:a,isEmpty:b});d.props.onChange&&d.props.onChange(a)}},d.$3=function(a,c){if(d.props.maxLength!=null&&d.props.maxLength<=d.getValue().length&&c.getSelection().isCollapsed())return"handled";a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return"not-handled";d.setState({editorState:a});return"handled"},d.$4=function(a,c,e){c=d.props.maxLength;if(c!=null){c=b("handlePastedTextForMessengerEmoji")(d.getValue().length,c,a,e);d.setState({editorState:c});return"handled"}return"not-handled"},d.$5=function(a,b){if(d.props.onReturn){d.props.onReturn(a,b);return"handled"}return"not-handled"},d.$8=function(){var a=d.$1("");d.setState({editorState:a});d.props.onChange&&d.props.onChange(a)},d.state={editorState:d.$1(d.props.initialValue),isEmpty:d.props.initialValue==null||d.props.initialValue.length===0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){return b("EditorState").createWithContent(b("createContentStateForTextWithMessengerEmoji")(a||""),this.$2())};d.componentDidMount=function(){this.props.disableAutoFocus!==!0&&b("setImmediate")(this.focusInput.bind(this))};d.render=function(){var a;a=(a=this.props.placeholder)==null?void 0:a.toString();return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_30e7"),children:[h.jsx("div",{className:"_5j5f _3oh-",children:h.jsx(b("DraftEditor.react"),{editorState:this.state.editorState,handleBeforeInput:this.$3,handlePastedText:this.$4,handleReturn:this.$5,onChange:this.$6,placeholder:a,ref:"input",spellCheck:!1,stripPastedStyles:!0,textAlignment:"left"})}),this.props.showLengthIndicator===!0&&this.props.maxLength!=null?this.$7():null,h.jsx(b("XUICloseButton.react"),{size:"small",onClick:this.$8,className:(this.state.isEmpty?"hidden_elem":"")+" _5j5l"})]})};d.$7=function(){return this.getValue().length!==0?h.jsxs("div",{className:"_32y6",children:[this.getValue().length,"/",this.props.maxLength]}):h.jsx("div",{className:"_32y6"})};d.$2=function(){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"}),component:b("MessengerEmojiSpan.react")}])};d.getValue=function(){var a=this.state.editorState.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};d.focusInput=function(){this.refs.input.focus(),this.$6(b("EditorState").moveFocusToEnd(this.state.editorState))};return c}(h.PureComponent);e.exports=a},null);
__d("MessengerTextWithEmojiInputReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEmojiInput.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEmojiInput.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),onReturn:j.fromOption(c),maxLength:j.fromOption(d),onChange:j.fromOption(e),placeholder:j.fromOption(f),initialValue:j.fromOption(g),showLengthIndicator:j.fromOption(h)},i)}f.make=a},null);
__d("MessengerEditGroupThreadDescriptionDialogReact.bs",["cx","fbt","bs_curry","React","bs_string","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MercuryGenericConstants","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerTextWithEmojiInputReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerEditGroupThreadDescriptionDialogReact");function k(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function a(a,c,d,e){var f=function(a){if(a)return 0;else{d!==void 0&&b("bs_curry")._1(d,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)}},g=function(d,e){d=e[1][0][0];if(d!==void 0){e=b("bs_string").trim(b("bs_caml_option").valFromOption(d).getValue());d=e===a;d||c!==void 0&&b("bs_curry")._1(c,e)}return f(!1)};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(c){var d,e,j=(d=b("ReasonReact.bs")).element(void 0,b("bs_curry")._1(c[0],k),b("MessengerTextWithEmojiInputReact.bs").make("_1n7c",void 0,b("MercuryGenericConstants").MAX_GROUP_THREAD_DESCRIPTION_LENGTH,void 0,h._("What's this group about?"),a,!0,[]));return d.element(void 0,void 0,(e=b("MessengerDialogReact.bs")).Dialog.make("_1cyb",void 0,f,void 0,void 0,void 0,void 0,500,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Edit Group Description")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_3yb4",children:[i.createElement("div",{className:"_1cyc"},h._("Anyone with the group link will be able to see this description.")),j]}),d.element(void 0,void 0,e.Footer.make(void 0,void 0,[d.element(void 0,void 0,e.CancelButton.make(void 0,[])),d.element(void 0,void 0,e.Button.make(void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(c[0],g),0,void 0,void 0,void 0,[]))]))]))},function(a){return[[void 0]]},j[10],function(a,b){return 0},j[12]]}f.component=j;f.setDescriptionInputRef=k;f.make=a},null);
__d("MessengerInfoPanelGroupThreadDescriptionSectionReact.bs",["cx","fbt","Keys","bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","LitestandEllipsis","MessengerTextWithEmoticons.react","MessengerEditGroupThreadDescriptionDialogReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerInfoPanelGroupThreadDescriptionSectionReact");function k(a,c){a=c[1][0][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus();else return 0}function l(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function m(a,c){c[1][1][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function a(a,c,d,e){e=d.description;var f=e==null?"":e,g=function(a){return b("MessengerDialogs.bs").showDialog(function(d){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerEditGroupThreadDescriptionDialogReact.bs").make(f,c,b("bs_curry")._1(a,k),[]))})},n=function(a,b){a.preventDefault();return g(b[0])},o=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return g(c[0])}else return 0};e=d.description;e=e==null?[h._("What's this group about?"),!0]:[i.jsx(b("MessengerTextWithEmoticons.react"),{text:e}),!1];var p=e[1],q=e[0];return[j[0],j[1],j[2],j[3],j[4],function(a){a=a[1][1][1][0];if(a!==void 0){b("LitestandEllipsis").add(b("bs_caml_option").valFromOption(a),65,null);return 0}else return 0},j[6],function(a){var b=a[1],c=b[2];b=b[1];a=a[0];var d=a[2];a=a[1];if(a[0]!==b[0]||a[1]!==b[1]||d[0]!==c[0])return!0;else return d[1]!==c[1]},function(c){return i.jsx("div",{children:i.jsx("div",{children:i.jsx("div",{children:q,ref:b("bs_curry")._1(c[0],m),className:"_69e1 _69e2"+(p?" _69e3":"")}),ref:b("bs_curry")._1(c[0],l),className:"_69e0"+(a?"":" disabled"),role:"button",tabIndex:0,onKeyDown:b("bs_curry")._1(c[0],o),onClick:b("bs_curry")._1(c[0],n)}),className:"_69d_"})},function(a){return[[void 0],[void 0]]},[a,d],function(a,b){return 0},j[12]]}f.component=j;f.handleDialogClose=k;f.setDescriptionRef=l;f.setDescriptionTextRef=m;f.make=a},null);
__d("MessengerInfoPanelGroupThreadDescriptionContainerReact.bs",["cx","fbt","React","bs_caml_option","ReasonReact.bs","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelSectionReact.bs","MessagingThreadCustomizationSource","MessengerInfoPanelGroupThreadDescriptionSectionReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelGroupThreadDescriptionContainerReact");function a(a){var c=a.isCollapsed,d=a.onToggle,e=a.thread,f=a.viewer;if(!e.is_subscribed||b("MessageRequestUtils").isMessageRequest(e))return null;else{a=b("MessengerAdminGroupUtils").canUpdateThreadDescription(e,f);var g=function(a){if(b("MercuryThreadInfo").isEmptyLocalThread(e))return 0;else{b("MercuryThreadActions").getForFBID(f).changeGroupThreadDescription(e.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return 0}};a=i.createElement("div",{className:"_4izw"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelGroupThreadDescriptionSectionReact.bs").make(a,g,e,[])));g={isCollapsible:!0,isCollapsed:c,onToggle:d,title:h._("Group Description"),children:a};c=b("bs_caml_option").nullable_to_opt(e.solid_color);c!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,g)}}d=a;e=a;f.component=c;f.make=d;f.jsComponent=e},null);
__d("WorkMultiCompanyChatBetaNotice.bs",["cx","fbt","React","gkx","CurrentUser"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=a.isMultiCompany;var c=b("gkx")("678587"),d=b("CurrentUser").isWorkUser();if(c&&d&&a)return i.jsx("div",{children:h._("You have early access to multi-company chat"),className:"_3eus"});else return null}c=a;f.make=c},null);
__d("MessengerInfoPanelContactNameSectionM4React.bs",["cx","React","bs_caml_option","ReasonReact.bs","MessengerProfileLink.bs","WorkForeignEntityInfo.bs","MessengerLocalTimeReact.bs","MessengerPresenceStatusReact.bs","MessengerProfileLinkLocation","WorkMultiCompanyChatBetaNotice.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_3eur _6ybk",j="_3eus _6_mz";function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.platform;a=a.renderedImage;var g=c.title;d={isUserActive:d};e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));f!==void 0&&(d.platform=b("bs_caml_option").valFromOption(f));e={className:"_5uh"};f=b("bs_caml_option").nullable_to_opt(c.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return h.createElement(h.Fragment,void 0,a,h.createElement("div",{className:"_2jnt _6_m-"},h.createElement("div",{className:i},h.createElement("span",{className:"_3oh-"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileLink.bs").make(b("bs_caml_option").nullable_to_opt(c.href),"_blank",b("MessengerProfileLinkLocation").INFOPANEL,c.name,c.fbid,c.verification_status==="BLUE_VERIFIED",[])))),g==null?null:h.createElement("span",{className:j},g),h.createElement("div",{className:j},h.createElement(b("MessengerPresenceStatusReact.bs").make,d)),h.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:!b("WorkForeignEntityInfo.bs").isCoworker(c)}),h.createElement("div",void 0,h.createElement(b("MessengerLocalTimeReact.bs").make,e))))}c=a;f.nameClasses=i;f.subtextClasses=j;f.make=c},null);
__d("MessengerGroupThreadTitleWithEmojiInputReact.bs",["cx","fbt","bs_curry","React","EditorState","getEntityMatcher","DraftEditor.react","MessengerButtonReact.bs","CompositeDraftDecorator","MercuryGenericConstants","MessengerEmojiSpan.react","createContentStateForTextWithMessengerEmoji"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH,k=h._("Name This Conversation");function l(a){return b("EditorState").createWithContent(b("createContentStateForTextWithMessengerEmoji")(a),new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"}),component:b("MessengerEmojiSpan.react")}]))}function a(a){var c=a.onSubmit,d=a.initialValue;a=a.enabled;var e=i.useReducer(function(a,b){if(b){b=b[0];if(b===a[0])return a;else return[b]}else return[l(d)]},[l(d)]),f=e[1],g=e[0];e=function(a,d){b("bs_curry")._1(c,d.getCurrentContent().getPlainText());return"handled"};var m=function(a){return b("bs_curry")._1(c,g[0].getCurrentContent().getPlainText())},n=g[0].getCurrentContent().getPlainText(),o=n.length,p=o>j;n=d!==n;var q=a&&n,r=a&&n&&!p;return i.createElement(i.Fragment,void 0,i.jsx("div",{children:i.createElement(b("DraftEditor.react"),{editorState:g[0],handleReturn:e,onChange:function(a){return b("bs_curry")._1(f,[a])},placeholder:k,spellCheck:!1,stripPastedStyles:!0,textAlignment:"center",readOnly:!a}),className:"_3oh- _71bm"+(g[0].getSelection().getHasFocus()?" _71bn":"")+(a?" _71bo":"")+(a?"":" _71bp")+(n&&p?" _71bq":"")}),i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("MessengerButtonReact.bs").make,{ariaHidden:!q,role:"button",tabIndex:q?0:-1,onClick:function(a){return b("bs_curry")._1(f,0)},label:h._("Cancel"),type:0,use:1}),className:"_71b-"+(q?" _71b_":"")}),i.jsx("div",{className:"_71bz"}),i.jsxs("div",{children:[i.jsxs("div",{children:[""+(String(o)+""),"/",""+(String(j)+"")],className:"_71bv"+(a&&n&&p?" _71bw":"")}),i.jsx("div",{children:i.jsx(b("MessengerButtonReact.bs").make,{ariaHidden:!r,role:"button",tabIndex:r?0:-1,onClick:m,disabled:!r,label:h._("Save"),type:0}),className:"_71cr"+(r?" _71cs":"")})],className:"_71cq"})],className:"_71bs"+(a&&n?" _71bt":"")}))}c=a;f.maxLength=j;f.placeholder=k;f.createEditorState=l;f.make=c},null);
__d("MessengerThreadPhotoUploader.react",["cx","fbt","requireCond","FileInput","FileInputUploader","Link.react","MercuryConfig","MessengerDotComAndInboxM4Check.bs","cr:943115","React","ReactDOM","SubscriptionsHandler","createReactClass_DEPRECATED","prop-types"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadPhotoUploader",_fileInput:null,_subscriptions:null,_uploader:null,_uploadIsInProgress:!1,propTypes:{onComplete:(a=b("prop-types")).func.isRequired,onFail:a.func,onStart:a.func,uri:a.string},getDefaultProps:function(){return{uri:b("MercuryConfig").upload_url}},componentDidMount:function(){var a=b("ReactDOM").findDOMNode(this.refs.input),c=new(b("FileInput"))(b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.uploadButton),a);a=new(b("FileInputUploader"))(a).setURI(this.props.uri).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(a.subscribe("success",this._handleAllUploadsCompleted),a.subscribe("failure",this._handleLastUploadFailed));this._subscriptions=d;this._uploader=a;this._fileInput=c},componentWillUnmount:function(){this._uploadIsInProgress||this._doUnmountComponents()},render:function(){var a=h._("Click to change the image");return i.jsxs("form",{action:this.props.uri,method:"post",ref:"form",children:[i.jsx("input",{type:"hidden",name:"attach_id",ref:"attachID"}),i.jsx("input",{type:"hidden",name:"images_only",value:"true"}),i.jsxs("div",{className:"_m _4q60"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _2lyy")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _80cm":""),children:[b("MessengerDotComAndInboxM4Check.bs").yes?b("cr:943115")&&b("cr:943115").make({fill:"#000000",size:24}):null,i.jsx(b("Link.react"),{className:"_4q61 _2lyz",ref:"uploadButton",children:i.jsx("span",{"aria-hidden":"true",children:h._("Edit")})}),i.jsx("input",{"aria-label":h._("Change group photo"),type:"file",className:"_n",name:"attachment[]",accept:".jpg,.png,.jpeg,.bmp,.tif,.tiff",ref:"input",onChange:this._handleFileInputChange,title:a})]})]})},_handleAllUploadsCompleted:function(a,b){this._uploadIsInProgress=!1,this.props.onComplete&&this.props.onComplete(b.response.payload),this.isMounted()||this._doUnmountComponents()},_handleLastUploadFailed:function(a,b){this._uploadIsInProgress=!1,this.props.onFail&&this.props.onFail(b),this.isMounted()||this._doUnmountComponents()},_handleFileInputChange:function(a){a.target.value&&this._uploader&&(this._uploader.send(),this._uploadIsInProgress=!0,this.props.onStart&&this.props.onStart())},_doUnmountComponents:function(){this._subscriptions&&this._subscriptions.release(),this._fileInput&&this._fileInput.destroy(),delete this._subscriptions,delete this._uploader}});e.exports=c},null);
__d("MessengerThreadPhotoUploaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerThreadPhotoUploader.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadPhotoUploader.react"),{onComplete:a,onFail:b("bs_js_null_undefined").fromOption(c),onStart:b("bs_js_null_undefined").fromOption(d),uri:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a},null);
__d("MessengerInfoPanelThreadNameSectionM4React.bs",["cx","bs_block","bs_curry","React","bs_caml_obj","bs_caml_option","ReasonReact.bs","MessengerSpinnerReact.bs","MessengerThreadPhotoUploaderReact.bs","MessengerGroupThreadTitleWithEmojiInputReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelThreadNameSectionM4React");function a(a,c,d,e,f,g){var j=function(a,c){var e=c[1][1];e!==void 0&&b("bs_curry")._1(d,[b("bs_caml_option").valFromOption(e),a]);return b("bs_curry")._1(c[3],0)};return[i[0],i[1],i[2],function(a){var c=a[1];if(c!==void 0&&b("bs_caml_obj").caml_notequal(b("bs_caml_option").valFromOption(c),f.thread_id))return[!1,b("bs_caml_option").some(f.thread_id)];else return a},i[4],i[5],i[6],i[7],function(d){var g=d[3],i=d[1],k=a&&!i[0],l=i[0];return h.createElement(h.Fragment,void 0,h.createElement("div",{className:"_7101"+(i[0]?" _7102":"")},e,k?h.createElement("div",{className:"_80co"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadPhotoUploaderReact.bs").make(b("bs_curry")._1(d[0],j),function(a){return b("bs_curry")._1(g,1)},function(a){return b("bs_curry")._1(g,[f.thread_id])},void 0,[]))):null,l?h.createElement("div",{className:"_7103"},h.createElement(b("MessengerSpinnerReact.bs").make,{})):null),h.createElement(b("MessengerGroupThreadTitleWithEmojiInputReact.bs").make,{onSubmit:c,initialValue:f.name,enabled:a}))},function(a){return[!1,void 0]},i[10],function(a){if(typeof a==="number")return function(a){return b("bs_block").__(0,[[!1,void 0]])};else{var c=a[0];return function(a){return b("bs_block").__(0,[[!0,b("bs_caml_option").some(c)]])}}},i[12]]}f.component=i;f.make=a},null);
__d("MessengerInfoPanelNameSectionM4React.bs",["cx","bs_curry","React","gkx","bs_caml_option","ReasonReact.bs","MercuryConfig","MessengerAdminGroupUtils","MessengerThreadImageM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelThreadNameSectionM4React.bs","MessengerInfoPanelContactNameSectionM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.onThreadNameChange,g=a.onThreadPhotoChange,i=a.platform,j=a.thread;a=a.viewer;e=e==null?void 0:b("bs_caml_option").some(e);var k=j.has_montage&&b("MercuryConfig").MontageThreadViewer&&b("gkx")("686397")&&b("gkx")("972782")&&b("gkx")("995308");if(c!==void 0){c={contact:b("bs_caml_option").valFromOption(c),isUserActive:d,renderedImage:h.createElement(b("MessengerThreadImageM4React.bs").make,{expanded:!0,size:100,storiesRingEligible:k,thread:j,viewer:a})};e!==void 0&&(c.lastActive=b("bs_caml_option").valFromOption(e));i!==void 0&&(c.platform=b("bs_caml_option").valFromOption(i));d=h.createElement(b("MessengerInfoPanelContactNameSectionM4React.bs").make,c)}else{k=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(j,a);e=function(a){return b("bs_curry")._2(g,a[0],a[1])};d=b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelThreadNameSectionM4React.bs").make(k,function(a){if(a!==j.name)return b("bs_curry")._1(f,a);else return 0},e,h.createElement(b("MessengerThreadImageM4React.bs").make,{expanded:!0,size:100,thread:j,viewer:a}),j,[]))}return h.createElement("div",{className:"_1jt6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _710_":"")},d)}c=a;f.make=c},null);
__d("MessengerInfoPanelNameSectionM4React.re",["MessengerInfoPanelNameSectionM4React.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerInfoPanelNameSectionM4React.bs").make;f.make=a},null);
__d("MessengerInfoPanelContactNameSectionReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","MessengerProfileLink.bs","WorkForeignEntityInfo.bs","MessengerLocalTimeReact.bs","MessengerPresenceStatusReact.bs","MessengerProfileLinkLocation","WorkMultiCompanyChatBetaNotice.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_3eur",j="_3eus";function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.platform;a=a.renderedImage;var g=c.title;d={isUserActive:d};e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));f!==void 0&&(d.platform=b("bs_caml_option").valFromOption(f));e={className:"_5uh"};f=b("bs_caml_option").nullable_to_opt(c.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return h.createElement("div",{className:"_2jnq"},a,h.createElement("div",{className:"_2jnt"},h.createElement("div",{className:i},h.createElement("span",{className:"_3oh-"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileLink.bs").make(b("bs_caml_option").nullable_to_opt(c.href),"_blank",b("MessengerProfileLinkLocation").INFOPANEL,c.name,c.fbid,!1,[])))),g==null?null:h.createElement("span",{className:j},g),h.createElement("div",{className:j},h.createElement(b("MessengerPresenceStatusReact.bs").make,d)),h.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:!b("WorkForeignEntityInfo.bs").isCoworker(c)}),h.createElement("div",void 0,h.createElement(b("MessengerLocalTimeReact.bs").make,e))))}c=a;f.nameClasses=i;f.subtextClasses=j;f.make=c},null);
__d("MessengerInfoPanelThreadNameSectionReact.bs",["cx","fbt","Keys","bs_curry","React","bs_string","bs_caml_obj","setTimeout","bs_belt_Option","bs_caml_option","ReasonReact.bs","clearTimeout","setImmediate","MessengerButtonReact.bs","MessengerSpinnerReact.bs","MercuryGenericConstants","MercuryThreadTitleReact.bs","WorkMultiCompanyChatBetaNotice.bs","MessengerTextWithEmojiInputReact.bs","MessengerThreadPhotoUploaderReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){c=a.current;if(c!==void 0)return b("bs_caml_option").valFromOption(c).focusInput();else return 0}var k=i.createElement("div",{className:"_2jnw"},i.createElement(b("MessengerSpinnerReact.bs").make,{}));function l(a,c){c=a.current;if(c!==void 0)return b("bs_caml_option").valFromOption(c).focus();else return 0}function m(a,c,d,e){e.stopPropagation();e=a.current;e!==void 0&&b("bs_curry")._1(d,b("bs_string").trim(b("bs_caml_option").valFromOption(e).getValue()));return b("setImmediate")(function(a){return l(c,a)})}function n(a,c,d){var e=d.relatedTarget;if(!(e==null)&&d.currentTarget.contains(e)){d.stopPropagation();return 0}if(c>=2)return b("bs_curry")._1(a,0);else return b("bs_curry")._1(a,1)}function o(a,c,d,e,f,g){return i.createElement("div",{className:"_2jnx",onBlur:function(a){return n(c,d,a)}},i.createElement("div",{className:"_2jny"},b("ReasonReact.bs").element(void 0,function(c){a.current=c==null?void 0:b("bs_caml_option").some(c);return 0},b("MessengerTextWithEmojiInputReact.bs").make("_2jnz",function(b){return m(a,e,f,b)},b("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH,void 0,h._("Name This Conversation"),g.name,void 0,[]))),i.createElement("div",{className:"_2jn-"},i.createElement(b("MessengerButtonReact.bs").make,{role:"button",onClick:function(b){return m(a,e,f,b)},label:h._("Done"),type:0})))}function p(a,c,d,e){e.stopPropagation();if(a&&c===1)return b("bs_curry")._1(d,0);else return 0}function q(a,c,d,e){var f=e.charCode;if(a!==1||!(f===b("Keys").RETURN||f===b("Keys").SPACE))return 0;else{e.preventDefault();e.stopPropagation();if(c)return b("bs_curry")._1(d,0);else return 0}}function a(a,c){var d=a.actionsEnabled,e=a.onThreadNameChange,f=a.onThreadPhotoChange,g=a.renderedImage,h=a.thread,l=a.toggleIsEditingName,m=a.isEditingName,n=a.viewer;a=a.isMultiCompany;c=c;var r=i.useReducer(function(a,c){if(typeof c==="number")return[!1,void 0];else return[!0,b("bs_caml_option").some(c[0])]},[!1,void 0]),s=r[1],t=r[0],u=i.useMemo(function(){var a=t[1];if(a!==void 0&&b("bs_caml_obj").caml_notequal(b("bs_caml_option").valFromOption(a),h.thread_id))return[!1,b("bs_caml_option").some(h.thread_id)];else return t},[h,t]),v=i.useRef(void 0),w=i.useRef(void 0);i.useEffect(function(){if(m!==1){var a=b("setTimeout")(function(a){return j(w,a)},1);return function(c){b("clearTimeout")(a);return 0}}},[m]);r=m!==1;var x={className:"_2jnq"};c=b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a});c!==void 0&&(x.ref=b("bs_caml_option").valFromOption(c));c=u[0];return i.createElement("div",x,i.createElement("div",{className:"_2jnr"+(u[0]?" _2jns":"")},g,c?k:null,d?b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadPhotoUploaderReact.bs").make(function(c){var a=u[1];a!==void 0&&b("bs_curry")._1(f,[b("bs_caml_option").valFromOption(a),c]);return b("bs_curry")._1(s,0)},function(a){return b("bs_curry")._1(s,1)},function(a){return b("bs_curry")._1(s,[h.thread_id])},void 0,[])):null),i.createElement("div",{ref:function(a){v.current=a==null?void 0:b("bs_caml_option").some(a);return 0},className:"_2jnt"+(r?"":" _1sw_")+(d?"":" disabled"),role:r?"":"button",tabIndex:0,onKeyPress:function(a){return q(m,d,l,a)},onClick:function(a){return p(d,m,l,a)}},i.createElement("div",{className:"_2jnu"},r?o(w,l,m,v,e,h):b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTitleReact.bs").make("_2jnv",void 0,h,n,void 0,!1,!1,void 0,[])),i.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:a}))))}c=i.forwardRef(a);f.focusThreadNameInput=j;f.spinner=k;f.focusEditThreadNameButton=l;f.handleNameEdited=m;f.handleEditAbandoned=n;f.renderNameInput=o;f.handleThreadTitleClick=p;f.handleThreadTitleKeyPress=q;f.make=c},null);
__d("MessengerInfoPanelNameSectionReact.bs",["cx","bs_block","bs_curry","React","gkx","bs_caml_obj","bs_caml_option","ReasonReact.bs","MercuryThreadInfo","WorkForeignEntityInfo.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerProfilePresenceReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerThreadlistRowActionsReact.bs","MessengerInfoPanelThreadNameSectionReact.bs","MessengerInfoPanelContactNameSectionReact.bs","MessengerInfoPanelThreadNameSectionM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelNameSectionReact");function j(a,b){b[1][2][0]=!(a==null);return 0}function k(a,c,d,e,f,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){var E=function(c){var e=c[3],i=B.is_subscribed&&!B.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(B,C);return h.createElement("div",{className:"_3-ne"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistRowActionsReact.bs").make(void 0,a,b("MessengerAdminGroupUtils").isGroupChat(B),b("MessengerAdminGroupUtils").isJoinableThread(B),b("MercuryThreadInfo").isMuted(B),c[1][0],B.unread_count>0,d,B.is_pinned,o,f,g,k,l,m,n,function(a){return b("bs_curry")._1(e,0)},function(a){return b("bs_curry")._1(e,b("bs_block").__(1,[a]))},r,v,s,t,u,z,w,void 0,i,A,0,B,[])))},F=function(a){return b("bs_curry")._2(q,a[0],a[1])};return[i[0],i[1],i[2],function(a){var c=b("bs_caml_obj").caml_equal(a[3],B.thread_id);if(c)return a;else return[a[0],1,a[2],B.thread_id]},i[4],i[5],i[6],i[7],function(d){var f=B.is_subscribed||B.is_canonical;if(a!==void 0){var g=b("MessengerDotComAndInboxM4Check.bs").yes&&b("gkx")("863504");g={contact:b("bs_caml_option").valFromOption(a),isUserActive:c,renderedImage:g?h.createElement(b("MessengerProfilePresenceReact.bs").make,{expanded:!0,size:50,thread:B,viewer:C}):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make(void 0,void 0,void 0,void 0,50,x,B,C,[]))};e!==void 0&&(g.lastActive=b("bs_caml_option").valFromOption(e));y!==void 0&&(g.platform=b("bs_caml_option").valFromOption(y));g=h.createElement(b("MessengerInfoPanelContactNameSectionReact.bs").make,g)}else{var i=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(B,C),k=b("gkx")("863504")?h.createElement(b("MessengerProfilePresenceReact.bs").make,{expanded:!0,size:50,thread:B,viewer:C}):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make(void 0,void 0,void 0,void 0,50,x,B,C,[]));g=b("MessengerDotComAndInboxM4Check.bs").yes?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(d[0],j),b("MessengerInfoPanelThreadNameSectionM4React.bs").make(i,function(a){a!==B.name&&b("bs_curry")._1(p,a);return b("bs_curry")._1(d[3],1)},F,k,B,[])):h.createElement(b("MessengerInfoPanelThreadNameSectionReact.bs").make,{actionsEnabled:i,onThreadNameChange:function(a){a!==B.name&&b("bs_curry")._1(p,a);return b("bs_curry")._1(d[3],1)},onThreadPhotoChange:F,renderedImage:b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make(void 0,void 0,void 0,void 0,50,x,B,C,[])),thread:B,toggleIsEditingName:function(a){return b("bs_curry")._1(d[3],b("bs_block").__(0,[a]))},isEditingName:d[1][1],viewer:C,isMultiCompany:!b("WorkForeignEntityInfo.bs").areAllCoworkers(x),ref:b("bs_curry")._1(d[0],j)})}return h.createElement("div",{className:"_1jt6"},g,f?E(d):null)},function(a){return[!1,1,[!1],B.thread_id]},i[10],function(a,c){if(typeof a==="number")if(a===0){var d=c[2][0];if(d)return b("bs_block").__(0,[[c[0],0,c[2],c[3]]]);else return 0}else return b("bs_block").__(0,[[c[0],1,c[2],c[3]]]);else if(a.tag)return b("bs_block").__(0,[[a[0],c[1],c[2],c[3]]]);else return b("bs_block").__(0,[[c[0],a[0],c[2],c[3]]])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c;return k((c=b("bs_caml_option")).nullable_to_opt(a.contact),a.isUserActive,a.isBlocked,c.nullable_to_opt(a.lastActive),a.onDelete,c.nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,a.onArchive,a.onThreadNameChange,a.onThreadPhotoChange,a.onUnmute,a.onIgnore,a.onBlock,a.onUnblock,a.onUnpin,a.showBlock,a.participants,c.nullable_to_opt(a.platform),a.showLeaveGroup,a.showReport,a.thread,a.viewer,[])});c=50;f.component=i;f.imageSize=c;f.setThreadSectionRef=j;f.make=k;f.jsComponent=a},null);
__d("MessengerMakeAsOwnerDialogReact.bs",["bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerMakeAsOwnerDialogReact");function h(a){var c,d=a.onMakeOwner,e=a.onToggle,f=a.name,h=a.isUserViewer;a=a.isAdminRequired;var i=function(a){b("bs_curry")._1(e,!1);if(d!==void 0)return b("bs_curry")._1(d,a);else return 0},j=b("MessengerAdminGroupUtils").getMakeOwnerTitleText(a,h);f=b("MessengerAdminGroupUtils").getMakeOwnerBodyText(a,h,f);a=b("MessengerAdminGroupUtils").getMakeOwnerButtonText(a,h);return(h=b("ReasonReact.bs")).element(void 0,void 0,(c=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:f}),h.element(void 0,void 0,c.Footer.make(void 0,void 0,[h.element(void 0,void 0,c.CancelButton.make(void 0,[])),h.element(void 0,void 0,c.Button.make(void 0,a,void 0,"danger",i,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,name:a.name,isUserViewer:a.isUserViewer,isAdminRequired:a.isAdminRequired};a=b("bs_caml_option").nullable_to_opt(a.onMakeOwner);a!==void 0&&(c.onMakeOwner=b("bs_caml_option").valFromOption(a));return h(c)}d=h;f.component=c;f.make=d;f.jsComponent=a},null);
__d("MessengerRemoveAsOwnerDialogReact.bs",["bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerRemoveAsOwnerDialogReact");function h(a){var c=a.onRemove,d=a.onToggle,e=a.name,f=a.isUserViewer,h=a.isLastAdminInThread;a=a.isAdminRequired;var i=function(a){b("bs_curry")._1(d,!1);if(c!==void 0)return b("bs_curry")._1(c,a);else return 0},j=b("MessengerAdminGroupUtils").getRemoveOwnerTitleText(a);f=b("MessengerAdminGroupUtils").getRemoveOwnerBodyText(a,f,h,e);h=b("MessengerAdminGroupUtils").getRemoveOwnerButtonText(a);return(e=b("ReasonReact.bs")).element(void 0,void 0,(a=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:f}),e.element(void 0,void 0,a.Footer.make(void 0,void 0,[e.element(void 0,void 0,a.CancelButton.make(void 0,[])),e.element(void 0,void 0,a.Button.make(void 0,h,void 0,"danger",i,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,name:a.name,isUserViewer:a.isUserViewer,isLastAdminInThread:a.isLastAdminInThread,isAdminRequired:a.isAdminRequired};a=b("bs_caml_option").nullable_to_opt(a.onRemove);a!==void 0&&(c.onRemove=b("bs_caml_option").valFromOption(a));return h(c)}d=h;f.component=c;f.make=d;f.jsComponent=a},null);
__d("MessengerRemoveFromGroupDialogReact.bs",["fbt","bs_curry","React","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerRemoveFromGroupDialogReact");function i(a){var c=a.onRemove,d=a.onToggle,e=a.isWorkSyncedChat;a=a.isUserBot;var f=function(a){b("bs_curry")._1(d,!1);if(c!==void 0)return b("bs_curry")._1(c,a);else return 0};a=a&&b("CurrentUser").isWorkUser();a=a?g._("Are you sure you want to remove this bot from the conversation?"):e?g._("Are you sure you want to remove this person from the group? They will no longer be able to send or receive new messages. They will also be removed from the group."):g._("Are you sure you want to remove this person from the conversation? They will no longer be able to send or receive new messages.");e=e?g._("Remove from Group and Chat"):g._("Remove from Group");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:e}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:a}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Remove"),void 0,"danger",f,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,isWorkSyncedChat:a.isWorkSyncedChat,isUserBot:a.isUserBot};a=b("bs_caml_option").nullable_to_opt(a.onRemove);a!==void 0&&(c.onRemove=b("bs_caml_option").valFromOption(a));return i(c)}d=i;f.component=c;f.make=d;f.jsComponent=a},null);
__d("MessengerInfoPanelContactActions.react",["cx","fbt","ImmutableObject","MercuryIDs","MessengerAdminGroupUtils","MessengerContactActions.bs","MessengerDialogs.bs","MessengerMakeAsOwnerDialogReact.bs","MessengerMenu.react","MessengerParticipants.bs","MessengerPopoverMenu.react","MessengerRemoveAsOwnerDialogReact.bs","MessengerRemoveFromGroupDialogReact.bs","MessengerState.bs","MessengerURIStore","React","ReactComponentWithPureRenderMixin","ShimButton.react","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","gkx","joinClasses","prop-types"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerContactActions.bs").actions,j=b("MessengerMakeAsOwnerDialogReact.bs").jsComponent,k=b("MessengerRemoveAsOwnerDialogReact.bs").jsComponent,l=b("MessengerRemoveFromGroupDialogReact.bs").jsComponent,m=b("React"),n=b("MessengerMenu.react").Item,o=b("MessengerMenu.react").Separator;c=b("createReactClass_DEPRECATED")({displayName:"MessengerInfoPanelContactActions",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerURIStore"))],propTypes:{admins:(a=b("prop-types")).object,extrasEnabled:a.bool.isRequired,contact:a.instanceOf(b("ImmutableObject")).isRequired,isAdminRequired:a.bool.isRequired,isOpen:a.bool,onAction:a.func.isRequired,onToggle:a.func.isRequired,viewer:a.string.isRequired},statics:{calculateState:function(a){var c=b("MessengerURIStore").getState().activeThreadID;a=c?b("MessengerState.bs").getThreadMetaNow(a.viewer,c):null;return{thread:a}}},render:function(){var a=this,c=this._isViewerAdmin(),d=b("MessengerAdminGroupUtils").isAdmin(this.props.admins,this.props.contact.uid),e=this._isUserViewer(),f=b("MessengerAdminGroupUtils").canRemoveAdmin(c,d,this._getUserAdminType(),this.state.thread)?m.jsx(n,{label:h._("Remove As Admin"),onclick:this._handleRemoveAsOwnerClick}):null,g=null;c=b("MessengerAdminGroupUtils").canMakeOthersAdmins(c,d,this.state.thread);d=b("MessengerAdminGroupUtils").canMakeSelfAdmin(e,this.state.thread);(c||d)&&(g=m.jsx(n,{label:h._("Make Admin"),onclick:this._hanleMakeOwnerClick}));if(e)if(g||f)c=m.jsxs(b("MessengerMenu.react"),{children:[g,f]});else return null;else c=m.jsxs(b("MessengerMenu.react"),{children:[m.jsx(n,{label:h._("Message"),onclick:this._makeActionHandler(i.MESSAGE)}),this.props.contact.href?m.jsx(n,{label:h._("View Profile"),onclick:this._makeActionHandler(i.PROFILE)}):null,m.jsx(n,{label:h._("Report User"),onclick:this._makeActionHandler(i.REPORT_GROUP_CHAT_USER)}),g,f,this._renderExtras()]});return m.jsx(b("MessengerPopoverMenu.react"),{menu:c,onHide:function(){return a.props.onToggle(!1)},onShow:function(){return a.props.onToggle(!0)},children:m.jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_57gs"+(this.props.isOpen?" _57gt":"")),onClick:this._handleClick})})},_renderExtras:function(){if(!this.props.extrasEnabled)return null;var a=[m.jsx(o,{},"separator")],c=this._isViewerAdmin();b("MessengerAdminGroupUtils").canRemoveFromGroup(c,this._getUserAdminType(),this.state.thread)&&a.push(m.jsx(n,{label:h._("Remove from Group"),onclick:this._handleRemoveClick},"remove-from-group"));return a.length>=2?a:null},_handleClick:function(a){a.stopPropagation(),a.preventDefault()},_makeActionHandler:function(a){var b=this;return function(c){b._handleClick(c),b.props.onAction(a,c)}},_handleRemoveClick:function(a){var c=this;this._handleClick(a);b("MessengerDialogs.bs").showDialog(function(){return m.jsx(l,{onToggle:c._handleDialogToggle,onRemove:c._handleDialogRemoveClick,isWorkSyncedChat:b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(c.state.thread),isUserBot:c._isUserBot()})})},_handleRemoveAsOwnerClick:function(a){var c=this;this._handleClick(a);var d=b("MessengerParticipants.bs").getNow(this.props.contact.uid);b("MessengerDialogs.bs").showDialog(function(){return m.jsx(k,{isAdminRequired:c.props.isAdminRequired,isLastAdminInThread:c.props.admins&&Object.keys(c.props.admins).length===1,isUserViewer:c._isUserViewer(),name:d&&d.name,onToggle:c._handleDialogToggle,onRemove:c._handleOwnerRemoveClick})})},_handleDialogRemoveClick:function(a){this.props.onAction(i.REMOVE,a)},_handleOwnerRemoveClick:function(a){this.props.onAction(i.REMOVE_OWNER,a)},_hanleMakeOwnerClick:function(a){var c=this;this._handleClick(a);var d=b("MessengerParticipants.bs").getNow(this.props.contact.uid);b("MessengerDialogs.bs").showDialog(function(){return m.jsx(j,{onToggle:c._handleDialogToggle,onMakeOwner:c._handleOwnerAddClick,name:d&&d.name,isAdminRequired:c.props.isAdminRequired,isUserViewer:c._isUserViewer()})})},_handleOwnerAddClick:function(a){this.props.onAction(i.ADD_OWNER,a)},_handleDialogToggle:function(a){a||b("MessengerDialogs.bs").removeDialog()},_isUserViewer:function(){return b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)===this.props.contact.uid},_isUserBot:function(){return this.props.contact.workForeignEntityInfo===null},_isViewerAdmin:function(){return b("MessengerAdminGroupUtils").isAdmin(this.props.admins,this.props.viewer)},_getUserAdminType:function(){var a=b("MercuryIDs").isValid(this.props.contact.uid)&&b("MercuryIDs").getUserIDFromParticipantID(this.props.contact.uid);return this.props.admins&&a?this.props.admins[a]:null}});e.exports=c},null);
__d("MessengerInfoPanelPeopleSectionReact.bs",["ix","cx","fbt","cssVar","React","gkx","bs_caml_obj","asset","immutable","Link.react","MercuryIDs","bs_caml_option","CurrentUser","Image.react","MessagingTag","bs_js_null_undefined","MessageRequestUtils","MessengerAddIconSVGReact.bs","MessengerAdminGroupUtils","MessengerSortParticipants","MessengerContactListReact.re","MessengerInfoPanelSectionReact.bs","MessengerInfoPanelContactActions.react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");function a(a){var c=a.admins,d=a.canViewerReply,e=a.contactAdapter,f=a.isCollapsed,h=a.isViewerSubscribed,j=a.onAddPeopleClick,l=a.onContactAction,m=a.onContactSelect,n=a.onToggle,o=a.participants,p=a.thread;a=a.viewer;var q=function(a){if(!d||b("MessageRequestUtils").isMessageRequest(p)||b("bs_caml_obj").caml_equal(p.group_thread_subtype,13))return null;else{a=b("MessengerAdminGroupUtils").shouldInvite(p);a=a?i._("Invite"):i._("Add People");var c=p.solid_color;if(c==null){var e=b("CurrentUser").isWorkUser();e=e?"#373e4c":"#0084ff"}else e=c;c=b("CurrentUser").isWorkUser();c=c?k.jsx("div",{children:k.jsx(b("Image.react"),{src:g("461758")}),className:"_3-8n _3-8u"}):k.jsx(b("MessengerAddIconSVGReact.bs").make,{label:i._("add to group"),className:"_4rpi",customColor:e});return k.jsxs(b("Link.react"),{className:"_4rph",onClick:j,children:[c,k.jsx("div",{children:a,className:"_4rpj"})]})}};o=p.folder===b("MessagingTag").PENDING&&b("gkx")("890873")?o["delete"](b("MercuryIDs").getParticipantIDFromUserID(a)):o;e={actionsClass:b("MessengerInfoPanelContactActions.react"),className:"_4wc-",contactAdapter:e,disableRole:!0,extraActionsEnabled:h,listSections:b("immutable").OrderedMap([[[null],b("MessengerSortParticipants").sortAlphabeticalWithAdmins(c==null?b("bs_js_null_undefined").fromOption([]):b("bs_js_null_undefined").fromOption(Object.keys(c)),o)]]),onAction:l,onSelect:m,viewer:a,thread:p};h=c==null?void 0:b("bs_caml_option").some(c);h!==void 0&&(e.admins=b("bs_caml_option").valFromOption(h));o={isCollapsible:!0,isCollapsed:f,onToggle:n,title:i._("People"),children:[q(0),k.jsx(b("MessengerContactListReact.re").make,e)]};l=b("bs_caml_option").nullable_to_opt(p.solid_color);l!==void 0&&(o.customColor=b("bs_caml_option").valFromOption(l));return k.createElement(b("MessengerInfoPanelSectionReact.bs").make,o)}c=a;f.make=c},null);
__d("MessengerInfoPanelPeopleSectionReact.re",["MessengerInfoPanelPeopleSectionReact.bs"],function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerInfoPanelPeopleSectionReact.bs").make;f.make=a},null);
__d("MessengerBlockIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-19",d:"M26,16 L10,16 C9.448,16 9,16.448 9,17 L9,19 C9,19.552 9.448,20 10,20 L26,20 C26.552,20 27,19.552 27,19 L27,17 C27,16.448 26.552,16 26,16 M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30",fill:"#000000"})],id:"minus-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerInfoPanelBlockReact.bs",["cx","fbt","Keys","bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerBlockDialogReact.bs","MessengerBlockIconSVGM4React.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.contact,d=a.isBlocked,e=a.onBlock,f=a.onUnblock,g=a.showBlock,j=a.thread,k=function(a){if(d)return b("bs_curry")._1(f,0);else{var g=c!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c)):void 0;return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(e,g,j.thread_fbid,[]))})}};if(g){a=d?h._("Unblock Messages"):h._("Block Messages");return i.createElement("div",{className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){a=a;if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return k(0)}else return 0},onClick:function(a){a=a;a.preventDefault();a.stopPropagation();return k(0)}},i.createElement("div",{className:"_3szp"},i.createElement("div",{className:"_7hu1"},b("MessengerBlockIconSVGM4React.bs").icon)),i.createElement("div",{className:"_3szq"},a))}else return null}c=a;f.make=c},null);
__d("MessengerMessageCrossIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("g",{children:a.jsx("path",{id:"Fill-1",d:"M6.01700638,17.4668416 L6.01700638,17.4658421 L6.01700638,17.4648425 C6.01750656,10.8121778 11.0393898,6.0192206 18.0085032,6.0192206 C19.7721646,6.0192206 21.4057772,6.33208726 22.8678254,6.90084485 C23.5320745,7.15873494 23.7126422,8.01536984 23.2089534,8.51965492 L8.43691384,23.2983562 C8.09728648,23.6382114 7.52607228,23.5527478 7.303989,23.1264295 C6.7647868,22.0923702 6.01700638,20.4455721 6.01700638,17.4668416 M29.669376,7.74698423 L27.914718,9.50223614 C27.6101038,9.8071062 27.5725897,10.2879013 27.8286858,10.6342537 C29.2097036,12.5004583 30,14.8349633 30,17.4648425 L30,17.4658421 L30,17.4668416 C29.9994998,24.1195063 24.9781168,28.9904303 18.0085032,28.9904303 C16.8470677,28.9904303 15.7411529,28.8869744 14.7027635,28.6335824 C13.83994,28.423172 12.9391022,28.4446629 12.0977867,28.7315406 L8.73902714,29.7626012 C8.33687633,29.8995428 7.80567713,30 7.26647493,30 C6.55470802,30 6,29.6171632 6,29.023916 C6,28.7640268 6.09453545,28.5026382 6.29310992,28.3042227 L28.2943604,6.29310387 C28.7235213,5.86328706 29.4472927,5.90626874 29.8174315,6.42154913 C30.1085407,6.82637659 30.0215081,7.3946344 29.669376,7.74698423"}),id:"Page-1",fill:"#000000"}),id:"message-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerInfoPanelIgnoreMessagesReact.bs",["cx","fbt","Keys","React","MercuryIDs","bs_caml_option","MessengerDialogs.bs","MessengerIgnoreDialogReact.bs","MessengerThreadlistRowActionsReact.bs","MessengerMessageCrossIconSVGM4React.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.contact,d=a.isBlocked,e=a.onIgnore,f=a.showBlock,g=a.thread,j=function(a){var d=c==null?void 0:b("bs_caml_option").some(c);return b("MessengerDialogs.bs").showDialog(function(a){a={onIgnore:e,onToggle:function(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(void 0,0)},threadID:g.thread_fbid,isGroupChat:b("MercuryIDs").isGroupChat(g.thread_id)};d!==void 0&&(a.contact=b("bs_caml_option").valFromOption(d));return i.createElement(b("MessengerIgnoreDialogReact.bs").make,a)})};if(b("MessengerThreadlistRowActionsReact.bs").shouldRenderIgnoreMessagesButton(g,d,f))return i.createElement("div",{className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){a=a;if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return j(0)}else return 0},onClick:function(a){a=a;a.preventDefault();a.stopPropagation();return j(0)}},i.createElement("div",{className:"_3szp"},i.createElement("div",{className:"_7hu0"},b("MessengerMessageCrossIconSVGM4React.bs").icon)),i.createElement("div",{className:"_3szq"},h._("Ignore Messages")));else return null}c=a;f.make=c},null);
__d("MessengerInfoPanelManageMessagesM4React.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_belt_Option","bs_caml_option","MessengerPageUtils.bs","FBToggleSwitch.react","MessengerParticipants.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return!1;else{a=b("MessengerParticipants.bs").getNow(a);if(a==null)return!1;else return a.is_business_enabled}}var k="_3szo _6y4w";function l(a){if(b("bs_caml_option").nullable_to_opt(a.other_user_fbid)!==void 0)return j(a);else return!1}function m(a){if(l(a)){a=a.other_user_fbid;if(a==null)return;else return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))),function(a){return a.is_messenger_blocked})}}function a(a){var c=a.thread;a=c.other_user_fbid;var d=i.useState(function(){return});if(a==null)return null;else{a=d[0];if(l(c)){var e=m(c);a!==e&&b("bs_curry")._1(d[1],function(a){return e});d=function(a){return b("MessengerPageUtils.bs").toggleBlock(c,a)};var f=h._("Receive Messages"),g=a===!0;return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("FBToggleSwitch.react"),{animate:!0,"aria-label":f,checked:a!==!0,onToggle:d}),className:"_7lgv"}),i.jsxs("span",{children:[f,i.jsx("span",{children:g?h._("You aren't receiving messages"):h._("You're receiving messages"),className:"_7lgy"})],className:"_3szq _7lgw _7lgx"})],className:k})}else return null}}c=i.memo(a);d=a;f.isBusinessEnabled=j;f.rowClasses=k;f.shouldDisplay=l;f.getBlocked=m;f.makeNoMemo=d;f.make=c},null);
__d("MessengerCautionIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-5",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-23",d:"M20.0051526,16.0130814 C20.0051526,16.3394431 19.9651454,16.6653049 19.8856311,16.9816708 L19.1705023,19.8389596 C19.0734848,20.2287943 18.7234217,20.5006791 18.3218494,20.5006791 L17.6877352,20.5006791 C17.2861628,20.5006791 16.9360998,20.2287943 16.8390823,19.8389596 L16.1239535,16.9816708 C16.0444392,16.6653049 16.004432,16.3394431 16.004432,16.0130814 L16.004432,12.258673 C16.004432,11.8443486 16.3404925,11.5094905 16.7545671,11.5094905 L19.2550175,11.5094905 C19.6690921,11.5094905 20.0051526,11.8443486 20.0051526,12.258673 L20.0051526,16.0130814 Z M18.0047923,25.9968492 C16.9000933,25.9968492 16.004432,25.1017286 16.004432,23.9986962 C16.004432,22.8946642 16.9000933,22.0000435 18.0047923,22.0000435 C19.1094913,22.0000435 20.0051526,22.8946642 20.0051526,23.9986962 C20.0051526,25.1017286 19.1094913,25.9968492 18.0047923,25.9968492 Z M30.6590717,24.2660829 L20.1356761,6.22722976 C19.1805041,4.59092341 16.8225793,4.59092341 15.8674073,6.22722976 L5.34401171,24.2660829 C4.37883786,25.919382 5.56755198,28 7.47789609,28 L28.5246872,28 C30.4350313,28 31.6237455,25.919382 30.6590717,24.2660829 Z",fill:"#000000"})],id:"Group"}),id:"caution-triangle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerInfoPanelReportReact.bs",["cx","fbt","Keys","React","gkx","bs_caml_obj","CurrentUser","WorkModeConfig","MessengerCautionIconSVGM4React.bs","MessengerThreadlistRowActionsReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isPage,d=a.thread,e=d.message_count===0,f=function(a){if(c)return b("MessengerThreadlistRowActionsReact.bs").handleReportPageThread(d);else if(e&&b("gkx")("914895")&&!b("CurrentUser").isWorkUser())return b("MessengerThreadlistRowActionsReact.bs").handleReportEmptyThread(d);else return b("MessengerThreadlistRowActionsReact.bs").handleReportThread(d)};a=b("bs_caml_obj").caml_equal(d.other_user_fbid,b("CurrentUser").getID());var g=!c||b("gkx")("956764"),j=g?h._("Something's Wrong"):h._("Report...");j=i.jsxs("div",{children:[i.jsx("div",{children:i.jsx("div",{children:b("MessengerCautionIconSVGM4React.bs").icon,className:"_7hty"}),className:"_3szp"}),i.jsxs("div",{children:[j,g?i.jsx("span",{children:h._("Give feedback and report conversation"),className:"_7ht_"}):null],className:"_3szq _7htz"+(g?" _7ht-":"")})],className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){a=a;if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return f(0)}else return 0},onClick:function(a){a=a;a.preventDefault();a.stopPropagation();return f(0)}});if(a)return null;else if(b("CurrentUser").isWorkUser()){g=e||b("WorkModeConfig").is_premium;if(g)return null;else return j}else if(c)if(e)return null;else return j;else if(e){a=b("gkx")("914895");if(a)return j;else return null}else return j}c=a;f.make=c},null);
__d("MessengerCompositeMuteSettingsDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("messengerCompositeMuteSettingsDialogReactComponent").__setRef("MessengerCompositeMuteSettingsDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a},null);
__d("MessengerCompositeMuteSettingsDialogBootloaderReact.bs",["ReasonReact.bs","MessengerCompositeMuteSettingsDialogBootloader.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCompositeMuteSettingsDialogBootloader.react"),{isMuted:a,mentionsMuted:c,reactionsMuted:d,showMentions:e,onMentionsMute:f,onReactionsMute:g,onMute:h,onToggle:i},j)}f.make=a},null);
__d("MessengerMutedIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("path",{id:"Mask",d:"M29.6764631,7.74622879 C30.0291732,7.39372879 30.1157248,6.82622879 29.8250516,6.42172879 C29.4548311,5.90622879 28.7303995,5.86322879 28.301644,6.29322879 L6.29303147,28.2897288 C5.86327542,28.7187288 5.90630105,29.4417288 6.42160807,29.8127288 C6.82584891,30.1032288 7.39368723,30.0172288 7.74589707,29.6652288 L10.8277332,26.5847288 C11.2029568,26.2102288 11.7117599,25.9997288 12.2415756,25.9997288 L27.4856578,25.9997288 C28.3336631,25.9997288 29.0555932,25.3052288 29.0125676,24.4587288 C28.9285175,22.8162288 27.143454,23.3142288 26.8132572,20.9437288 L25.7396176,12.7867288 L25.7381167,12.7772288 C25.6575687,12.1682288 25.8651924,11.5557288 26.2999514,11.1212288 L29.6764631,7.74622879 Z M20.5105021,27.9977288 L15.5100229,27.9977288 C15.1973366,27.9977288 14.944686,28.2727288 15.0042215,28.5727288 C15.2783849,29.9532288 16.5196244,30.9952288 18.0105126,30.9952288 C19.5004003,30.9952288 20.7421401,29.9532288 21.0158032,28.5727288 C21.0763392,28.2727288 20.8231884,27.9977288 20.5105021,27.9977288 Z M10.4465061,21.2792288 L22.7128142,9.01972879 C23.1460724,8.58672879 23.085036,7.86922879 22.5892406,7.50822879 C21.2979713,6.56822879 19.713027,6.01622879 18.0105126,6.01622879 C14.0976814,6.01622879 10.7912114,8.91272879 10.2814077,12.7867288 L9.24028741,20.6847288 C9.15223495,21.3572288 9.96672022,21.7587288 10.4465061,21.2792288 Z",fill:"#ffffff"}),id:"bell-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.iconWhite=c},null);
__d("MessengerNotificationsIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-19",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-24",d:"M15.5120016,28 L20.4879984,28 C20.7988428,28 21.0505024,28.2755 20.9913177,28.5755 C20.718272,29.957 19.482852,31 18.0002487,31 C16.517148,31 15.281728,29.957 15.0086823,28.5755 C14.9494976,28.2755 15.2011572,28 15.5120016,28 M18,6 C21.910881,6 25.2161675,8.899 25.7263259,12.776 L26.7996071,20.94 C27.1293863,23.312 28.914191,22.814 28.9981348,24.458 C29.0416057,25.305 28.3190896,26 27.4706577,26 L8.5288426,26 C7.68091044,26 6.95839429,25.305 7.00186518,24.458 C7.0853093,22.814 8.87011406,23.312 9.20039288,20.94 L10.2736741,12.776 C10.7838325,8.899 14.089119,6 18,6",fill:"#000000"})],id:"bell",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerNotificationsIconSVGReact.bs",["React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("defs",{children:g.jsx("circle",{id:"path-1",cx:"1",cy:"1",r:"1"})}),g.jsxs("g",{children:[g.jsx("rect",{id:"Bounds",height:"18",width:"18",x:"0",y:"0"}),g.jsx("path",{d:"M9,16.5 C9.828,16.5 10.5,15.828 10.5,15 L7.5,15\nC7.5,15.828 8.172,16.5 9,16.5",fill:b}),g.jsx("path",{d:"M13,10 L13,7.5 C13,5.562 11.622,3.948 9.793,3.58\nC9.914,3.414 10,3.221 10,3 C10,2.448 9.552,2 9,2 C8.448,2\n8,2.448 8,3 C8,3.221 8.086,3.414 8.207,3.58 C6.378,3.948\n5,5.562 5,7.5 L5,10 C5,11.105 4,12 4,12 L3.70537567,12.2946243\nC3.31580745,12.6841926 3.31640625,13.3164062\n3.70537567,13.7053757 L4,14 L14,14 L14.2946243,13.7053757\nC14.6841926,13.3158074 14.6835937,12.6835938\n14.2946243,12.2946243 L14,12 C14,12 13,11.105 13,10 Z",stroke:b,strokeWidth:"4%"})],fill:"none",fillRule:"evenodd"})],height:"24",width:"24",viewBox:"0 0 18 18"}),className:a})}f.make=a},null);
__d("MessengerNotificationsButtonReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","asset","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerMuteUtils.bs","MessengerCustomColorUtils.bs","MessengerMutedIconSVGM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerNotificationsIconSVGReact.bs","MessengerNotificationsIconSVGM4React.bs","MessengerCompositeMuteSettingsDialogBootloaderReact.bs"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){if(a)return 0;else{a=c[1][0][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus();else return 0}}function l(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}var m=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",n=b("ReasonReact.bs").reducerComponent("MessengerNotificationsButtonReact");function a(a,c,d,e,f,h,o,p,q){var r=function(d){return b("MessengerDialogs.bs").showDialog(function(g){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerCompositeMuteSettingsDialogBootloaderReact.bs").make(a,c,e,!p.is_canonical,f,o,h,b("bs_curry")._1(d[0],k),[]))})},s=function(a,b){a.preventDefault();a.stopPropagation();return r(b)},t=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return r(c)}else return 0},u=function(a){if(d!==void 0){a=d;if(a!==0){a=b("MessengerMuteUtils.bs").mutedUntilLabel(a);if(a!==void 0)return j.createElement("span",{className:"_3x6v"},a);else return null}else return null}else return null};return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],function(c){return j.createElement("div",{ref:b("bs_curry")._1(c[0],l),className:m,role:"button",tabIndex:0,onKeyDown:b("bs_curry")._1(c[0],t),onClick:b("bs_curry")._1(c[0],s)},j.createElement("div",{className:"_3szp"},b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470464"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.createElement("div",{className:"_6ybz"+(a?" _7ipg":"")},a?b("MessengerMutedIconSVGM4React.bs").iconWhite:b("MessengerNotificationsIconSVGM4React.bs").icon):b("MessengerNotificationsIconSVGReact.bs").make("_3wh2",b("MessengerCustomColorUtils.bs").customColorOrBlue(p))),j.createElement("div",{className:"_3szq _6b46"+(d?" _6b47":"")},i._("Notifications"),u(0)))},function(a){return[[void 0]]},n[10],function(a,b){return 0},n[12]]}f.handleDialogToggle=k;f.setRef=l;f.rowClasses=m;f.component=n;f.make=a},null);
__d("MessengerMuteButtonContainerReact.bs",["bs_caml_option","ReasonReact.bs","MercuryThreadInfo","MercuryThreadActions","MessengerNotificationsButtonReact.bs"],function(a,b,c,d,e,f){"use strict";function a(a){var c=a.thread,d=a.viewer;a=function(a){b("MercuryThreadActions").getForFBID(d).updateMuteSetting(c.thread_id,a);return 0};var e=function(a){b("MercuryThreadActions").getForFBID(d).updateMentionsMuteSetting(c.thread_id,a);return 0},f=function(a){b("MercuryThreadActions").getForFBID(d).updateReactionsMuteSetting(c.thread_id,a);return 0},g=b("MercuryThreadInfo").isMuted(c),h=b("MercuryThreadInfo").getMuteSetting(c);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerNotificationsButtonReact.bs").make(g,b("MercuryThreadInfo").areMentionsMuted(c),h==null?void 0:b("bs_caml_option").some(h),b("MercuryThreadInfo").areReactionsMuted(c),e,a,f,c,[]))}c=a;f.make=c},null);
__d("MessengerInfoPanelPrivacySupportOptionsContainerReact.bs",["fbt","React","bs_caml_option","MessengerInfoPanelBlockReact.bs","MessengerInfoPanelReportReact.bs","MessengerInfoPanelSectionReact.bs","MessengerMuteButtonContainerReact.bs","MessengerInfoPanelIgnoreMessagesReact.bs","MessengerInfoPanelManageMessagesM4React.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.contact,d=a.isBlocked,e=a.isCollapsed,f=a.isPage,i=a.showBlock,j=a.thread,k=a.viewer,l=a.onBlock,m=a.onIgnore,n=a.onUnblock;a=a.onToggle;e={isCollapsible:!0,isCollapsed:e,onToggle:a,title:g._("Privacy & Support"),children:null};a=b("bs_caml_option").nullable_to_opt(j.solid_color);a!==void 0&&(e.customColor=b("bs_caml_option").valFromOption(a));return h.createElement(b("MessengerInfoPanelSectionReact.bs").make,e,h.createElement(b("MessengerMuteButtonContainerReact.bs").make,{thread:j,viewer:k}),h.createElement(h.Suspense,{children:h.createElement(b("MessengerInfoPanelManageMessagesM4React.bs").make,{thread:j}),fallback:null}),h.createElement(b("MessengerInfoPanelIgnoreMessagesReact.bs").make,{contact:c,isBlocked:d,onIgnore:m,showBlock:i,thread:j}),h.createElement(b("MessengerInfoPanelBlockReact.bs").make,{contact:c,isBlocked:d,onBlock:l,onUnblock:n,showBlock:i,thread:j}),h.createElement(b("MessengerInfoPanelReportReact.bs").make,{isPage:f,thread:j}))}c=a;f.make=c},null);
__d("MessengerContentSearchFunnelLogger",["FunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b,c,d,e,f){"use strict";var g=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_NAME,h=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS,i=null,j=0,k=0,l=new Set(),m=0,n=0;function a(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=null,j=0,k=0,n=0,l.clear(),m=Date.now(),b("FunnelLogger").startFunnel(g),c&&b("FunnelLogger").addFunnelTag(g,c),b("FunnelLogger").setFunnelTimeout(g,86400),b("FunnelLogger").appendActionWithPayloadIfNew(g,h.INITIATE_CONTENT_SEARCH,babelHelpers["extends"]({query:a},c&&{entry_surface:c}))}function c(a){b("FunnelLogger").appendActionWithPayload(g,h.CHANGE_QUERY,{query:a})}function d(a){b("FunnelLogger").appendActionWithPayload(g,h.THREAD_IMPRESSIONS,{impressionList:a,latency:Date.now()-m})}function f(a,c){b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MORE_THREADS,{impressionList:a,latency:c})}function o(){n+=1}function p(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=a,j=0,n=0,l.clear(),b("FunnelLogger").appendActionWithPayload(g,h.SELECT_THREAD,{thread_id:a,has_results:c})}function q(a){j+=1,k+=1}function r(a,c,d){i=c,l.add(a),b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MESSAGE_IN_THREAD,{latency:d})}function s(a){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),a?b("FunnelLogger").appendActionWithTagAndPayloadIfNew(g,h.END_CONTENT_SEARCH,a,{totalBrowseActions:k}):b("FunnelLogger").appendActionWithPayloadIfNew(g,h.END_CONTENT_SEARCH,{totalBrowseActions:k}),b("FunnelLogger").endFunnel(g)}e.exports={browseMessageInThread:q,endFunnel:s,loadMessageInThread:r,logContextBrowse:o,logChangeQuery:c,logLoadMoreThreads:f,logThreadImpressions:d,logThreadSelect:p,startFunnel:a}},null);
__d("MessengerThreadSearchIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M15.499,9.000053 C11.909,9.000053 8.9995,11.9106492 8.9995,15.5009175 C8.9995,19.0911858 11.909,22.0022817 15.499,22.0022817 C19.0885,22.0022817 21.998,19.0911858 21.998,15.5009175 C21.998,11.9106492 19.0885,9.000053 15.499,9.000053 Z M25.4875,28.30874 L21.6335,23.8523894 C21.313,23.482068 20.7755,23.4056049 20.355,23.6574834 C18.934,24.5085729 17.276,25.0023347 15.499,25.0023347 C10.253,25.0023347 6,20.7483865 6,15.5009175 C6,10.2539482 10.253,6 15.499,6 C20.7445,6 24.9975,10.2539482 24.9975,15.5009175 C24.9975,17.2770608 24.5045,18.9357608 23.655,20.3565755 C23.4065,20.7708757 23.491,21.3016197 23.8555,21.6184668 L28.3065,25.4841024 L25.4875,28.30874 Z M28.3065,25.4841024 C29.183,26.2452352 29.231,27.5915859 28.4105,28.4131896 C27.591,29.2352931 26.247,29.1873162 25.4875,28.30874 L28.3065,25.4841024 Z",fill:"#000000"})],id:"Search"}),id:"magnifying-glass",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerThreadSearchIconSVGReact.bs",["React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"search conversation"}),g.jsx("circle",{cx:"28",cy:"28",fill:"none",r:"14",stroke:b,strokeMiterlimit:"10",strokeWidth:"2"}),g.jsx("path",{clipRule:"evenodd",d:"M50,50L37.9,37.9",fill:"none",fillRule:"evenodd",stroke:b,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})],viewBox:"8 8 48 48"}),className:a})}f.make=a},null);
__d("MessengerInfoPanelSearchReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","Bootload.bs","asset","Bootloader","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerURIStore","MessengerSearchActions","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerThreadSearchIconSVGReact.bs","MessengerContentSearchFunnelLogger","MessengerThreadSearchIconSVGM4React.bs","MessengerContentSearchFunnelLoggerConstants"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){b("Bootloader").loadModules(["BootloadableMessengerContentSearchFunnelLogger.bs"],a,"MessengerInfoPanelSearchReact.bs");return 0}d={doLoad:a};var k=b("Bootload.bs").Create(d);function l(a,c){b("MessengerContentSearchFunnelLogger").startFunnel(a,b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_WITHIN_THREAD);return 0}function m(a){a=b("MessengerURIStore").getState().query;a=a==null;b("MessengerSearchActions").changeQuery(a?"":void 0);return 0}function n(a){var c=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("MessengerURIStore").getState().query),"");b("bs_curry")._1(k.load,function(a){return l(c,a)});return m(0)}function o(a){a.preventDefault();return n(0)}function p(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return m(0)}else return 0}var q=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";e=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelSearchReact");function c(a){a=a.thread;return j.createElement("div",{className:q,tabIndex:0,onKeyDown:p,onClick:o},j.createElement("div",{className:"_3szp"},b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("465522"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.createElement("div",{className:"_6ybv"},b("MessengerThreadSearchIconSVGM4React.bs").icon):b("MessengerThreadSearchIconSVGReact.bs").make("_6b45",b("MessengerCustomColorUtils.bs").customColorOrBlue(a))),j.createElement("div",{className:"_3szq"},i._("Search in Conversation")))}h=b("bs_belt_Option").getWithDefault;a=c;c=c;f.$pipe$question=h;f.BootloadableMessengerContentSearchFunnelLogger=d;f.LoadableMessengerContentSearchFunnelLoggerRe=k;f.handleLoggerLoad=l;f.showQuery=m;f.handleSearchThread=n;f.handleSearchThreadClick=o;f.handleSearchThreadKeyDown=p;f.rowClasses=q;f.component=e;f.make=a;f.jsComponent=c},null);
__d("AARRGGBBColor.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){return"#"+a.slice(2,8)}f.toHex=a},null);
__d("CustomizeChatGradientItemReact.bs",["cx","React","bs_belt_Option","bs_caml_option","AARRGGBBColor.bs","ImmutableArray.bs","MessengerColors"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;var c=a.gradient_colors;c=c!==void 0?b("MessengerColors").makeRadialGradient(b("ImmutableArray.bs").toArray(b("bs_caml_option").valFromOption(c).map(b("AARRGGBBColor.bs").toHex)),b("bs_belt_Option").getWithDefault(a.is_reversed_for_picker,!1)):"";return h.jsx("div",{"aria-label":a.accessibility_label,className:"_6kld",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color),backgroundImage:c}})}c=a;f.make=c},null);
__d("CustomizeChatSolidItemReact.bs",["cx","React","AARRGGBBColor.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;return h.jsx("div",{"aria-label":a.accessibility_label,className:"_6kle",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}})}c=a;f.make=c},null);
__d("MessengerThreadTheme.bs",["bs_caml_option"],function(a,b,c,d,e,f){"use strict";function a(a){a=a.gradient_colors;if(a!==void 0)return b("bs_caml_option").valFromOption(a).length!==0;else return!1}f.isGradient=a},null);
__d("CustomizeChatColorItemReact.bs",["cx","React","Image.react","AARRGGBBColor.bs","MessengerThreadTheme.bs","CustomizeChatSolidItemReact.bs","CustomizeChatGradientItemReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;var c=a.icon_uri;if(c!==void 0)return h.jsx(b("Image.react"),{className:"_6kle",alt:a.accessibility_label,src:c,style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}});else{c=b("MessengerThreadTheme.bs").isGradient(a);if(c)return h.jsx(b("CustomizeChatGradientItemReact.bs").make,{theme:a});else return h.jsx(b("CustomizeChatSolidItemReact.bs").make,{theme:a})}}c=a;f.make=c},null);
__d("MessengerChangeColorDialogReact.bs",["ix","cx","fbt","bs_block","bs_curry","Image.bs","React","bs_belt_Array","bs_caml_option","fbglyph","ReasonReact.bs","AARRGGBBColor.bs","MessengerDialogs.bs","MessengerDialogReact.bs","CustomizeThreadThemeUtil","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","CustomizeChatColorItemReact.bs"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReasonReact.bs").reducerComponent("MessengerChangeColorDialogReact");function l(a,c,d,e){var f=function(a){if(a)return 0;else{b("bs_curry")._1(d,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)}};return[k[0],k[1],k[2],k[3],function(a){b("CustomizeThreadThemeUtil").fetchThemesForMessenger(function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))});return 0},k[5],k[6],k[7],function(c){var d=b("bs_belt_Array").map(c[1][1],function(d){var e=b("AARRGGBBColor.bs").toHex(d.fallback_color),f=e.toLowerCase()===a.toLowerCase();return j.createElement("div",{key:e,className:"_gs0",onClick:function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[d]))}},f?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_gs2",void 0,void 0,void 0,g("140201"),void 0,void 0,void 0,void 0,[])):null,j.createElement(b("CustomizeChatColorItemReact.bs").make,{theme:d}))}),e=i._("Pick a color for this conversation");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_gs3",b("bs_caml_option").some(e),f,void 0,c[1][0],void 0,void 0,335,void 0,void 0,[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:e}),j.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_7h5n",children:[j.createElement("div",{className:"_28he"},i._("Everyone in this conversation will see this.")),j.createElement("div",{className:"_gs4"},d)]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[]))]))]))},function(a){return[!0,[]]},k[10],function(d,e){if(d.tag)return b("bs_block").__(0,[[e[0],d[0]]]);else{var f=d[0];if(b("AARRGGBBColor.bs").toHex(f.fallback_color).toLowerCase()!==a.toLowerCase())return b("bs_block").__(2,[[!1,e[1]],function(a){return b("bs_curry")._1(c,f.id)}]);else return b("bs_block").__(0,[[!1,e[1]]])}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.currentColor,a.onSave,a.onClose,[])});c="Unknown Color";f.component=k;f.unknownColor=c;f.make=l;f.jsComponent=a},null);
__d("MessengerChangeColorIconSVGReact.bs",["React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"colors@2x"}),g.jsx("path",{d:"M912,1569a3,3,0,1,1-3,3A3,3,0,0,1,912,1569Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M924,1569a3,3,0,1,1-3,3A3,3,0,0,1,924,1569Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M931,1579a3,3,0,1,1-3,3A3,3,0,0,1,931,1579Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M905,1579a3,3,0,1,1-3,3A3,3,0,0,1,905,1579Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M918,1562a22,22,0,0,0,0,44,3.67,3.67,0,0,0,2.71-6.14,3.65,3.65,0,0,1,2.74-6.09h4.33A12.23,12.23,0,0,0,940,1581.56C940,1570.75,930.15,1562,918,1562Z",fill:"transparent",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4%",transform:"translate(-895.5 -1561.5)"})],viewBox:"-1 -1 47 47"}),className:a})}f.make=a},null);
__d("MessengerInfoPanelCustomColorReact.bs",["cx","fbt","Keys","bs_curry","React","gkx","bs_caml_option","ReasonReact.bs","MessengerColors","MessengerDialogs.bs","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerChangeColorDialogReact.bs","MessengerChangeColorIconSVGReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function k(a,c){a=c[1][0][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus();else return 0}function l(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}var m=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelCustomColorReact");function a(a,c,d){var e=function(d){return b("MessengerDialogs.bs").showDialog(function(e){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerChangeColorDialogReact.bs").make(b("MessengerCustomColorUtils.bs").customColorOrBlue(a),c,b("bs_curry")._1(d,k),[]))})},f=function(a,b){a.preventDefault();return e(b[0])},g=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return e(c[0])}else return 0};return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],function(c){if(a.customization_enabled){var d=b("gkx")("1229783");return i.createElement("div",{ref:b("bs_curry")._1(c[0],l),className:j,tabIndex:0,onKeyDown:b("bs_curry")._1(c[0],g),onClick:b("bs_curry")._1(c[0],f)},i.createElement("div",{className:"_3szp"},b("MessengerDotComAndInboxM4Check.bs").yes?i.createElement("div",{className:"_6ymp"},i.createElement("div",{className:"_6yme",style:b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0))},i.createElement("div",{className:"_6ymf"}))):b("MessengerChangeColorIconSVGReact.bs").make("_17vc",b("MessengerCustomColorUtils.bs").customColorOrBlue(a))),i.createElement("div",{className:"_3szq"},d?h._("Change Theme"):h._("Change Color")))}else return null},function(a){return[[void 0]]},m[10],function(a,b){return 0},m[12]]}f.rowClasses=j;f.handleDialogClose=k;f.setTheRef=l;f.component=m;f.make=a},null);
__d("MessengerInfoPanelEmoji.react",["ix","cx","fbt","Bootloader","CurrentUser","EmojiLikeConstants","Image.react","ImmutableObject","Keys","MercuryShareAttachmentRenderLocations","MessengerCustomColorUtils.bs","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","asset","prop-types"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerHotLikeIconSVGM4React.bs").make,k=b("React"),l=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",m=b("MessengerDotComAndInboxM4Check.bs").yes?"_6ybx":"";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault(),d.$5()},d.$3=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),d.$5())},d.$6=function(){d.$1&&d.$1.focus()},d.$4=function(a){d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.thread.customization_enabled)return null;var a=this.props.thread.custom_like_icon&&this.props.thread.custom_like_icon.emoji?b("MessengerSupportedEmojiUtils").getNewEmojiData(this.props.thread.custom_like_icon.emoji,b("EmojiLikeConstants").size.SMALL):null;a=a&&a.url?k.jsx(b("Image.react"),{src:a.url,className:"_12cp"}):b("CurrentUser").isWorkUser()?k.jsx(b("Image.react"),{src:g("470537")}):b("MessengerDotComAndInboxM4Check.bs").yes?k.jsx(j,{color:this.props.thread.gradient_colors&&this.props.thread.gradient_colors.length?this.props.thread.gradient_colors[this.props.thread.gradient_colors.length-1]:this.props.thread.solid_color?this.props.thread.solid_color:b("MessengerCustomColorUtils.bs").defaultColor()}):k.jsx(b("MessengerHotLikeOutlineSVG.react"),{color:this.props.thread.solid_color?this.props.thread.solid_color:"",height:"24px",width:"24px",location:b("MercuryShareAttachmentRenderLocations").MESSENGER});return k.jsxs("div",{className:l,onClick:this.$2,onKeyDown:this.$3,ref:this.$4,role:"button",tabIndex:"0",children:[k.jsx("div",{className:"_3szp",children:k.jsx("div",{className:m,children:a})}),k.jsx("div",{className:"_3szq",children:i._("Change Emoji")})]})};d.$5=function(){var a=this;b("Bootloader").loadModules(["MessengerChangeEmojiDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return k.jsx(d,{currentEmoji:a.props.thread.custom_like_icon?a.props.thread.custom_like_icon.emoji:String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI),onClose:a.$6,onSave:a.props.onChange})})},"MessengerInfoPanelEmoji.react")};return c}(k.PureComponent);a.propTypes={thread:b("prop-types").instanceOf(b("ImmutableObject")).isRequired,viewer:b("prop-types").string.isRequired,onChange:b("prop-types").func.isRequired};e.exports=a},null);
__d("MNCommerceDialogStateActions",["MessengerDispatcher","MNCommerceActionTypes"],function(a,b,c,d,e,f){"use strict";a={showDialog:function(a,c){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.SHOW,dialogContainer:a,state:c})},hideDialog:function(){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.HIDE})}};e.exports=a},null);
__d("MNCommercePromotionManageBlockDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MNCommercePromotionManageBlockDialogContainer.react").__setRef("MNCommercePromotionManageBlockDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a},null);
__d("ShimButtonReact.bs",["ReasonReact.bs","ShimButton.react","bs_js_null_undefined"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("ShimButton.react"),{className:b("bs_js_null_undefined").fromOption(a),inline:b("bs_js_null_undefined").fromOption(c),onClick:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a},null);
__d("MessengerInfoPanelManageMessagesReact.bs",["cx","fbt","React","MercuryIDs","ReasonReact.bs","ShimButtonReact.bs","MessengerParticipants.bs","MNCommerceDialogStateActions","MessengerDotComAndInboxM4Check.bs","MNCommercePromotionManageBlockDialogBootloader.react"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return!1;else{a=b("MessengerParticipants.bs").getNow(a);if(a==null)return!1;else return a.is_business_enabled}}var k=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function a(a){var c=a.thread;a.viewer;a=function(a){a.preventDefault();a.stopPropagation();b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogBootloader.react"),{pageID:c.other_user_fbid});return 0};if(j(c))return i.createElement("div",{className:k},i.createElement("div",{className:"_3szp"}),b("ReasonReact.bs").element(void 0,void 0,b("ShimButtonReact.bs").make("_3szq",!0,a,[h._("Manage Messages")])));else return null}c=a;f.isBusinessEnabled=j;f.rowClasses=k;f.make=c},null);
__d("MessengerEditNicknameDialogReact.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogFooter.react","MessengerTextWithEmojiInputReact.bs","MessagingThreadCustomizationConfig"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerEditNicknameDialogReact");function k(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function a(a,c,d,e,f,g){var l=function(f,g){f=g[1][0][0];g=f!==void 0?b("bs_caml_option").valFromOption(f).getValue().trim():void 0;f=0;g!==void 0&&!(g===""&&c===void 0)&&(f=1);if(f===1&&g!==c){f=b("MercuryIDs").getUserIDFromParticipantID(a.id);f==null||b("bs_curry")._1(d,[f,g])}return b("bs_curry")._1(e,!1)};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(d){var e=a.name,g=b("MercuryIDs").getUserIDFromParticipantID(a.id),j,m=0;g==null||g!==f?m=1:j=h._("Edit Your Nickname");m===1&&(j=h._("Edit Nickname for {personName}",[h._param("personName",e)]));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_2c1u",b("bs_caml_option").some(j),void 0,void 0,void 0,void 0,void 0,400,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),i.createElement(b("MessengerDialogBody.react"),{children:i.createElement(i.Fragment,void 0,i.createElement("div",{className:"_-bo"},h._("Everyone in this conversation will see this.")),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(d[0],k),b("MessengerTextWithEmojiInputReact.bs").make("_2c1v",b("bs_curry")._1(d[0],l),b("MessagingThreadCustomizationConfig").maxNicknameLength,void 0,e,c,void 0,[])))}),i.createElement(b("MessengerDialogFooter.react"),{children:i.createElement(i.Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(d[0],l),0,void 0,void 0,void 0,[])))})]))},function(a){return[[void 0]]},j[10],function(a,b){return 0},j[12]]}f.component=j;f.setInput=k;f.make=a},null);
__d("MessengerEditNicknamesDialogReact.bs",["cx","fbt","bs_curry","React","bs_js_dict","immutable","MercuryIDs","ReasonReact.bs","ImmutableObject","MessengerDialogs.bs","MessengerDialog.react","MessengerAdminGroupUtils","MessengerDialogBody.react","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re","MessengerEditNicknameDialogReact.bs","MessengerDialogCancelButton.react"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(c.id),e;if(d==null||a==null)e=[c.name,""];else{a=b("bs_js_dict").get(a,d);e=a!==void 0?[a,c.name]:[c.name,""]}return new(b("ImmutableObject"))({alias:c.vanity,uid:c.id,photo:c.image_src,title:e[0],subtitle:e[1],type:c.user_type,isMessengerUser:c.is_messenger_user,href:c.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:c.work_foreign_entity_info})}c=b("ReasonReact.bs").statelessComponent("MessengerEditNicknamesDialogReact");function a(a){var c=a.participants,d=a.thread,e=a.onSave,f=a.onClose,g=a.viewer,k=function(a){if(a)return 0;else{b("bs_curry")._1(f,0);return b("MessengerDialogs.bs").removeAllDialogs(0)}};a=function(a,c){c=b("MercuryIDs").getUserIDFromParticipantID(a.id);var f=d.custom_nickname,h=!(c==null)&&!(f==null)?b("bs_js_dict").get(f,c):void 0;return b("MessengerDialogs.bs").showDialog(function(c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerEditNicknameDialogReact.bs").make(a,h,e,k,g,[]))})};c=c.filter(function(a,c,e){if(a==null)return!1;else{c=b("MessengerAdminGroupUtils").isJoinableThread(d);e=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(c)if(e==null)return!1;else return e===g;else return!0}}).toArray();var l=h._("Edit Nicknames"),m=i.createElement(i.Fragment,void 0,i.jsx(b("MessengerDialogCancelButton.react"),{}),i.createElement(b("MessengerDialogTitleReact.bs").make,{children:l}),i.jsx("div",{className:"_8c_i"})),n=d.custom_nickname;return i.jsxs(b("MessengerDialog.react"),{className:"_4h9n",label:l,onToggle:k,type:"default",width:350,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:m}),i.jsx(b("MessengerDialogBody.react"),{className:"_4h9o",children:i.jsx(b("MessengerContactListReact.re").make,{contactAdapter:function(a){return j(n,a)},disableRole:!0,listSections:b("immutable").OrderedMap([[[null],c]]),onSelect:a,rowClassName:"_44kr",viewer:g,thread:d})})]})}d=a;e=a;f.fromMercuryParticipant=j;f.component=c;f.make=d;f.jsComponent=e},null);
__d("MessengerEditNicknamesIconSVGM4React.bs",["React"],function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("mask",{children:a.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"}),id:"mask-2",fill:"white"}),a.jsx("g",{id:"Clip-4"}),a.jsx("path",{id:"Fill-1",d:"M18.3042,15.77345 L12.9857,26.39495 C12.7662,26.83245 12.4477,27.21345 12.0552,27.50745 L8.2607,30.34495 C7.7407,30.73395 6.9992,30.36245 6.9992,29.71245 L6.9992,24.98495 C6.9992,24.49545 7.1137,24.01295 7.3332,23.57495 L12.6547,12.94745 C12.8522,12.55245 13.3322,12.39195 13.7272,12.58995 L17.9467,14.69895 C18.3422,14.89645 18.5022,15.37795 18.3042,15.77345 Z M19.9172,12.55245 C19.7192,12.94745 19.2392,13.10745 18.8442,12.90995 L14.6247,10.80095 C14.2292,10.60295 14.0692,10.12145 14.2667,9.72595 L15.4537,7.35495 C16.2287,5.80595 18.0962,5.05145 19.6687,5.77695 C21.2937,6.52695 21.9652,8.46245 21.1697,10.04895 L19.9172,12.55245 Z M28.9882,29.66445 C28.9082,30.15645 28.4462,30.49645 27.9477,30.49645 L12.4167,30.49645 C12.0117,30.49645 11.8392,29.98145 12.1632,29.73845 L13.2767,28.90095 C13.6257,28.63845 14.0507,28.49645 14.4877,28.49645 L28.0012,28.49645 C28.6087,28.49645 29.0902,29.03795 28.9882,29.66445 Z",fill:"#000000",mask:"url(#mask-2)"})],id:"Group"}),id:"pencil-underline",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",version:"1.1",viewBox:"0 0 36 36"});f.icon=c},null);
__d("MessengerEditNicknamesIconSVGReact.bs",["React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"nicknames"}),g.jsx("path",{d:"M899,1204h38v2H899v-2Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"}),g.jsx("path",{d:"M927.57,1172.17l-22.32,22.36-0.72,5,5-.72,22.32-22.36ZM908.8,1196.6l-1.41-1.41L929,1173.61l1.41,1.41Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"}),g.jsx("path",{d:"M932.93,1175.36l2.07-2.13a6,6,0,0,0-1.33-3,5.72,5.72,0,0,0-2.91-1.28l-2.07,2.13Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"})],viewBox:"0 0 38 37.01"}),className:a})}f.make=a},null);
__d("MessengerInfoPanelNicknamesReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","asset","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerEditNicknamesDialogReact.bs","MessengerEditNicknamesIconSVGReact.bs","MessengerEditNicknamesIconSVGM4React.bs"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){a=c[1][0][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus();else return 0}function l(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}var m=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",n=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelNicknamesReact");function a(a,c,d,e,f){var h=function(f){return b("MessengerDialogs.bs").showDialog(function(g){return j.createElement(b("MessengerEditNicknamesDialogReact.bs").make,{participants:a,thread:c,onSave:e,onClose:b("bs_curry")._1(f[0],k),viewer:d})})},o=function(a,b){a.preventDefault();return h(b)},p=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return h(c)}else return 0};return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],function(a){if(c.customization_enabled)return j.createElement("div",{ref:b("bs_curry")._1(a[0],l),className:m,role:"button",tabIndex:0,onKeyDown:b("bs_curry")._1(a[0],p),onClick:b("bs_curry")._1(a[0],o)},j.createElement("div",{className:"_3szp"},b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("461749"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.createElement("div",{className:"_6y56"},b("MessengerEditNicknamesIconSVGM4React.bs").icon):b("MessengerEditNicknamesIconSVGReact.bs").make("_5odt",b("MessengerCustomColorUtils.bs").customColorOrBlue(c))),j.createElement("div",{className:"_3szq"},i._("Edit Nicknames")));else return null},function(a){return[[void 0]]},n[10],function(a,b){return 0},n[12]]}f.handleDialogClose=k;f.setHandleRef=l;f.rowClasses=m;f.component=n;f.make=a},null);
__d("MessengerInfoPanelThreadOptionsContainerReact.bs",["fbt","bs_block","bs_curry","React","gkx","Bootload.bs","QE2Logger","Bootloader","bs_caml_option","ReasonReact.bs","MessengerConfig","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelEmoji.react","MessengerInfoPanelSearchReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelSectionReact.bs","MessengerInfoPanelNicknamesReact.bs","MessengerMuteButtonContainerReact.bs","MessagingThreadCustomizationSource","MessengerInfoPanelCustomColorReact.bs","MessengerInfoPanelManageMessagesReact.bs"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){b("Bootloader").loadModules(["BootloadableMessengerInfoPanelPinningThreadReact.bs"],a,"MessengerInfoPanelThreadOptionsContainerReact.bs");return 0}c={doLoad:a};var i=b("Bootload.bs").Create(c),j=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelThreadOptionsContainerReact");function k(a,c){return b("bs_curry")._1(a[3],[c])}function l(a,c,d){b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",d);a=a[1][0];if(a!==void 0)return h.createElement(a.make,{thread:c,viewer:d});else return null}function m(a,c,d,e,f,m){var n=function(a,c){if(b("MercuryThreadInfo").isEmptyLocalThread(d))return 0;else{b("MercuryThreadActions").getForFBID(e).changeThreadTheme(d.thread_id,a,"SETTINGS");return 0}},o=function(a,c){if(b("MercuryThreadInfo").isEmptyLocalThread(d))return 0;else{b("MercuryThreadActions").getForFBID(e).changeThreadEmoji(d.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return 0}},p=function(a,c){if(b("MercuryThreadInfo").isEmptyLocalThread(d))return 0;else{b("MercuryThreadActions").getForFBID(e).changeThreadNicknames(d.thread_id,a[0],a[1],b("MessagingThreadCustomizationSource").SETTINGS);return 0}};return[j[0],j[1],j[2],j[3],function(a){if(b("MessengerConfig").MPT>0)return b("bs_curry")._1(i.load,function(b){return k(a,b)});else return 0},j[5],j[6],j[7],function(i){if(!d.is_subscribed||b("MessageRequestUtils").isMessageRequest(d))return null;else{var j=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(d,e),k=j?b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelCustomColorReact.bs").make(d,b("bs_curry")._1(i[0],n),[])):null;j=j?h.createElement(b("MessengerInfoPanelEmoji.react"),{thread:d,viewer:e,onChange:b("bs_curry")._1(i[0],o)}):null;var m={isCollapsible:!0,isCollapsed:a,onToggle:f,title:g._("Options"),children:null},q=b("bs_caml_option").nullable_to_opt(d.solid_color);q!==void 0&&(m.customColor=b("bs_caml_option").valFromOption(q));q=b("gkx")("860320");return h.createElement(b("MessengerInfoPanelSectionReact.bs").make,m,q?null:h.createElement(b("MessengerInfoPanelSearchReact.bs").make,{thread:d}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelNicknamesReact.bs").make(c,d,e,b("bs_curry")._1(i[0],p),[])),k,j,b("MessengerDotComAndInboxM4Check.bs").yes?null:h.createElement(b("MessengerInfoPanelManageMessagesReact.bs").make,{thread:d,viewer:e}),b("MessengerDotComAndInboxM4Check.bs").yes?null:h.createElement(b("MessengerMuteButtonContainerReact.bs").make,{thread:d,viewer:e}),l(i,d,e))}},function(a){return[void 0]},j[10],function(a,c){return b("bs_block").__(0,[[a[0]]])},j[12]]}d=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return m(a.isCollapsed,a.participants,a.thread,a.viewer,a.onToggle,[])});f.BootloadableMessengerInfoPanelPinningThreadReact=c;f.LoadableMessengerInfoPanelPinningThreadReact=i;f.component=j;f.handleLoadMessengerOnlyChangePhoneNumberRowReact=k;f.renderMessengerInfoPanelPinningThread=l;f.make=m;f.jsComponent=d},null);
__d("FBClipboardLinkReact.bs",["bs_caml_option","ReasonReactCompat.bs","FBClipboardLink.react"],function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h,i,j,k,l){return function(m){m={value:d};a!==void 0&&(m.className=b("bs_caml_option").valFromOption(a));c!==void 0&&(m.label=b("bs_caml_option").valFromOption(c));e!==void 0&&(m.tooltip=b("bs_caml_option").valFromOption(e));f!==void 0&&(m.tooltipSuccess=b("bs_caml_option").valFromOption(f));g!==void 0&&(m.tooltipSuccessDuration=b("bs_caml_option").valFromOption(g));h!==void 0&&(m.onComplete=b("bs_caml_option").valFromOption(h));i!==void 0&&(m.position=b("bs_caml_option").valFromOption(i));j!==void 0&&(m.alignment=b("bs_caml_option").valFromOption(j));k!==void 0&&(m.stopPropagation=b("bs_caml_option").valFromOption(k));l!==void 0&&(m.preventDefaultOnClick=b("bs_caml_option").valFromOption(l));return m}}function a(a,c,d,e,f,h,i,j,k,l,m,n){return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FBClipboardLink.react"),g(a,c,d,e,f,h,i,j,k,l,m)(0),n)}f.componentProps=g;f.make=a},null);
__d("MessengerInfoPanelWorkContextContainerReact.bs",["cx","fbt","bs_block","bs_curry","React","Link.react","bs_caml_option","ReasonReact.bs","FBClipboardLinkReact.bs","SubscriptionsHandler","FBClipboardLink.react","WorkChatActivityTypedLogger.bs","WorkChatActivityTypedLogger","MercuryWorkContextInformation","MessengerInfoPanelSectionReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MercuryWorkContextInformation").get(),k=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelWorkContextContainerReact"),l={phone:void 0,email:void 0,location:void 0};function m(a,c,d,e,f){return[k[0],k[1],k[2],function(a){a=c.other_user_fbid;if(a==null)return l;else{a=j.getOrFetch(a);if(a==null)return l;else return a}},function(a){var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("MercuryWorkContextInformation").addListener("change",function(c){return b("bs_curry")._1(a[3],0)}));b("bs_curry")._1(a[4],function(a){c.release();return 0});return b("bs_curry")._1(a[3],0)},k[5],k[6],k[7],function(f){var g=f[1].phone,j=f[1].email,k=f[1].location;if(g==null&&j==null&&k==null)return null;g={isCollapsible:!0,isCollapsed:a,onToggle:d,title:h._("About"),children:null};j=b("bs_caml_option").nullable_to_opt(c.solid_color);j!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(j));k=f[1].phone;j=f[1].email;f=f[1].location;return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,g,i.jsx("table",{children:i.jsxs("tbody",{children:[k==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Phone")}),i.jsx("td",{children:k})]}),j==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Email")}),i.jsx("td",{children:i.jsx(b("FBClipboardLink.react"),b("FBClipboardLinkReact.bs").componentProps("_7cys",j,j,h._("Click to copy"),h._("Copied"),void 0,void 0,void 0,void 0,void 0,void 0)(0))})]}),f==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Location")}),i.jsx("td",{children:f})]})]}),className:"_2dwl",style:{tableLayout:"fixed"}}),i.jsx("div",{children:i.jsx(b("Link.react"),{className:"_2dwm",href:e,onClick:function(a){new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(3)).log();return 0},target:"_blank",children:h._("View Profile")}),className:"_3-8z"}))},function(a){return{phone:void 0,email:void 0,location:void 0}},k[10],function(a,d){a=c.other_user_fbid;if(a==null)return 0;else{d=j.getOrFetch(a);if(d==null)return 0;else return b("bs_block").__(0,[d])}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return m(a.isCollapsed,a.thread,a.onToggle,a.href,[])});f.mercuryWorkContextInformation=j;f.component=k;f.nullInfo=l;f.make=m;f.jsComponent=a},null);
__d("MessengerSharedFileReact.bs",["cx","React","Link.react","joinClasses","MercuryAttachment"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.filename,d=a.url;a=a.mimetype;a=b("MercuryAttachment").getAttachIconClassByMime(a);return h.jsx("li",{children:h.jsx(b("Link.react"),{className:b("joinClasses")("_2a43",a),href:d,target:"_blank",children:h.jsxs("div",{children:[h.jsx("i",{className:"img"}),h.jsx("span",{children:c,className:"_2a45 _fy2"})],className:"_2a44"})}),className:"_2a42"})}c=a;f.make=c},null);
__d("MessengerSharedFilesReact.bs",["cx","fbt","bs_block","bs_curry","React","bs_js_dict","bs_js_json","bs_caml_obj","BanzaiODS","bs_belt_Array","bs_caml_array","Link.react","WebGraphQL","setTimeout","bs_belt_Option","bs_caml_option","ReasonReact.bs","promiseDone","clearTimeout","bs_js_null_undefined","MercuryAttachment","MercuryMessageStore","MessengerSpinnerReact.bs","MessengerSharedFileReact.bs","MessengerInfoPanelSectionReact.bs","MessengerThreadSharedFilesWebGraphQLQuery"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=a.message_thread;if(a==null)return!1;else{a=a.message_shared_media;if(a==null)return!1;else{a=a.page_info;if(a==null)return!1;else{a=a.has_next_page;if(a==null)return!1;else return a}}}}function a(a){a=a.page_info;if(a==null)return!1;else{a=a.end_cursor;return!(a==null)}}c=i.jsx("div",{children:i.jsx(b("MessengerSpinnerReact.bs").make,{color:"gray"}),className:"_omn"});var k=b("ReasonReact.bs").reducerComponent("MessengerSharedFilesReact");function l(a,c,d,e,f){var g=function(a,d){if(c!==void 0){b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadSharedFilesWebGraphQLQuery"))({threadFBID:c,count:b("bs_js_null_undefined").fromOption(a)})),function(a){return b("bs_curry")._1(d[3],b("bs_block").__(0,[a]))},void 0);return 0}else return 0},l=function(a,c){a=c[1][1];var d=c[1][2];if(a||d===void 0)return 0;else{a=b("bs_caml_option").valFromOption(d).message_thread;if(a==null)return 0;else{d=a.message_shared_media;if(d==null)return 0;else{a=d.edges.length;if(a>0){b("bs_curry")._1(c[3],0);return g(a+10|0,c)}else return 0}}}},m=function(a,c){return a.subscribe(function(a){var d=a.eventType,e=d===b("MercuryMessageStore").MESSAGES_RECEIVED,f=d===b("MercuryMessageStore").MESSAGES_CHANGED;d=d===b("MercuryMessageStore").MESSAGES_DELETED;var h=a.messages;if(!(h.length!==0&&!(!e&&!f&&!d)))return 0;e=b("bs_caml_array").caml_array_get(h,h.length-1|0);f=e.attachments;h=f==null?!1:f.some(function(a){return b("MercuryAttachment").isFileAttachment(a)});if(h){var i=b("setTimeout")(function(a){return g(void 0,c)},1e3);return b("bs_curry")._1(c[4],function(a){b("clearTimeout")(i);return 0})}else if(d)return b("bs_curry")._1(c[3],b("bs_block").__(1,[a.deletedMessages]));else return 0})},n=function(a){if(a[1][1])return i.jsx("div",{children:i.jsx(b("MessengerSpinnerReact.bs").make,{color:"gray"}),className:"_2n20"});else return i.jsx(b("Link.react"),{className:"_3oh- _fy2 _2wjv",onClick:b("bs_curry")._1(a[0],l),children:h._("Show All...")})},o=function(a,c){var d=c[1][0];d=d?n(c):null;return i.jsxs("ul",{children:[a.map(function(c){var a=c.filename,d=c.legacy_attachment_id,e=c.mimetype;c=c.url;if(a==null||d==null||e==null||c==null)return null;else{c=b("bs_js_json").decodeString(c);if(c!==void 0)return i.jsx(b("MessengerSharedFileReact.bs").make,{filename:a,url:c,mimetype:e},d);else return null}}),d],className:"_2o39"})};return[k[0],k[1],k[2],function(a){return[a[0],a[1],a[2],c,a[4]]},function(c){g(void 0,c);var d=new(b("MercuryMessageStore"))(a);m(d,c);return b("bs_curry")._1(c[4],function(a){d.destroy();return 0})},function(a){a=a[0];if(b("bs_caml_obj").caml_notequal(a[1][3],c))return b("bs_curry")._1(a[3],1);else return 0},k[6],k[7],function(a){var f=a[1][2];if(f!==void 0&&c!==void 0&&!(c===""||a[1][4].length<=0))return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,{isCollapsible:!0,isCollapsed:d,onToggle:e,title:h._("Shared Files"),children:o(a[1][4],a)});else return null},function(a){return[!1,!1,void 0,c,[]]},k[10],function(a,c){var d=function(a){var c=a==null?void 0:b("bs_caml_option").some(a);return function(a){return b("bs_belt_Option").flatMap(c,a)}};if(typeof a==="number")if(a===0)return b("bs_block").__(0,[[c[0],!0,c[2],c[3],c[4]]]);else return b("bs_block").__(2,[[c[0],c[1],void 0,c[3],[]],function(a){return g(void 0,a)}]);else if(a.tag){var e=a[0],f=[void 0],h=c[4].filter(function(c){var a=c.legacy_attachment_id;if(a==null){f[0]="file_missing_attachment_id";return!0}else return!b("bs_js_dict").values(e).some(function(b){b=b.attachmentIDs;if(b==null){f[0]="message_attachments_unknown";return!1}else return b.map(function(a){return a}).includes(a)})}),i=f[0];if(i!==void 0){b("BanzaiODS").bumpEntityKey(3297,"refetch_shared_files",i);return b("bs_block").__(2,[[c[0],c[1],void 0,c[3],[]],function(a){return g(void 0,a)}])}else return b("bs_block").__(0,[[c[0],c[1],c[2],c[3],h]])}else{i=a[0];h=d(i.message_thread)(function(a){return d(a.message_shared_media)(function(a){return b("bs_belt_Array").keepMap(a.edges,function(a){return b("bs_caml_option").nullable_to_opt(a.node)})})});return b("bs_block").__(0,[[j(i),!1,b("bs_caml_option").some(i),c[3],b("bs_belt_Option").getWithDefault(h,[])]])}},k[12]]}d=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.threadID,b("bs_caml_option").nullable_to_opt(a.threadFBID),a.isCollapsed,a.onToggle,[])});f.hasNextPage=j;f.hasFiles=a;f.spinner=c;f.component=k;f.make=l;f.jsComponent=d},null);
__d("MessengerSharedLinks.react",["cx","fbt","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","MercuryMessageStore","MercuryThreadTimestampReact.re","MercuryTimestamp","MessengerInfoPanelSectionReact.bs","MessengerSpinner.react","MessengerThreadSharedLinksWebGraphQLQuery","React","URI","WebGraphQL","clearTimeout","gkx","isLinkshimURI","promiseDone","setTimeout"],function(a,b,c,d,e,f,g,h){var i,j=b("MercuryThreadTimestampReact.re").make,k=b("MessengerInfoPanelSectionReact.bs").jsComponent,l=b("React"),m=5,n=36;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=!1,c.state={canShowMore:!1,isFetchingMore:!1,fetchCount:m,messageThread:null},c.$8=function(){c.$4(c.state.fetchCount+m)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$3=!0,this.$4(this.state.fetchCount),this.$5(this.props.threadID)};d.componentWillUnmount=function(){this.$2&&(b("clearTimeout")(this.$2),delete this.$2),this.$1&&this.$1.destroy(),this.$3=!1};d.componentDidUpdate=function(a,b){var c=this;a.threadFBID!==this.props.threadFBID&&this.setState({messageThread:null,fetchCount:m},function(){c.$4(c.state.fetchCount)})};d.render=function(){var a=this,c;if(!b("gkx")("678615"))return null;c=(c=this.state.messageThread)!=null?(c=c.shared_links)!=null?c.length:c:c;return!this.props.threadFBID||!this.state.messageThread||!this.state.messageThread.shared_links||c==null||c==0?null:l.jsx(k,{isCollapsible:!0,isCollapsed:this.props.isCollapsed,customColor:this.props.customColor,onToggle:this.props.onToggle,title:h._("Shared Links"),children:l.jsxs("div",{className:"_2wjt",children:[this.state.messageThread.shared_links.map(function(b,c){return a.$6(b,c)}),this.$7()]})})};d.$4=function(a){var c=this;if(!this.$3)return;var d=this.props.threadFBID;if(!d)return;this.setState({isFetchingMore:!0});b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadSharedLinksWebGraphQLQuery"))({threadFBID:d,count:a})),function(b){var d;if(!c.$3)return!1;var e=(d=b.message_thread)!=null?(d=d.shared_links)!=null?d.length:d:d;c.setState(function(c){return{messageThread:b.message_thread,canShowMore:e?e>=a:!1,isFetchingMore:!1,fetchCount:a}})})};d.$5=function(a){var c=this;this.$1=new(b("MercuryMessageStore"))(a);this.$1.subscribe(function(a){if(a.messages.length<1)return;var d=a.eventType==b("MercuryMessageStore").MESSAGES_RECEIVED,e=a.eventType==b("MercuryMessageStore").MESSAGES_CHANGED;if(!d&&!e)return;d=a.messages[a.messages.length-1];d.attachments&&d.attachments.length>0&&(c.$2=b("setTimeout")(function(){delete c.$2,c.$4(c.state.fetchCount)},1e3))})};d.$6=function(a,c){var d=a.media&&a.media.image&&a.media.image.uri?l.jsx(b("LayoutColumn.react"),{children:l.jsx(b("Image.react"),{className:"_2wjy",src:a.media.image.uri,style:{height:n,width:n}})}):null,e=null;a.sharer&&a.sharer.name?e=l.jsx("div",{className:"_2wj_",children:h._("Sent by {sender_name}",[h._param("sender_name",a.sharer.name)])}):a.description&&a.description.text?e=l.jsx("div",{className:"_2wj_",children:a.description.text}):e=l.jsx("div",{className:"_2wj_",children:this.$9(a.url)});return l.jsx("li",{children:l.jsx(b("Link.react"),{className:"_2pit _2wju",style:{color:this.props.customColor},target:"_blank",href:a.url,children:l.jsxs(b("Layout.react"),{className:"_2wjz clearfix",children:[d,l.jsxs(b("LayoutFillColumn.react"),{className:"_653d _159d",children:[l.jsx("div",{className:"_2wj-",children:a.title_with_entities.text}),e]}),l.jsx(b("LayoutColumn.react"),{children:a.creation_time?this.$10(a.creation_time*1e3):null})]})})},c)};d.$10=function(a){var c;return l.jsx(j,{className:"_1ht7 _159e",time:a,title:(c=b("MercuryTimestamp").getAbsoluteTimestamp(a))!=null?c:void 0,text:b("MercuryTimestamp").getRelativeTimestamp(a)})};d.$9=function(a){if(a==null)return"";var c=new(i||(i=b("URI")))(a);if(!b("isLinkshimURI")(c))return a;c=c.getQueryData().u;return!c?a:c};d.$7=function(){if(!this.state.canShowMore)return null;return this.state.isFetchingMore?l.jsx("div",{className:"_2n20",children:l.jsx(b("MessengerSpinner.react"),{color:"gray"})}):l.jsx(b("Link.react"),{className:"_3oh- _fy2 _2wjv",onClick:this.$8,children:h._("Show More...")})};return c}(l.PureComponent);e.exports=a},null);
__d("MessengerSharedPhotosAlbumViewContainerReact.bs",["ReasonReact.bs","MessengerSharedPhotosAlbumViewContainer.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:a,onCloseSharedPhotos:c,threadID:d,viewedPhoto:e},[])}f.make=a},null);
__d("MessengerSharedPhotosVideosData.bs",["bs_curry","bs_js_dict","bs_belt_Array","bs_caml_option","MessengerThreadSharedMediaHelper","MessengerSharedPhotosVideosBaseData.bs"],function(a,b,c,d,e,f){"use strict";function g(a){a=b("bs_belt_Array").get(b("bs_js_dict").values(a),0);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);if(a==null)return;else return b("bs_caml_option").some(a.message_shared_media)}}function h(a,c,d,e){a=g(a);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var f=d[0];f=f[1];f=[1,f];d=d[1];if(d!==void 0){d=d;var h=a.edges;h=h.length!==0?[f,[h.concat(d[0]),a.page_info.start_cursor,d[2],a.page_info.has_next_page]]:[f,[d[0],d[1],d[2],a.page_info.has_next_page]]}else h=[f,[a.edges,a.page_info.start_cursor,a.page_info.end_cursor,a.page_info.has_next_page]];b("MessengerSharedPhotosVideosBaseData.bs").set(e,h);return b("bs_curry")._1(c,0)}else return 0}function i(a,c,d,e){a=g(a);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var f=d[0];f=f[0];f=[f,1];d=d[1];if(d!==void 0){d=d;var h=a.edges;h=h.length!==0?[f,[d[0].concat(h),d[1],a.page_info.end_cursor,a.page_info.has_next_page]]:[f,[d[0],d[1],d[2],a.page_info.has_next_page]]}else h=[f,[a.edges,a.page_info.start_cursor,a.page_info.end_cursor,a.page_info.has_next_page]];b("MessengerSharedPhotosVideosBaseData.bs").set(e,h);return b("bs_curry")._1(c,0)}else return 0}function j(a,c,d,e,f,g,h){var j=a[0];j=[j[0],0];a=a[1];j=[j,a];b("MessengerSharedPhotosVideosBaseData.bs").set(c,j);b("bs_curry")._1(h,0);b("MessengerThreadSharedMediaHelper").loadMorePrevious(d,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,e,function(a){var d=b("MessengerSharedPhotosVideosBaseData.bs").get(c);if(d!==void 0)return i(a,g,d,c);else return 0});return 0}function k(a,c,d,e,f,g,i){var j=a[0];j=[0,j[1]];a=a[1];j=[j,a];b("MessengerSharedPhotosVideosBaseData.bs").set(c,j);b("bs_curry")._1(i,0);b("MessengerThreadSharedMediaHelper").loadMoreLatest(d,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,e,function(a){var d=b("MessengerSharedPhotosVideosBaseData.bs").get(c);if(d!==void 0)return h(a,g,d,c);else return 0});return 0}function a(a,c,d,e,f){var g=b("MessengerSharedPhotosVideosBaseData.bs").get(d);if(g!==void 0){g=g;if(g[0][0]){var h=g[1];if(h!==void 0){h=h;if(h[0].length!==0)return k(g,d,c,a,h[1],e,f)}return j(g,d,c,a,void 0,e,f)}else return 0}else return j([[1,1],void 0],d,c,a,void 0,e,f)}function c(a,c,d,e,f){var g=b("MessengerSharedPhotosVideosBaseData.bs").get(d);if(g!==void 0){g=g;if(g[0][1]){var h=g[1];if(h!==void 0){h=h;if(h[3]){if(h[0].length!==0)return j(g,d,c,a,h[2],e,f)}else return 0}return j(g,d,c,a,void 0,e,f)}else return 0}else return j([[1,1],void 0],d,c,a,void 0,e,f)}e=(d=b("MessengerSharedPhotosVideosBaseData.bs")).data;var l=d.get,m=d.set;d=d.localRemove;f.data=e;f.get=l;f.set=m;f.localRemove=d;f.convertPayload=g;f.onFetchNewerDone=h;f.onFetchOlderDone=i;f.mutateDataThenLoadMoreFromRecentToOld=j;f.mutateDataThenLoadMoreFromOldToRecent=k;f.fetchNewer=a;f.fetchOlder=c},null);
__d("SpotlightMessengerSharedMediaViewerContainerReact.bs",["ReasonReact.bs","SpotlightMessengerSharedMediaViewerContainer.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){return b("ReasonReact.bs").wrapJsForReason(b("SpotlightMessengerSharedMediaViewerContainer.react"),{onClosePhotoView:a,openAlbum:c,photoID:d,rootClassName:e,threadID:f,disableForward:g},[])}f.make=a},null);
__d("SpotlightViewerReact.bs",["ReasonReact.bs","SpotlightViewer"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("SpotlightViewer"),{className:a,onHide:c,open:d},e)}f.make=a},null);
__d("MessengerSharedPhotosReact.bs",["cx","fbt","bs_block","bs_curry","React","bs_caml_obj","bs_belt_Array","MercuryIDs","bs_caml_option","ReasonReact.bs","MercuryActionType","MercuryAttachment","MercuryDispatcher","SphericalPhotoUtils","MercuryPayloadSource","SpotlightViewerReact.bs","MessengerSpinnerReact.bs","MessengerSharedPhotoReact.bs","MessengerInfoPanelSectionReact.bs","MessengerSharedPhotosVideosData.bs","MessengerSharedPhotosAlbumViewContainerReact.bs","SpotlightMessengerSharedMediaViewerContainerReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=i.createElement("div",{className:"_4dfu"}),k=b("ReasonReact.bs").reducerComponent("MessengerSharedPhotosReact");function l(a,c,d,e,f,g,l,m){var n=function(a){var f=b("MessengerSharedPhotosVideosData.bs").get(g);if(l!==void 0){var h=b("bs_caml_option").valFromOption(l);if(f!==void 0)if(f[0][1]&&!e&&b("bs_curry")._1(c,0)&&b("bs_curry")._1(d,0)!==0)return b("MessengerSharedPhotosVideosData.bs").fetchOlder(12,h,g,function(c){return b("bs_curry")._1(a[3],0)},function(c){return b("bs_curry")._1(a[3],0)});else return 0;else return b("MessengerSharedPhotosVideosData.bs").fetchOlder(12,h,g,function(c){return b("bs_curry")._1(a[3],0)},function(c){return b("bs_curry")._1(a[3],0)})}else return 0};return[k[0],k[1],k[2],k[3],function(c){var d=b("MercuryDispatcher").getForFBID(a),e=d.subscribe("update-messages",function(a,d){if(d==null||d.payload_source!==b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)return 0;else{a=d.actions;if(a.length!==1)return 0;else{d=a[0];a=d.thread_id;var e=b("MercuryIDs").getThreadFBIDFromThreadID(a),f=d.attachments;if(!(f==null)){var g=f.some(function(a){if(b("MercuryAttachment").isPhotoAttachment(a))return!0;else return b("MercuryAttachment").isVideoAttachment(a)});g&&(a==null||b("MessengerSharedPhotosVideosData.bs").fetchNewer(Math.max(f.length,10),e,a,function(a){return b("bs_curry")._1(c[3],0)},function(a){return b("bs_curry")._1(c[3],0)}))}if(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").REMOVE_MESSAGE)){g=d.messageId;f=d.thread_id;g==null||(f==null||b("bs_curry")._1(c[3],0))}if(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").DELETE_MESSAGES)){e=d.message_ids;a=d.thread_id;if(!(e==null)&&!(a==null))return b("bs_curry")._1(c[3],0);else return 0}else return 0}}});b("bs_curry")._1(c[4],function(a){e.unsubscribe();return 0});return n(c)},function(a){return n(a[0])},k[6],k[7],function(a){var c=b("MessengerSharedPhotosVideosData.bs").get(g);if(l!==void 0&&c!==void 0){var d=c[1];if(d!==void 0&&d[0].length!==0){d=c;c=d[1];d=d[0][1];var k=b("bs_caml_option").valFromOption(l),m=a[1][1];m=m!==void 0?b("ReasonReact.bs").element(void 0,void 0,b("SpotlightMessengerSharedMediaViewerContainerReact.bs").make(function(c){return b("bs_curry")._1(a[3],1)},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(0,[c]))},b("bs_caml_option").valFromOption(m),"",k,!1,[])):null;var n=a[1][0];k=n!==void 0?b("ReasonReact.bs").element(void 0,"spotlightViewer",b("SpotlightViewerReact.bs").make("_3ode",function(c){return b("bs_curry")._1(a[3],2)},!0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerSharedPhotosAlbumViewContainerReact.bs").make(function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))},function(c){return b("bs_curry")._1(a[3],2)},k,b("bs_caml_option").valFromOption(n),[]))])):null;n=h._("Shared Photos");var o=i.createElement("div",{className:"_7jxv"},i.createElement(b("MessengerSpinnerReact.bs").make,{}));return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,{isCollapsible:!0,isCollapsed:e,onToggle:f,title:n,children:null},m,k,i.createElement("div",{className:"_40jj _5l-3"},b("bs_belt_Array").map(c[0],function(e){var c=e.node.image;c=c==null?["_3m31 _ooh",void 0]:["_3m31",c.uri];var f=c[1];e=e.node;var g=e.photo_encodings,d;if(g==null||g.length===0)d=[!1,f];else{g=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(g).smallThumbnail;f=g==null?f:g;d=[!0,f]}g={className:c[0],fbid:e.legacy_attachment_id,onClick:function(c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[c]))},isSpherical:d[0]};f=d[1];f!==void 0&&(g.uri=b("bs_caml_option").valFromOption(f));return i.jsx(b("MessengerSharedPhotoReact.bs").make,g,e.legacy_attachment_id)})),d?null:o,d&&!c[3]?j:null)}else return null}else return null},function(a){return[void 0,void 0]},k[10],function(a,c){if(typeof a==="number")switch(a){case 0:return b("bs_block").__(0,[c]);case 1:return b("bs_block").__(0,[[c[0],void 0]]);case 2:return b("bs_block").__(0,[[void 0,c[1]]])}else switch(a.tag|0){case 0:return b("bs_block").__(0,[[b("bs_caml_option").some(a[0]),void 0]]);case 1:return b("bs_block").__(0,[[void 0,b("bs_caml_option").some(a[0])]]);case 2:return b("bs_block").__(0,[[c[0],b("bs_caml_option").some(a[0])]])}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.viewer,a.getIsScrolledToBottom,a.getScrollableHeight,a.isCollapsed,a.onToggle,a.threadID,b("bs_caml_option").nullable_to_opt(a.threadFBID),[])});f.endOfMediaIndicator=j;f.component=k;f.make=l;f.jsComponent=a},null);
__d("MessengerThreadInfoPanelScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","React","ReactDOM","prop-types"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={prevHeight:-1,prevIsScrolledToBottom:!1},d.$1=null,d.isScrolledToBottom=function(){if(d.refs.scrollable)return d.refs.scrollable.isScrolledToBottom();else return!0},d.getHeight=function(){if(d.refs.scrollable)return b("ReactDOM").findDOMNode(d.refs.scrollable).offsetHeight;else return 0},d.$2=function(){var a=d.isScrolledToBottom(),b=d.getHeight();(d.state.prevIsScrolledToBottom!==a||d.state.prevHeight!==b)&&d.setState({prevHeight:b,prevIsScrolledToBottom:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$2,children:g.jsx(b("MessengerScrollableArea.react"),{height:"100%",onScroll:this.$2,ref:"scrollable",children:this.props.children(this.state.prevHeight,this.state.prevIsScrolledToBottom,this.isScrolledToBottom,this.getHeight)})})};return c}(g.Component);a.propTypes={children:b("prop-types").func.isRequired};e.exports=a},null);
__d("WorkChatEditGroupThreadDescriptionDialogReact.bs",["cx","fbt","bs_curry","React","bs_string","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerTextWithEmojiInputReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("WorkChatEditGroupThreadDescriptionDialogReact");function k(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function a(a,c,d){var e=function(d,e){d=e[1][0][0];if(d!==void 0){e=b("bs_string").trim(b("bs_caml_option").valFromOption(d).getValue());d=e===a;d||c!==void 0&&b("bs_curry")._1(c,e)}return b("MessengerDialogs.bs").removeDialog(void 0,0)};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(c){var d,f,g=(d=b("ReasonReact.bs")).element(void 0,b("bs_curry")._1(c[0],k),b("MessengerTextWithEmojiInputReact.bs").make("_7rkc",void 0,void 0,void 0,h._("Tell your coworkers what this chat is for, note important links or list FAQs"),a,void 0,[]));return d.element(void 0,void 0,(f=b("MessengerDialogReact.bs")).Dialog.make("_7rkd",void 0,void 0,void 0,void 0,void 0,void 0,500,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Edit Description")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_7rke",children:g}),d.element(void 0,void 0,f.Footer.make(void 0,void 0,[d.element(void 0,void 0,f.CancelButton.make(void 0,[])),d.element(void 0,void 0,f.Button.make(void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(c[0],e),0,void 0,void 0,void 0,[]))]))]))},function(a){return[[void 0]]},j[10],function(a,b){return 0},j[12]]}f.component=j;f.setDescriptionInputRef=k;f.make=a},null);
__d("WorkChatTextWithEntitiesTruncated.bs",["ReasonReact.bs","bs_js_null_undefined","TextWithEntitiesTruncated.react"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;return b("ReasonReact.bs").wrapJsForReason(b("TextWithEntitiesTruncated.react"),{text:(g=b("bs_js_null_undefined")).fromOption(a),ranges:g.fromOption(c),maxLines:g.fromOption(d),truncationStyle:g.fromOption(e)},f)}f.make=a},null);
__d("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs",["ix","cx","fbt","Keys","Image.bs","React","asset","ReasonReact.bs","getURLRanges","MessengerDialogs.bs","WorkChatTextWithEntitiesTruncated.bs","WorkChatEditGroupThreadDescriptionDialogReact.bs"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){var c=a.thread,d=a.actionsEnabled,e=a.onEdit;a=c.description;a=a==null?[]:b("getURLRanges")(a);var f=c.description,h=f==null?"":f,k=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatEditGroupThreadDescriptionDialogReact.bs").make(h,e,[]))})};f=function(a){a.preventDefault();return k(0)};var l=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return k(0)}else return 0},m=c.description;m=m==null?d?[j.createElement("div",{className:"_7rkb",role:"button",tabIndex:0,onKeyDown:l,onClick:f},i._("Add a Description")),!1]:[i._("No description"),!0]:[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatTextWithEntitiesTruncated.bs").make(m,a,4,"see-more-and-less",[])),!1];a=c.description;c=d&&!(a==null)?j.createElement("div",{className:"_7rev"},j.createElement("div",{className:"_7rew",role:"button",tabIndex:0,onKeyDown:l,onClick:f},j.createElement("div",{className:"_7rex"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("478817"),void 0,void 0,void 0,void 0,[]))),j.createElement("div",{className:"_7rey"},i._("Edit")))):null;return j.createElement("div",{className:"_7rez"},j.createElement("div",{className:"_7re-",role:"button",tabIndex:0},j.createElement("div",{className:"_7re_"+(m[1]?" _7rf0":"")},m[0])),c)}c=a;f.make=c},null);
__d("WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs",["cx","fbt","React","bs_caml_option","ReasonReact.bs","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelSectionReact.bs","MessagingThreadCustomizationSource","WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("ReasonReact.bs").statelessComponent("WorkChatInfoPanelGroupThreadDescriptionContainerReact");function a(a){var c=a.isCollapsed,d=a.onToggle,e=a.thread,f=a.viewer;if(!e.is_subscribed||b("MessageRequestUtils").isMessageRequest(e))return null;else{a=b("MessengerAdminGroupUtils").canUpdateThreadDescription(e,f);var g=function(a){if(b("MercuryThreadInfo").isEmptyLocalThread(e))return 0;else{b("MercuryThreadActions").getForFBID(f).changeGroupThreadDescription(e.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return 0}};a=i.createElement("div",{className:"_7rka"},i.createElement(b("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs").make,{thread:e,actionsEnabled:a,onEdit:g}));g={isCollapsible:!0,isCollapsed:c,onToggle:d,title:h._("Group Description"),children:a};c=b("bs_caml_option").nullable_to_opt(e.solid_color);c!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,g)}}d=a;e=a;f.component=c;f.make=d;f.jsComponent=e},null);
__d("MessengerThreadInfoPanelContainer.react",["cx","fbt","AsyncRequest","Bootloader","BootloadOnRender.react","CoworkerThreadContextBanner.react","CurrentUser","ErrorBoundary.react","IgnoreMessagesTypedLogger","ImmutableObject","JSResource","LazyComponent.react","LoadOnRender.react","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadIDMap","MercuryThreadInfo","MessageRequestUtils","MessageThreadAssociatedObjectUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfig","MessengerConfirmBlockThreadDialogReact.bs","MessengerConfirmLeaveGroupDialogReact.bs","MessengerContactAdapters","MessengerContactListRowActions","MessengerDialogs.bs","MessengerDomIDs.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelAssociatedObjectSection.react","MessengerInfoPanelGroupSection.react","MessengerInfoPanelGroupThreadDescriptionContainerReact.bs","MessengerInfoPanelNameSectionM4React.re","MessengerInfoPanelNameSectionReact.bs","MessengerInfoPanelPeopleSectionReact.re","MessengerInfoPanelPrivacySupportOptionsContainerReact.bs","MessengerInfoPanelSearchReact.bs","MessengerInfoPanelThreadOptionsContainerReact.bs","MessengerInfoPanelWorkContextContainerReact.bs","MessengerLeaveGroupAction","MessengerMessageRequestsTypedLogger","MessengerObjectAssociationType","MessengerSettingsActions","MessengerSettingsStore","MessengerSharedFilesReact.bs","MessengerSharedLinks.react","MessengerSharedPhotosReact.bs","MessengerThreadInfoPanelScrollableArea.react","React","StoreAndPropBasedStateMixin","WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs","WorkGalahadSettings","WorkModeConfig","XMessagingSetThreadImageController","XMessagingSetThreadNameController","createReactClass_DEPRECATED","getPageIDFromThreadID","gkx","immutable","lazyLoadComponent","prop-types"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerConfirmBlockThreadDialogReact.bs").make,j=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,k=b("MessengerContactListRowActions").handleContactActions,l=b("MessengerDomIDs.bs").ids,m=b("MessengerInfoPanelGroupThreadDescriptionContainerReact.bs").jsComponent,n=b("MessengerInfoPanelNameSectionM4React.re").make,o=b("MessengerInfoPanelNameSectionReact.bs").jsComponent,p=b("MessengerInfoPanelPeopleSectionReact.re").make,q=b("MessengerInfoPanelPrivacySupportOptionsContainerReact.bs").make,r=b("MessengerInfoPanelSearchReact.bs").jsComponent,s=b("MessengerInfoPanelThreadOptionsContainerReact.bs").jsComponent,t=b("MessengerInfoPanelWorkContextContainerReact.bs").jsComponent,u=b("MessengerSharedFilesReact.bs").jsComponent,v=b("MessengerSharedPhotosReact.bs").jsComponent,w=b("React"),x=b("WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs").jsComponent,y=b("lazyLoadComponent")(b("JSResource")("MessengerInfoPanelWorkGroupLinksContainerReact").__setRef("MessengerThreadInfoPanelContainer.react")),z=b("lazyLoadComponent")(b("JSResource")("WorkChatInfoPanelThreadOptionsContainerReact").__setRef("MessengerThreadInfoPanelContainer.react"));c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadInfoPanelContainer",mixins:[b("StoreAndPropBasedStateMixin")(b("MessengerSettingsStore"))],propTypes:{className:(a=b("prop-types")).string.isRequired,blockedIds:a.any,contactData:a.object,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired,hideGroupInfoInThreadInfoPanel:a.bool.isRequired},statics:{calculateState:function(){var a=b("MessengerSettingsStore").getSettings(),c=a.links_section_collapsed,d=a.associated_object_section_collapsed,e=a.people_section_collapsed,f=a.photos_section_collapsed,g=a.files_section_collapsed,h=a.thread_section_collapsed,i=a.thread_stats_section_collapsed,j=a.group_section_collapsed,k=a.group_approval_section_collapsed,l=a.group_link_section_collapsed,m=a.description_section_collapsed,n=a.privacy_section_collapsed;a=a.page_link_section_collapsed;return{links_section_collapsed:c,associated_object_section_collapsed:d,people_section_collapsed:e,photos_section_collapsed:f,files_section_collapsed:g,thread_section_collapsed:h,thread_stats_section_collapsed:i,group_section_collapsed:j,group_approval_section_collapsed:k,group_link_section_collapsed:l,description_section_collapsed:m,privacy_section_collapsed:n,page_link_section_collapsed:a}}},render:function(){var a=this,c=this.props.contactData||{},d=this.props.thread.thread_fbid||this.props.thread.other_user_fbid,e=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(this.props.viewer,this.props.blockedIds,this.props.thread),f=b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,c.contact);return w.jsx(b("MessengerThreadInfoPanelScrollableArea.react"),{className:this.props.className,children:function(g,i,j,k){return w.jsxs("div",{className:"_3tkv",id:l.THREAD_INFO_PANEL,children:[w.jsx("h3",{className:"accessible_elem",children:h._("Conversation Information")}),b("MessengerDotComAndInboxM4Check.bs").yes?w.jsx(n,{contact:c.contact,isUserActive:c.isUserActive||!1,lastActive:c.lastActive,onThreadNameChange:a._handleThreadNameChange,onThreadPhotoChange:a._handleThreadPhotoChange,platform:c.platform,thread:a.props.thread,viewer:a.props.viewer}):w.jsx(o,{contact:c.contact,isUserActive:c.isUserActive||!1,isBlocked:e,lastActive:c.lastActive,onArchive:a._handleArchive,onDelete:a._handleDelete,onLeaveGroup:a._handleLeaveGroup,onMarkRead:a._handleMarkRead,onMarkSpam:a._handleMarkSpam,onMarkUnread:a._handleMarkUnread,onMute:a._handleMuteChange,onThreadNameChange:a._handleThreadNameChange,onThreadPhotoChange:a._handleThreadPhotoChange,onPin:a._handlePin,onUnpin:a._handleUnpin,onUnmute:a._handleUnmute,onIgnore:a._handleIgnore,onBlock:a._handleBlock,onUnblock:a._handleUnblock,showBlock:f,participants:a.props.participants,platform:c.platform,showLeaveGroup:a.props.thread.is_subscribed&&!a.props.thread.is_canonical,showReport:a._isPageChat(),thread:a.props.thread,viewer:a.props.viewer}),a._renderAssociatedObject(),a._renderWorkContext(),a._renderMarketplaceBanner(),a._renderCoworkerThreadBanner(),b("CurrentUser").isWorkUser()?w.jsx(w.Suspense,{fallback:w.jsx("div",{}),children:w.jsx(z,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,search:b("WorkGalahadSettings").isGalahadEnabled?null:w.jsx(r,{thread:a.props.thread}),viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle,contactData:c})}):b("MessengerDotComAndInboxM4Check.bs").yes?w.jsx(s,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle}):w.jsx(s,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle}),a._renderPageLink(),a._renderGroupDescription(),a._renderGroupLink(),b("MessengerAdminGroupUtils").canSeeGroupOptionsSection(a.props.thread,a.props.viewer)?a._renderGroupOptions():null,a.props.thread.is_canonical?null:a._renderMembers(),b("MessengerDotComAndInboxM4Check.bs").yes?w.jsx(q,{contact:c.contact,isBlocked:e,isCollapsed:a.state.privacy_section_collapsed,isPage:a._isPageChat(),participants:a.props.participants,showBlock:f,thread:a.props.thread,viewer:a.props.viewer,onBlock:a._handleBlock,onIgnore:a._handleIgnore,onUnblock:a._handleUnblock,onToggle:a._handlePrivacySectionToggle}):null,w.jsx(b("MessengerSharedLinks.react"),{threadID:a.props.thread.thread_id,threadFBID:d,customColor:a.props.thread.solid_color,isCollapsed:a.state.links_section_collapsed,onToggle:a._handleLinksSectionToggle}),w.jsx(u,{threadID:a.props.thread.thread_id,threadFBID:d,isCollapsed:a.state.files_section_collapsed,onToggle:a._handleFilesSectionToggle}),w.jsx(v,{getIsScrolledToBottom:j,getScrollableHeight:k,isCollapsed:a.state.photos_section_collapsed,onToggle:a._handlePhotosSectionToggle,threadID:a.props.thread.thread_id,threadFBID:d,viewer:a.props.viewer})]})}})},_handleArchive:function(){this._getThreadActions().archive(this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,"menu_item_in_info_panel")},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,"menu_item_in_info_panel")},_handleDelete:function(){this._getThreadActions()["delete"](this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){this._getThreadActions().markSpam(this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleIgnore:function(){this._getThreadActions().changeFolder(this.props.thread.thread_id,"other"),b("MessengerActions").selectThread(null),new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlock:function(){var a=this,b=this.props.thread;b=b.thread_id;var c=this.props.contactData&&this.props.contactData.contact.short_name||h._("sender");b&&this._getThreadActions().blockIgnoreOnMessengerDotCom(!0,b,function(){a._handleAfterBlock(c)})},_handleAfterBlock:function(a){var c=this.props,d=c.thread;c=c.viewer;b("MessengerDialogs.bs").showDialog(function(){return w.jsx(i,{participantName:a})});c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.thread_id,b("MercuryIDs").getParticipantIDFromUserID(c));d.folder===b("MessagingTag").PENDING&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint("settings").log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_handleMuteChange:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handleContactSelect:function(a,c){c=b("MercuryIDs").getThreadIDFromParticipantID(a.uid);c&&b("MessengerActions").selectThread(c)},_handleLeaveGroup:function(){var a=this;if(this.props.viewer){var c=b("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);b("MessengerDialogs.bs").showDialog(function(){return w.jsx(j,{onLeave:a._onLeaveGroupConfirm,isViewerAdmin:c,thread:a.props.thread})})}},_onLeaveGroupConfirm:function(){b("MessengerLeaveGroupAction").leaveGroup(this.props.thread,this.props.viewer)},_handleThreadNameChange:function(a){var c=b("XMessagingSetThreadNameController").getURIBuilder().getURI(),d=this.props.thread.thread_fbid;if(d===null){var e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(this.props.thread.thread_id)}new(b("AsyncRequest"))().setURI(c).setData({thread_id:d,thread_name:a}).send()},_handleThreadPhotoChange:function(a,c){c=(c=c)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c;if(!c)return;var d=b("XMessagingSetThreadImageController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(a),thread_image_id:c}).send()},_handleAssociatedObjectSectionToggle:function(){b("MessengerSettingsActions").changeSettings({associated_object_section_collapsed:!this.state.associated_object_section_collapsed})},_handlePeopleSectionToggle:function(){b("MessengerSettingsActions").changeSettings({people_section_collapsed:!this.state.people_section_collapsed})},_handlePhotosSectionToggle:function(){b("MessengerSettingsActions").changeSettings({photos_section_collapsed:!this.state.photos_section_collapsed})},_handleFilesSectionToggle:function(){b("MessengerSettingsActions").changeSettings({files_section_collapsed:!this.state.files_section_collapsed})},_handleThreadSectionToggle:function(){b("MessengerSettingsActions").changeSettings({thread_section_collapsed:!this.state.thread_section_collapsed})},_handleThreadStatsSectionToggle:function(){b("MessengerSettingsActions").changeSettings({thread_stats_section_collapsed:!this.state.thread_stats_section_collapsed})},_handleGroupOptionsSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_section_collapsed:!this.state.group_section_collapsed})},_handleGroupOptionsApprovalSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_approval_section_collapsed:!this.state.group_approval_section_collapsed})},_handleLinksSectionToggle:function(){b("MessengerSettingsActions").changeSettings({links_section_collapsed:!this.state.links_section_collapsed})},_handleDescriptionSectionToggle:function(){b("MessengerSettingsActions").changeSettings({description_section_collapsed:!this.state.description_section_collapsed})},_handleGroupLinkSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_link_section_collapsed:!this.state.group_link_section_collapsed})},_handlePrivacySectionToggle:function(){b("MessengerSettingsActions").changeSettings({privacy_section_collapsed:!this.state.privacy_section_collapsed})},_handlePageMDotMeLinkSectionToggle:function(){b("MessengerSettingsActions").changeSettings({page_link_section_collapsed:!this.state.page_link_section_collapsed})},_getThreadActions:function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return b("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return b("MercuryMessageObject").getForFBID(this.props.viewer)},_isPageChat:function(){return!!b("getPageIDFromThreadID")(this.props.thread.thread_id)},_renderAssociatedObject:function(){var a=this.props,c=a.thread;a=a.hideGroupInfoInThreadInfoPanel;var d=c.work_associated_group||c.object_association_type===b("MessengerObjectAssociationType").GENERAL_CHAT;if(b("CurrentUser").isWorkUser()&&d&&!a)return b("gkx")("808098")?w.jsx(w.Suspense,{fallback:w.jsx("div",{}),children:w.jsx(y,{isCollapsed:this.state.associated_object_section_collapsed,thread:c,onToggle:this._handleAssociatedObjectSectionToggle})}):null;d=b("MessageThreadAssociatedObjectUtils").shouldRender(c.associated_object);return!d?null:w.jsx(b("MessengerInfoPanelAssociatedObjectSection.react"),{isCollapsed:this.state.associated_object_section_collapsed,onToggle:this._handleAssociatedObjectSectionToggle,customColor:c.solid_color,associatedObject:c.associated_object})},_renderWorkContext:function(){var a=this.props.contactData||{};a=a.contact;return!b("CurrentUser").isWorkUser()||!a||!a.href||b("WorkModeConfig").hide_email_address||a.user_type!=="user"&&a.user_type!=="fb4c"?null:w.jsx(t,{isCollapsed:this.state.thread_stats_section_collapsed,thread:this.props.thread,onToggle:this._handleThreadStatsSectionToggle,href:a.href})},_renderMarketplaceBanner:function(){var a,c,d,e;e=(e=this.props.thread)!=null?e.marketplace_thread_data:e;d=(d=e)!=null?d.for_sale_item:d;c=(c=e)!=null?c.buyer_fbid:c;a=(a=e)!=null?a.seller_fbid:a;e=(e=e)!=null?e.eligible_profile_selling_invoice_actions:e;if(!d||!c||!a)return null;var f=this.props.thread.thread_fbid||this.props.thread.other_user_fbid;return w.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MarketplaceMessengerContextBanner.react").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:w.jsx("div",{}),component:w.jsx(b("LazyComponent.react"),{buyerID:c,eligibleProfileSellingInvoiceActions:e,forSaleItem:d,renderLocation:"messenger",sellerID:a,threadFBID:f})})},_renderCoworkerThreadBanner:function(){var a;a=(a=this.props.thread)==null?void 0:a.group_thread_subtype;return a!==13?null:w.jsx(b("CoworkerThreadContextBanner.react"),{})},_renderPageLink:function(){if(b("CurrentUser").isWorkUser()||!this._isPageChat())return null;var a=function(a){b("Bootloader").loadModules(["MessengerInfoPanelPageThreadMDotMeLinkContainerReact.bs"],function(b){b=b.jsComponent;return a(b)},"MessengerThreadInfoPanelContainer.react")};return w.jsx(b("ErrorBoundary.react"),{children:w.jsx(b("LoadOnRender.react"),{component:w.jsx(b("LazyComponent.react"),{isCollapsed:this.state.page_link_section_collapsed,onToggle:this._handlePageMDotMeLinkSectionToggle,thread:this.props.thread,viewer:this.props.viewer}),loader:a,placeholder:w.jsx("div",{})})})},_renderGroupDescription:function(){var a;if(b("CurrentUser").isWorkUser()&&!this.props.thread.is_canonical)return w.jsx(x,{isCollapsed:this.state.description_section_collapsed,onToggle:this._handleDescriptionSectionToggle,thread:this.props.thread,viewer:this.props.viewer});if(!b("MessengerConfig").IGDE)return null;a=this.props.thread.marketplace_thread_data&&(((a=this.props.thread.marketplace_thread_data)!=null?a.for_sale_item:a)||((a=this.props.thread.marketplace_thread_data)!=null?a.buyer_fbid:a)||((a=this.props.thread.marketplace_thread_data)!=null?a.seller_fbid:a));a=a||this.props.thread.is_canonical||b("MessageRequestUtils").isMessageRequest(this.props.thread)||this.props.thread.associated_object;return a?null:w.jsx(m,{isCollapsed:this.state.description_section_collapsed,onToggle:this._handleDescriptionSectionToggle,thread:this.props.thread,viewer:this.props.viewer})},_renderGroupLink:function(){return w.jsx(b("BootloadOnRender.react"),{component:w.jsx(b("LazyComponent.react"),{isCollapsed:this.state.group_link_section_collapsed,onToggle:this._handleGroupLinkSectionToggle,thread:this.props.thread,viewer:this.props.viewer}),loader:b("JSResource")("messengerInfoPanelGroupLinkContainerReactComponent").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:w.jsx("div",{})})},_renderGroupOptions:function(){return w.jsx(b("MessengerInfoPanelGroupSection.react"),{isOptionsCollapsed:this.state.group_section_collapsed,onOptionsToggle:this._handleGroupOptionsSectionToggle,isApprovalsCollapsed:this.state.group_approval_section_collapsed,onApprovalToggle:this._handleGroupOptionsApprovalSectionToggle,onToggle:this._handleThreadSectionToggle,participants:this.props.participants,viewer:this.props.viewer,thread:this.props.thread})},_renderMembers:function(){return w.jsx(p,{canViewerReply:b("MercuryThreadInfo").canReply(this.props.thread),contactAdapter:b("MessengerContactAdapters").fromMercuryParticipant,isCollapsed:this.state.people_section_collapsed,isViewerSubscribed:this.props.thread.is_subscribed,onAddPeopleClick:this._handleAddPeopleClick,onContactAction:this._handleContactAction2,onContactSelect:this._handleContactSelect2,onToggle:this._handlePeopleSectionToggle,participants:this.props.participants,viewer:this.props.viewer,admins:this.props.thread.admins,thread:this.props.thread})},_handleAddPeopleClick:function(a){var c=this;a.preventDefault();b("MessengerDialogs.bs").showDialog(function(){return w.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("messengerAddToConversationDialogReactComponent").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:w.jsx("div",{}),component:w.jsx(b("LazyComponent.react"),{thread:c.props.thread,viewer:c.props.viewer})})})},_handleContactAction2:function(a,b){k({action:a,contact:b,viewer:this.props.viewer,thread:this.props.thread,participants:this.props.participants,handleContactSelect:this._handleContactSelect})},_handleContactSelect2:function(a,c){this._handleContactSelect(b("MessengerContactAdapters").fromMercuryParticipant(a))}});e.exports=c},null);
__d("MessengerInfoPanelSearchReact.re",["MessengerInfoPanelSearchReact.bs"],function(a,b,c,d,e,f){a=b("MessengerInfoPanelSearchReact.bs").handleSearchThread;f.handleSearchThread=a},null);
__d("MessengerPromotionDataDispatcher",["ExplicitRegistrationReactDispatcher"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{strict:!0})||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a()},null);
__d("MessengerPromotionDataActions",["MessengerPromotionDataDispatcher"],function(a,b,c,d,e,f){"use strict";a={setPromotionData:function(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_PROMOTION_DATA",promotionData:a})}};e.exports=a},null);
__d("MessengerDetailView.react",["cx","fbt","invariant","requireCond","Bootloader","BootloadOnRender.react","CurrentUser","CustomColorHighlighting.react","DataTransfer","EventReminderActions","EventRemindersGating","JSResource","LazyComponent.react","MercuryCanonicalGroupThreadStore","MercuryConfig","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MessengerActions","MessengerComposerContainer.react","MessengerComposerStore","MessengerConversation.react","MessengerConversationContainer.react","MessengerDeliveryReceipt.bs","MessengerDetailViewHeaderContainer.react","MessengerDomIDs.bs","MessengerDotComAndInboxM4Check.bs","MessengerErrorBoundary.react","MessengerGalahadGating.bs","MessengerParticipants.bs","MessengerPresenceStatusUtils","MessengerSettingsActions","MessengerSettingsStore","MessengerState.bs","MessengerThreadInfoPanelContainer.react","MessengerThreadSearchActions","MessengerThreadSearchStore","MessengerURIStore","MessengerView","Parent","PresenceStatus","React","SubscriptionsHandler","WorkChatAvailabilityStatusLoader","WorkChatRedesignedMessageListCheck.re","WorkGalahadSettings","compactArray","createReactClass_DEPRECATED","gkx","immutable","prop-types","WorkchatAppBridge","AvailableList","emptyFunction","ifRequired","joinClasses","lazyLoadComponent","cr:1186631","promiseDone","cr:895572","shallowCompare"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerDomIDs.bs").ids,k=b("React");b("WorkchatAppBridge").init();b("AvailableList");var l=b("lazyLoadComponent")(b("JSResource")("WorkChatGroupNameComposeViewHeader.react").__setRef("MessengerDetailView.react"));function m(a,c,d,e){if(!b("EventRemindersGating").shouldShowPlansOnMessengerCom)return null;if(!c)return null;return!a?null:k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerEventPlanContainer.react").__setRef("MessengerDetailView.react"),placeholder:k.jsx("div",{}),component:k.jsx(b("LazyComponent.react"),{threadID:c,participants:d,viewer:e})})}a=b("createReactClass_DEPRECATED")({displayName:"MessengerDetailView",_composer:void 0,_refsConversationContainer:null,_subscriptionsHandler:null,_participantSubscription:null,_userStatusLiveSubscription:null,_currentThreadIDForStatusSubscription:null,propTypes:{activeThread:b("prop-types").object,activeThreadID:b("prop-types").string,blockedIds:b("prop-types").any,deliveryReceipts:b("prop-types").object,messengerState:b("prop-types").array.isRequired,readReceipts:b("prop-types").any,view:b("prop-types").string,viewer:b("prop-types").string.isRequired,isWorkUser:b("prop-types").bool.isRequired,hostProps:b("prop-types").object,DetailViewHeaderComponent:b("prop-types").any.isRequired,hideGroupInfoInThreadInfoPanel:b("prop-types").bool,hideContextBanner:b("prop-types").bool,openPostComposerInSameWindow:b("prop-types").bool,suppressThreadInfoPanel:b("prop-types").bool,suppressSearchResults:b("prop-types").bool,bottomOffset:b("prop-types").number},calculateState:function(a,c){var d,e=this;c===void 0&&(c=!1);d=a.activeThreadID||((d=a.activeThread)==null?void 0:d.thread_id);var f=b("MessengerComposerStore").getState();if(a.view===b("MessengerView").DETAIL.COMPOSE){!f.recipients&&i(0,1840);var g=f.recipients;g.size===1?d=b("MercuryIDs").getThreadIDFromUserID(g.first().getUniqueID().toString()):g.size>1&&(d=b("MercuryCanonicalGroupThreadStore").getOrFetch(Array.from(g).map(function(a){return a.getUniqueID().toString()})))}g=this.props.activeThread;d&&!g&&(g=b("MessengerState.bs").getThreadMetaNow(a.viewer,d),!g&&!c&&b("MessengerState.bs").getThreadMeta(a.viewer,d,function(a){g=a}));c=b("immutable").Map();this._participantSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantSubscription);var h=g;if(h&&d){var j=h.participants;if(h.is_subscribed){var k=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);j=j.concat([k])}k=b("MessengerParticipants.bs").getMultiEagerMap(j,function(a){e._participantSubscription=null,e.setState({participants:a})});j=k[0];k=k[1];this._participantSubscription=k;c=j;if(b("EventRemindersGating").shouldShowPlansOnMessengerCom){k=h?h.lightweight_event:null;b("EventReminderActions").clearAllReminders(d);if(k){b("EventReminderActions").updateEventReminder(d,k);j=h.lightweight_events;if(j&&Object.keys(j).length>0)for(var l in j)b("EventReminderActions").updateEventReminder(d,j[l],l)}}}k=b("ifRequired")("MessengerUploadFilesStore",function(a){return a.getState()},function(){return b("immutable").Map({})});j=b("ifRequired")("MessengerSharePreviewStore",function(a){return a.getState()},function(){return b("immutable").Map({})});var m=b("ifRequired")("WorkChatContentAppStore",function(a){return a.getState()},function(){return b("immutable").Map({})});this._checkThreadUpdatedForStatusSubscription(h);return{infoPanelCollapsed:b("MessengerSettingsStore").getSettings().info_sidebar_collapsed,activeThreadID:d,composerState:f,messengerState:b("MessengerURIStore").getState(),contactData:b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(c,h),activeThread:h,participants:c,searchResults:b("MessengerThreadSearchStore").getState(),uploadFilesState:k,sharePreviewState:j,workChatContentAppsState:m,hideGroupInfoInThreadInfoPanel:!!a.hideGroupInfoInThreadInfoPanel,hideContextBanner:!!a.hideContextBanner,openPostComposerInSameWindow:!!a.openPostComposerInSameWindow}},getInitialState:function(){return babelHelpers["extends"]({dropTargetOverlayVisible:!1,isCreatingNewGroupChat:!1,newGroupName:""},this.calculateState(this.props,!0))},componentDidMount:function(){var a=this;this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscribeToSubscriptionsHandler([b("MessengerComposerStore"),b("MessengerSettingsStore"),b("MessengerURIStore"),b("MessengerThreadSearchStore"),b("MercuryCanonicalGroupThreadStore"),b("PresenceStatus")]);b("Bootloader").loadModules(["MessengerUploadFilesStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");b("Bootloader").loadModules(["MessengerSharePreviewStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){b=b.store;a._subscribeToSubscriptionsHandler([b]);a._checkThreadUpdatedForStatusSubscription(a.state.activeThread)});b("CurrentUser").isWorkUser()&&b("gkx")("1192386")&&b("Bootloader").loadModules(["WorkChatContentAppStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");this.setState(this.calculateState(this.props,!1))},_subscribeToSubscriptionsHandler:function(a){var b=this,c=function(){b.setState(b.calculateState(b.props,!1))},d=[];a.forEach(function(a){a.hasChanged&&a.getDispatchToken&&a.addListener?d.push(a.addListener(c)):a.subscribe?d.push(a.subscribe("change",c)):a.addListener?d.push(a.addListener("change",c)):i(0,574)});if(d.length>0){this._subscriptionsHandler&&(a=this._subscriptionsHandler).addSubscriptions.apply(a,d)}},shouldComponentUpdate:function(a,c){return b("shallowCompare")(this,a,c)},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release(),this._subscriptionsHandler=null,this._participantSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantSubscription)},UNSAFE_componentWillReceiveProps:function(a){this.setState(this.calculateState(a,!1)),this.props&&this.props.activeThreadID!==a.activeThreadID&&this._cancelReplyingToMessage(),this.setState(function(c){var d=b("MessengerComposerStore").getState();return a.view!==b("MessengerView").DETAIL.COMPOSE||d.recipients.size<2||c.newGroupName===""?{newGroupName:"",isCreatingNewGroupChat:!1}:{}})},_checkThreadUpdatedForStatusSubscription:function(a){if(!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return;var c=a==null?void 0:a.thread_id;if(this._currentThreadIDForStatusSubscription===c)return;var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),e=b("MercuryIDs").getUserIDFromThreadID(c);this._userStatusLiveSubscription!=null&&(this._userStatusLiveSubscription.dispose(),this._userStatusLiveSubscription=null);e!=null?(d.fetchUsersIfNeeded([e]),this._userStatusLiveSubscription=d.liveSubscribe(e)):a!=null&&b("gkx")("1222861")&&d.fetchUsersIfNeeded(b("compactArray")(a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)})));this._currentThreadIDForStatusSubscription=c},_renderMessageView:function(a){var c;this.state.activeThread&&(c=this.props.query==null?m(this.state.activeThread.lightweight_event,a,this.state.participants,this.props.viewer):null);return k.jsxs("div",{className:"_4_j4"+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj4":""),onClick:this._handleConversationClick,onDragEnter:this._showDropTargetOverlay,onDragLeave:this._hideDropTargetOverlay,onDragOver:this._showDropTargetOverlay,onDrop:this._handleDrop,role:"presentation",children:[this._renderGroupNameComposerHeader(),this._renderMainView(a),c,this._renderSearchView(a),this._renderFooterView(a),k.jsx("div",{className:(this.state.dropTargetOverlayVisible?"":"hidden_elem")+" _2fg6"}),this._renderUploadFiles(a)]})},render:function(){var a=this;if(this.props.view===b("MessengerView").DETAIL.GALLERY&&b("cr:1186631")!==null)return k.jsx(b("cr:1186631"),{});var c=this.state.activeThreadID,d=this.props.DetailViewHeaderComponent;if(this.props.hostProps&&this.props.hostProps.renderMinimal)return this._renderMessageView(c);else{var e=this._getMainLabelDetails();return k.jsxs("div",{"aria-labelledby":e.labelIDs,className:b("joinClasses")("_1t2u"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7sli":""),b("cr:895572")),role:"main",children:[k.jsxs("div",{className:"hidden_elem",id:j.MAIN_LABEL,children:[e.labelText," "]}),k.jsxs(b("CustomColorHighlighting.react"),{className:"_wsc",customColor:b("WorkChatRedesignedMessageListCheck.re").enabled?null:this.state.activeThread&&this.state.activeThread.solid_color,children:[k.jsx(d,{contactData:this.state.contactData,recipients:this.state.composerState.recipients,participants:this.state.participants,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,onResize:this._handleResize,onInfoPanelToggle:this._handleInfoPanelToggle,infoPanelCollapsed:this.state.infoPanelCollapsed,isWorkUser:this.props.isWorkUser,messengerState:this.props.messengerState,shouldShowCreateGroupButton:b("gkx")("836564")&&this.state.composerState.recipients.size>=2&&c&&!this.state.isCreatingNewGroupChat,onCreateGroupButtonClicked:function(){a.setState({newGroupName:"",isCreatingNewGroupChat:!0})}}),k.jsxs("div",{className:"_20bp",children:[this._renderInfoPanel(),this._renderMessageView(c)]})]})]})}},_renderUploadFiles:function(a){if(!a)return null;var c=this.state.sharePreviewState.get(a);return k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerDragAndDrop.react").__setRef("MessengerDetailView.react"),placeholder:k.jsx("div",{}),component:k.jsx(b("LazyComponent.react"),{threadID:a,sharePreview:c,onResize:this._handleResize})})},_renderSearchView:function(a){return b("WorkGalahadSettings").isGalahadEnabled?null:a&&!this.props.mid&&this.props.query!=null?k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerThreadSearchContainer.react").__setRef("MessengerDetailView.react"),placeholder:k.jsx("div",{className:"_33p7 _5iwm"}),component:k.jsx(b("LazyComponent.react"),{loading:this.state.searchResults.loading,query:this.state.searchResults.query,selectedIndex:this.state.searchResults.selectedIndex,totalCount:this.state.searchResults.totalCount})}):null},_renderGroupNameComposerHeader:function(){var a=this;return this._shouldShowGroupNameComposer()?k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(l,{autoFocus:!b("gkx")("836564")&&this.state.isCreatingNewGroupChat,onChange:function(b){a.setState({newGroupName:b})},onCloseButtonClick:function(){a.setState({isCreatingNewGroupChat:!1})},showCloseButton:this.state.isCreatingNewGroupChat})}):null},_assignConversationContainerRef:function(a){this._refsConversationContainer=a},_renderMainView:function(a){if(!a||this._shouldShowGroupNameComposer())return k.jsx("div",{className:"_1ut7"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":"")});var c=this.state.contactData?this.state.contactData.contact:null,d=this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,a):0;return this.state.searchResults.messages&&this.props.suppressSearchResults!==!0?k.jsx(b("MessengerErrorBoundary.react"),{component:"conversation",children:k.jsx(b("MessengerConversation.react"),{className:"_1wfr"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":""),contact:c,deliveryTimestamp:d,downExhausted:this.state.searchResults.downExhausted,fetchMessages:b("MessengerThreadSearchActions").getMoreSearchContext,onVoiceClipCreate:this.handleAudioUpload,innerClassName:"_1r_-",isCanonical:b("MercuryIDs").isCanonical(a),isLoaded:!0,isLoading:!1,messages:this.state.searchResults.messages,onRead:b("emptyFunction"),onReplyToMessage:this._handleReplyToMessage,readReceipts:this.props.readReceipts,thread:this.state.activeThread,threadID:a,upExhausted:this.state.searchResults.upExhausted,useManualFetch:!0,viewer:this.props.viewer,ref:this._assignConversationContainerRef,selectedMessage:this.state.searchResults.mid,scrolledToMid:this.state.searchResults.scrolledToMid,isSearchResult:!!this.state.searchResults.query,hideContextBanner:this.state.hideContextBanner})}):k.jsx(b("MessengerErrorBoundary.react"),{component:"conversation",children:k.jsx(b("MessengerConversationContainer.react"),{className:"_1wfr"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":""),contact:c,deliveryTimestamp:d,ignoredIds:b("MessengerState.bs").ignoredIds(this.props.messengerState),fbid:b("MessengerState.bs").fbid(this.props.messengerState),onVoiceClipCreate:this.handleAudioUpload,onMarkRead:this._handleMarkRead,onReplyToMessage:this._handleReplyToMessage,readReceipts:this.props.readReceipts,ref:this._assignConversationContainerRef,thread:this.state.activeThread,threadID:a,viewer:this.props.viewer,hideContextBanner:this.state.hideContextBanner,bottomOffset:this.props.bottomOffset})})},_renderFooterView:function(a){var c=this;return k.jsx(b("MessengerErrorBoundary.react"),{className:"_4rv3 _2pen",component:"composer",children:k.jsx(b("MessengerComposerContainer.react"),{canReply:!!(!this._shouldBlockReply()&&(this.props.view===b("MessengerView").DETAIL.COMPOSE||this.state.activeThread&&b("MercuryThreadInfo").canReply(this.state.activeThread)&&!b("MercuryConfig").ViewerIsReadOnly)),disableAutofocus:b("CurrentUser").isWorkUser()&&this.props.view===b("MessengerView").DETAIL.COMPOSE,fileUploader:this.state.uploadFilesState.get(a),onMount:function(a){return c._composer=a},onResize:this._handleResize,participants:this.state.participants,recipients:this.state.composerState.recipients,sharePreview:this.state.sharePreviewState.get(a),workChatContentApps:this.state.workChatContentAppsState.get(a),hostProps:this.props.hostProps,threadID:a,threadFBID:this.state.activeThread?this.state.activeThread.thread_fbid:null,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,replyingToMessage:this.state.replyingToMessage,onCancelReplyingToMessage:this._cancelReplyingToMessage,newGroupName:this.state.newGroupName,openPostComposerInSameWindow:this.state.openPostComposerInSameWindow})})},_renderInfoPanel:function(){var a=this.state,c=a.activeThread,d=a.contactData,e=a.infoPanelCollapsed,f=a.participants;a=a.hideGroupInfoInThreadInfoPanel;var g=this.props,h=g.view;g=g.suppressThreadInfoPanel;return g||!c||!f||h===b("MessengerView").DETAIL.COMPOSE?null:k.jsx("div",{className:(e?"hidden_elem":"")+" _4_j5","data-testid":void 0,children:k.jsx(b("MessengerErrorBoundary.react"),{className:"_4rv3",component:"conversation information",children:k.jsx(b("MessengerThreadInfoPanelContainer.react"),{blockedIds:this.props.blockedIds,className:"_4_j9",contactData:d,participants:f,thread:c,viewer:this.props.viewer,hideGroupInfoInThreadInfoPanel:a})})})},_getMainLabelDetails:function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE?{labelText:h._("New Message"),labelIDs:j.MAIN_LABEL}:{labelText:h._("Conversation with"),labelIDs:j.MAIN_LABEL+" "+j.THREAD_TITLE}},_handleConversationClick:function(a){var c=this.props.activeThreadID;if(c&&this._refsConversationContainer&&this._refsConversationContainer.isScrolledToBottom()){var d=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,c);d&&d.unread_count&&d.unread_count>0&&this._handleMarkRead(c)}if(window.getSelection().toString()!=="")return;d=a.target;if(d instanceof Node&&b("Parent").byTag(d,"a")!=null)return;c=this._getComposer();c&&c.focusInput()},handleAudioUpload:function(a){var b=this._getComposer();b!=null&&a!=null&&(b.handleAudioUpload(a),b.focusInput())},_showDropTargetOverlay:function(a){a&&a.preventDefault(),this.setState({dropTargetOverlayVisible:!0})},_hideDropTargetOverlay:function(a){a&&a.preventDefault();this.setState({dropTargetOverlayVisible:!1});a=this._getComposer();a&&a.resetDrag()},_handleDrop:function(a){this._hideDropTargetOverlay(a);var c=this._getComposer();if(!c)return;a.nativeEvent.dataTransfer instanceof Object||i(0,1841);var d=new(b("DataTransfer"))(a.nativeEvent.dataTransfer),e=d.getFiles(),f=this.state.activeThreadID;if(e.length){b("MessengerActions").prepareFilesForSend(f,a.nativeEvent.dataTransfer.files,"DragAndDrop");return}if(e.length)c.handleFileUpload(e);else{f=d.getText();f&&c.handleTextDropped(f)}},_handleResize:function(){var a=this._refsConversationContainer;a&&a.handleResize()},_handleInfoPanelToggle:function(){var a=!this.state.infoPanelCollapsed;this.setState({infoPanelCollapsed:a},function(){b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:a})})},_handleMarkRead:function(a){b("MercuryThreadActions").getForFBID(this.props.viewer).markRead(a)},_handleReplyToMessage:function(a){this.setState({replyingToMessage:a})},_cancelReplyingToMessage:function(){this.setState({replyingToMessage:null})},_shouldShowGroupNameComposer:function(){return!b("gkx")("836564")||this.props.view!==b("MessengerView").DETAIL.COMPOSE||this.state.composerState.recipients.size<2?!1:!this.state.activeThread||this.state.isCreatingNewGroupChat},_shouldBlockReply:function(){var a;return!!(((a=this.state.contactData)==null?void 0:(a=a.contact)==null?void 0:a.is_messenger_blocked)||b("MercuryConfig").ColdOpenBlock&&this.state.activeThread&&b("MercuryThreadInfo").isColdOpen(this.state.activeThread))},_getComposer:function(){return this._composer}});a.defaultProps={DetailViewHeaderComponent:b("MessengerDetailViewHeaderContainer.react")};e.exports=a},null);